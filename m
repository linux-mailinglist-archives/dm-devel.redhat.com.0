Return-Path: <dm-devel-bounces@redhat.com>
X-Original-To: lists+dm-devel@lfdr.de
Delivered-To: lists+dm-devel@lfdr.de
Received: from us-smtp-delivery-124.mimecast.com (us-smtp-delivery-124.mimecast.com [170.10.129.124])
	by mail.lfdr.de (Postfix) with ESMTPS id C94EC7AD180
	for <lists+dm-devel@lfdr.de>; Mon, 25 Sep 2023 09:22:13 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
	s=mimecast20190719; t=1695626532;
	h=from:from:sender:sender:reply-to:subject:subject:date:date:
	 message-id:message-id:to:to:cc:cc:mime-version:mime-version:
	 content-type:content-type:
	 content-transfer-encoding:content-transfer-encoding:
	 in-reply-to:in-reply-to:references:references:list-id:list-help:
	 list-unsubscribe:list-subscribe:list-post;
	bh=wCvtUNsmoL9BDXxOB9jkkuAuzN0gVBLKN9eGQJDzkoo=;
	b=O5uMZ593fpmRgQJjeFDpRMS5cAXQECUPg42kdAsHj0g1XGAxMVaDXaY3kyrBfRJNFyCl+e
	nCserHIjVIHBNLUvGElOdVIme+9XU2ioL6Q2SDxfoiSIQGSXc55gOKj4yzltqGYFbuXQwV
	JYC3iqOSFnTCwRdi1Rn9pRHGCNVh1gA=
Received: from mimecast-mx02.redhat.com (mx-ext.redhat.com [66.187.233.73])
 by relay.mimecast.com with ESMTP with STARTTLS (version=TLSv1.2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 us-mta-261-E3ub9udKN9-BJkxvbyb6lQ-1; Mon, 25 Sep 2023 03:22:10 -0400
X-MC-Unique: E3ub9udKN9-BJkxvbyb6lQ-1
Received: from smtp.corp.redhat.com (int-mx09.intmail.prod.int.rdu2.redhat.com [10.11.54.9])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by mimecast-mx02.redhat.com (Postfix) with ESMTPS id 91EE11C294AE;
	Mon, 25 Sep 2023 07:22:07 +0000 (UTC)
Received: from mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com [10.30.29.100])
	by smtp.corp.redhat.com (Postfix) with ESMTP id C8B52711294;
	Mon, 25 Sep 2023 07:22:03 +0000 (UTC)
Received: from mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (localhost [IPv6:::1])
	by mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (Postfix) with ESMTP id 3987119465B2;
	Mon, 25 Sep 2023 07:22:02 +0000 (UTC)
X-Original-To: dm-devel@listman.corp.redhat.com
Delivered-To: dm-devel@listman.corp.redhat.com
Received: from smtp.corp.redhat.com (int-mx09.intmail.prod.int.rdu2.redhat.com
 [10.11.54.9])
 by mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (Postfix) with
 ESMTP id 3DB49194658C
 for <dm-devel@listman.corp.redhat.com>; Mon, 25 Sep 2023 07:22:00 +0000 (UTC)
Received: by smtp.corp.redhat.com (Postfix)
 id 2B3E1711294; Mon, 25 Sep 2023 07:22:00 +0000 (UTC)
Delivered-To: dm-devel@redhat.com
Received: from mimecast-mx02.redhat.com
 (mimecast02.extmail.prod.ext.rdu2.redhat.com [10.11.55.18])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 22CD5711286
 for <dm-devel@redhat.com>; Mon, 25 Sep 2023 07:22:00 +0000 (UTC)
Received: from us-smtp-inbound-delivery-1.mimecast.com
 (us-smtp-delivery-1.mimecast.com [205.139.110.120])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mimecast-mx02.redhat.com (Postfix) with ESMTPS id 04E468007A4
 for <dm-devel@redhat.com>; Mon, 25 Sep 2023 07:22:00 +0000 (UTC)
Received: from mail-pf1-f200.google.com (mail-pf1-f200.google.com
 [209.85.210.200]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-618-b15TwnwoMw2uMnPuvlISnw-1; Mon, 25 Sep 2023 03:21:58 -0400
X-MC-Unique: b15TwnwoMw2uMnPuvlISnw-1
Received: by mail-pf1-f200.google.com with SMTP id
 d2e1a72fcca58-690bcc80694so6280932b3a.3
 for <dm-devel@redhat.com>; Mon, 25 Sep 2023 00:21:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1695626517; x=1696231317;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=gzztqiTccNd/WUIopmBC+PbliphbDEU0hH26bTuwFVE=;
 b=qlYnNnXvObR0NwjzPZYujPPflJdwMkwa+bTd4UEP0pIoaNTNQTNxtchMmxcRxDiadv
 XZcme9qPA4PgP8pniRbVI3Ac+5gXzoy3XOMHbbpaIzZyCUhXPjS0aW/FusEwfZo08Zt9
 Nh7JeTKHmShohYt30Qw+xoC2XuCPB5g89yN5I9EwXSdMCsjwmAksjrxL6R2OrwF16kAC
 3MQdWbDciBjFcMH0TKUaiXZgPD1zsU17dXLQEmoAKTbKML39AXVCGBP/9eHIZUpNISFT
 xfGGFSyDjz+gnT6qctUGof1c61DESicySHLYjKDhbz+wUuSXZjCXXbWDmw2nzF5Dj+jV
 QlZQ==
X-Gm-Message-State: AOJu0Yy9VwoxefLXA1hh2/s41iQh/dNcemte97cPJuhxNNhuubmrALN6
 9rtZTM1cmHuQIgpxvvfnuZgtsNa/TtHNn8hfBmbWRHK8J5V8Fv/U0w4AvBSb0Car7au0Kr0ZQ8H
 KUD3nNXV6ObGM+IXcZtEBGNsxcIshzZj7u8Y5VBzwgw==
X-Received: by 2002:a05:6a20:f392:b0:14d:396e:6e1c with SMTP id
 qr18-20020a056a20f39200b0014d396e6e1cmr3937741pzb.28.1695626517216; 
 Mon, 25 Sep 2023 00:21:57 -0700 (PDT)
X-Google-Smtp-Source: AGHT+IGJGOJfpxHnsNy6HUSrcPHkZKwrs+s1jrli3TQ1B3bFrk79pIC+NE3vVlCSfd8E9+GPVWsiNkvel8RS82ZzTfM=
X-Received: by 2002:a05:6a20:f392:b0:14d:396e:6e1c with SMTP id
 qr18-20020a056a20f39200b0014d396e6e1cmr3937728pzb.28.1695626516919; Mon, 25
 Sep 2023 00:21:56 -0700 (PDT)
MIME-Version: 1.0
References: <20230828020021.2489641-1-yukuai1@huaweicloud.com>
 <20230828020021.2489641-4-yukuai1@huaweicloud.com>
In-Reply-To: <20230828020021.2489641-4-yukuai1@huaweicloud.com>
From: Xiao Ni <xni@redhat.com>
Date: Mon, 25 Sep 2023 15:21:45 +0800
Message-ID: <CALTww2-5F=C5N6YZ-3weD9xSWhpT6Mx8NkaevfXZWqR6=Bwc4A@mail.gmail.com>
To: Yu Kuai <yukuai1@huaweicloud.com>
X-Scanned-By: MIMEDefang 3.1 on 10.11.54.9
Subject: Re: [dm-devel] [PATCH -next v2 03/28] md: add new helpers to
 suspend/resume array
X-BeenThere: dm-devel@redhat.com
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: device-mapper development <dm-devel.redhat.com>
List-Unsubscribe: <https://listman.redhat.com/mailman/options/dm-devel>,
 <mailto:dm-devel-request@redhat.com?subject=unsubscribe>
List-Archive: <http://listman.redhat.com/archives/dm-devel/>
List-Post: <mailto:dm-devel@redhat.com>
List-Help: <mailto:dm-devel-request@redhat.com?subject=help>
List-Subscribe: <https://listman.redhat.com/mailman/listinfo/dm-devel>,
 <mailto:dm-devel-request@redhat.com?subject=subscribe>
Cc: yi.zhang@huawei.com, yangerkun@huawei.com, snitzer@kernel.org,
 linux-kernel@vger.kernel.org, linux-raid@vger.kernel.org, song@kernel.org,
 dm-devel@redhat.com, yukuai3@huawei.com, agk@redhat.com
Errors-To: dm-devel-bounces@redhat.com
Sender: "dm-devel" <dm-devel-bounces@redhat.com>
X-Scanned-By: MIMEDefang 3.1 on 10.11.54.9
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

T24gTW9uLCBBdWcgMjgsIDIwMjMgYXQgMTA6MDTigK9BTSBZdSBLdWFpIDx5dWt1YWkxQGh1YXdl
aWNsb3VkLmNvbT4gd3JvdGU6Cj4KPiBGcm9tOiBZdSBLdWFpIDx5dWt1YWkzQGh1YXdlaS5jb20+
Cj4KPiBBZHZhbnRhZ2VzIGZvciBuZXcgYXBpczoKPiAgLSByZWNvbmZpZ19tdXRleCBpcyBub3Qg
cmVxdWlyZWQ7Cj4gIC0gdGhlIHdlaXJkIGxvZ2ljYWwgdGhhdCBzdXNwZW5kIGFycmF5IGhvbGQg
J3JlY29uZmlnX211dGV4JyBmb3IKPiAgICBtZGRldl9jaGVja19yZWNvdmVyeSgpIHRvIHVwZGF0
ZSBzdXBlcmJsb2NrIGlzIG5vdCBuZWVkZWQ7Cj4gIC0gdGhlIHNwZWNhaWwgaGFuZGxpbmcsICdw
ZXJzLT5wcmVwYXJlX3N1c3BlbmQnLCBmb3IgcmFpZDQ1NiBpcyBub3QKPiAgICBuZWVkZWQ7Cj4g
IC0gSXQncyBzYWZlIHRvIGJlIGNhbGxlZCBhdCBhbnkgdGltZSBvbmNlIG1kZGV2IGlzIGFsbG9j
YXRlZCwgYW5kIGl0J3MKPiAgICBkZXNpZ25lZCB0byBiZSB1c2VkIGZyb20gc2xvdyBwYXRoIHdo
ZXJlIGFycmF5IGNvbmZpZ3VyYXRpb24gaXMgY2hhbmdlZDsKPgo+IFNpZ25lZC1vZmYtYnk6IFl1
IEt1YWkgPHl1a3VhaTNAaHVhd2VpLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9tZC9tZC5jIHwgODUg
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLQo+ICBkcml2
ZXJzL21kL21kLmggfCAgMyArKwo+ICAyIGZpbGVzIGNoYW5nZWQsIDg2IGluc2VydGlvbnMoKyks
IDIgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZC9tZC5jIGIvZHJpdmVy
cy9tZC9tZC5jCj4gaW5kZXggN2ZhMzExYTE0MzE3Li42MjM2ZTJlMzk1YzEgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9tZC9tZC5jCj4gKysrIGIvZHJpdmVycy9tZC9tZC5jCj4gQEAgLTQ0MywxMiAr
NDQzLDIyIEBAIHZvaWQgbWRkZXZfc3VzcGVuZChzdHJ1Y3QgbWRkZXYgKm1kZGV2KQo+ICAgICAg
ICAgICAgICAgICAgICAgICAgIGxvY2tkZXBfaXNfaGVsZCgmbWRkZXYtPnJlY29uZmlnX211dGV4
KSk7Cj4KPiAgICAgICAgIFdBUk5fT05fT05DRSh0aHJlYWQgJiYgY3VycmVudCA9PSB0aHJlYWQt
PnRzayk7Cj4gLSAgICAgICBpZiAobWRkZXYtPnN1c3BlbmRlZCsrKQo+ICsKPiArICAgICAgIC8q
IGNhbid0IGNvbmN1cnJlbnQgd2l0aCBfX21kZGV2X3N1c3BlbmQoKSBhbmQgX19tZGRldl9yZXN1
bWUoKSAqLwo+ICsgICAgICAgbXV0ZXhfbG9jaygmbWRkZXYtPnN1c3BlbmRfbXV0ZXgpOwo+ICsg
ICAgICAgaWYgKG1kZGV2LT5zdXNwZW5kZWQrKykgewo+ICsgICAgICAgICAgICAgICBtdXRleF91
bmxvY2soJm1kZGV2LT5zdXNwZW5kX211dGV4KTsKPiAgICAgICAgICAgICAgICAgcmV0dXJuOwo+
ICsgICAgICAgfQo+ICsKPiAgICAgICAgIHdha2VfdXAoJm1kZGV2LT5zYl93YWl0KTsKPiAgICAg
ICAgIHNldF9iaXQoTURfQUxMT1dfU0JfVVBEQVRFLCAmbWRkZXYtPmZsYWdzKTsKPiAgICAgICAg
IHBlcmNwdV9yZWZfa2lsbCgmbWRkZXYtPmFjdGl2ZV9pbyk7Cj4KPiArICAgICAgIC8qCj4gKyAg
ICAgICAgKiBUT0RPOiBjbGVhbnVwICdwZXJzLT5wcmVwYXJlX3N1c3BlbmQgYWZ0ZXIgYWxsIGNh
bGxlcnMgYXJlIHJlcGxhY2VkCj4gKyAgICAgICAgKiBieSBfX21kZGV2X3N1c3BlbmQoKS4KPiAr
ICAgICAgICAqLwo+ICAgICAgICAgaWYgKG1kZGV2LT5wZXJzICYmIG1kZGV2LT5wZXJzLT5wcmVw
YXJlX3N1c3BlbmQpCj4gICAgICAgICAgICAgICAgIG1kZGV2LT5wZXJzLT5wcmVwYXJlX3N1c3Bl
bmQobWRkZXYpOwo+Cj4gQEAgLTQ1OSwxNCArNDY5LDIxIEBAIHZvaWQgbWRkZXZfc3VzcGVuZChz
dHJ1Y3QgbWRkZXYgKm1kZGV2KQo+ICAgICAgICAgZGVsX3RpbWVyX3N5bmMoJm1kZGV2LT5zYWZl
bW9kZV90aW1lcik7Cj4gICAgICAgICAvKiByZXN0cmljdCBtZW1vcnkgcmVjbGFpbSBJL08gZHVy
aW5nIHJhaWQgYXJyYXkgaXMgc3VzcGVuZCAqLwo+ICAgICAgICAgbWRkZXYtPm5vaW9fZmxhZyA9
IG1lbWFsbG9jX25vaW9fc2F2ZSgpOwo+ICsKPiArICAgICAgIG11dGV4X3VubG9jaygmbWRkZXYt
PnN1c3BlbmRfbXV0ZXgpOwo+ICB9Cj4gIEVYUE9SVF9TWU1CT0xfR1BMKG1kZGV2X3N1c3BlbmQp
Owo+Cj4gIHZvaWQgbWRkZXZfcmVzdW1lKHN0cnVjdCBtZGRldiAqbWRkZXYpCj4gIHsKPiAgICAg
ICAgIGxvY2tkZXBfYXNzZXJ0X2hlbGQoJm1kZGV2LT5yZWNvbmZpZ19tdXRleCk7Cj4gLSAgICAg
ICBpZiAoLS1tZGRldi0+c3VzcGVuZGVkKQo+ICsKPiArICAgICAgIC8qIGNhbid0IGNvbmN1cnJl
bnQgd2l0aCBfX21kZGV2X3N1c3BlbmQoKSBhbmQgX19tZGRldl9yZXN1bWUoKSAqLwo+ICsgICAg
ICAgbXV0ZXhfbG9jaygmbWRkZXYtPnN1c3BlbmRfbXV0ZXgpOwo+ICsgICAgICAgaWYgKC0tbWRk
ZXYtPnN1c3BlbmRlZCkgewo+ICsgICAgICAgICAgICAgICBtdXRleF91bmxvY2soJm1kZGV2LT5z
dXNwZW5kX211dGV4KTsKPiAgICAgICAgICAgICAgICAgcmV0dXJuOwo+ICsgICAgICAgfQo+Cj4g
ICAgICAgICAvKiBlbnRyZWQgdGhlIG1lbWFsbG9jIHNjb3BlIGZyb20gbWRkZXZfc3VzcGVuZCgp
ICovCj4gICAgICAgICBtZW1hbGxvY19ub2lvX3Jlc3RvcmUobWRkZXYtPm5vaW9fZmxhZyk7Cj4g
QEAgLTQ3Nyw5ICs0OTQsNzIgQEAgdm9pZCBtZGRldl9yZXN1bWUoc3RydWN0IG1kZGV2ICptZGRl
dikKPiAgICAgICAgIHNldF9iaXQoTURfUkVDT1ZFUllfTkVFREVELCAmbWRkZXYtPnJlY292ZXJ5
KTsKPiAgICAgICAgIG1kX3dha2V1cF90aHJlYWQobWRkZXYtPnRocmVhZCk7Cj4gICAgICAgICBt
ZF93YWtldXBfdGhyZWFkKG1kZGV2LT5zeW5jX3RocmVhZCk7IC8qIHBvc3NpYmx5IGtpY2sgb2Zm
IGEgcmVzaGFwZSAqLwo+ICsKPiArICAgICAgIG11dGV4X3VubG9jaygmbWRkZXYtPnN1c3BlbmRf
bXV0ZXgpOwo+ICB9Cj4gIEVYUE9SVF9TWU1CT0xfR1BMKG1kZGV2X3Jlc3VtZSk7Cj4KPiArdm9p
ZCBfX21kZGV2X3N1c3BlbmQoc3RydWN0IG1kZGV2ICptZGRldikKPiArewo+ICsKPiArICAgICAg
IC8qCj4gKyAgICAgICAgKiBob2xkIHJlY29uZmlnX211dGV4IHRvIHdhaXQgZm9yIG5vcm1hbCBp
byB3aWxsIGRlYWRsb2NrLCBiZWNhdXNlCj4gKyAgICAgICAgKiBvdGhlciBjb250ZXh0IGNhbid0
IHVwZGF0ZSBzdXBlcl9ibG9jaywgYW5kIG5vcm1hbCBpbyBjYW4gcmVseSBvbgo+ICsgICAgICAg
ICogdXBkYXRpbmcgc3VwZXJfYmxvY2suCj4gKyAgICAgICAgKi8KPiArICAgICAgIGxvY2tkZXBf
YXNzZXJ0X25vdF9oZWxkKCZtZGRldi0+cmVjb25maWdfbXV0ZXgpOwo+ICsKPiArICAgICAgIG11
dGV4X2xvY2soJm1kZGV2LT5zdXNwZW5kX211dGV4KTsKPiArCj4gKyAgICAgICBpZiAobWRkZXYt
PnN1c3BlbmRlZCkgewo+ICsgICAgICAgICAgICAgICBXUklURV9PTkNFKG1kZGV2LT5zdXNwZW5k
ZWQsIG1kZGV2LT5zdXNwZW5kZWQgKyAxKTsKPiArICAgICAgICAgICAgICAgbXV0ZXhfdW5sb2Nr
KCZtZGRldi0+c3VzcGVuZF9tdXRleCk7Cj4gKyAgICAgICAgICAgICAgIHJldHVybjsKPiArICAg
ICAgIH0KPiArCj4gKyAgICAgICBwZXJjcHVfcmVmX2tpbGwoJm1kZGV2LT5hY3RpdmVfaW8pOwo+
ICsgICAgICAgd2FpdF9ldmVudChtZGRldi0+c2Jfd2FpdCwgcGVyY3B1X3JlZl9pc196ZXJvKCZt
ZGRldi0+YWN0aXZlX2lvKSk7Cj4gKwo+ICsgICAgICAgLyoKPiArICAgICAgICAqIEZvciByYWlk
NDU2LCBpbyBtaWdodCBiZSB3YWl0aW5nIGZvciByZXNoYXBlIHRvIG1ha2UgcHJvZ3Jlc3MsCj4g
KyAgICAgICAgKiBhbGxvdyBuZXcgcmVzaGFwZSB0byBzdGFydCB3aGlsZSB3YWl0aW5nIGZvciBp
byB0byBiZSBkb25lIHRvCj4gKyAgICAgICAgKiBwcmV2ZW50IGRlYWRsb2NrLgo+ICsgICAgICAg
ICovCj4gKyAgICAgICBXUklURV9PTkNFKG1kZGV2LT5zdXNwZW5kZWQsIG1kZGV2LT5zdXNwZW5k
ZWQgKyAxKTsKCkl0IGNoYW5nZXMgdGhlIG9yZGVyIG9mIHNldHRpbmcgc3VzcGVuZGVkIGFuZCBj
aGVja2luZyBhY3RpdmVfaW8uCnN1c3BlbmRlZCBpcyB1c2VkIHRvIHN0b3AgSS9PLiBOb3cgaXQg
Y2hlY2tzIGFjdGl2ZV9pbyBmaXJzdCBhbmQgdGhlbgphZGRzIHN1c3BlbmRlZCwgaWYgdGhlIGkv
byBkb2Vzbid0IHN0b3AsIGl0IGxvb2tzIGxpa2UgYWN0aXZlX2lvIGNhbid0CmJlIDAuIFNvIGl0
IHdpbGwgc3R1Y2sgYXQgd2FpdGluZyBhY3RpdmVfaW8gdG8gYmUgMD8KCkJlc3QgUmVnYXJkcwpY
aWFvCgo+ICsKPiArICAgICAgIGRlbF90aW1lcl9zeW5jKCZtZGRldi0+c2FmZW1vZGVfdGltZXIp
Owo+ICsgICAgICAgLyogcmVzdHJpY3QgbWVtb3J5IHJlY2xhaW0gSS9PIGR1cmluZyByYWlkIGFy
cmF5IGlzIHN1c3BlbmQgKi8KPiArICAgICAgIG1kZGV2LT5ub2lvX2ZsYWcgPSBtZW1hbGxvY19u
b2lvX3NhdmUoKTsKPiArCj4gKyAgICAgICBtdXRleF91bmxvY2soJm1kZGV2LT5zdXNwZW5kX211
dGV4KTsKPiArfQo+ICtFWFBPUlRfU1lNQk9MX0dQTChfX21kZGV2X3N1c3BlbmQpOwo+ICsKPiAr
dm9pZCBfX21kZGV2X3Jlc3VtZShzdHJ1Y3QgbWRkZXYgKm1kZGV2KQo+ICt7Cj4gKyAgICAgICBs
b2NrZGVwX2Fzc2VydF9ub3RfaGVsZCgmbWRkZXYtPnJlY29uZmlnX211dGV4KTsKPiArCj4gKyAg
ICAgICBtdXRleF9sb2NrKCZtZGRldi0+c3VzcGVuZF9tdXRleCk7Cj4gKyAgICAgICBXUklURV9P
TkNFKG1kZGV2LT5zdXNwZW5kZWQsIG1kZGV2LT5zdXNwZW5kZWQgLSAxKTsKPiArICAgICAgIGlm
IChtZGRldi0+c3VzcGVuZGVkKSB7Cj4gKyAgICAgICAgICAgICAgIG11dGV4X3VubG9jaygmbWRk
ZXYtPnN1c3BlbmRfbXV0ZXgpOwo+ICsgICAgICAgICAgICAgICByZXR1cm47Cj4gKyAgICAgICB9
Cj4gKwo+ICsgICAgICAgLyogZW50cmVkIHRoZSBtZW1hbGxvYyBzY29wZSBmcm9tIF9fbWRkZXZf
c3VzcGVuZCgpICovCj4gKyAgICAgICBtZW1hbGxvY19ub2lvX3Jlc3RvcmUobWRkZXYtPm5vaW9f
ZmxhZyk7Cj4gKwo+ICsgICAgICAgcGVyY3B1X3JlZl9yZXN1cnJlY3QoJm1kZGV2LT5hY3RpdmVf
aW8pOwo+ICsgICAgICAgd2FrZV91cCgmbWRkZXYtPnNiX3dhaXQpOwo+ICsKPiArICAgICAgIHNl
dF9iaXQoTURfUkVDT1ZFUllfTkVFREVELCAmbWRkZXYtPnJlY292ZXJ5KTsKPiArICAgICAgIG1k
X3dha2V1cF90aHJlYWQobWRkZXYtPnRocmVhZCk7Cj4gKyAgICAgICBtZF93YWtldXBfdGhyZWFk
KG1kZGV2LT5zeW5jX3RocmVhZCk7IC8qIHBvc3NpYmx5IGtpY2sgb2ZmIGEgcmVzaGFwZSAqLwo+
ICsKPiArICAgICAgIG11dGV4X3VubG9jaygmbWRkZXYtPnN1c3BlbmRfbXV0ZXgpOwo+ICt9Cj4g
K0VYUE9SVF9TWU1CT0xfR1BMKF9fbWRkZXZfcmVzdW1lKTsKPiArCj4gIC8qCj4gICAqIEdlbmVy
aWMgZmx1c2ggaGFuZGxpbmcgZm9yIG1kCj4gICAqLwo+IEBAIC02NjcsNiArNzQ3LDcgQEAgaW50
IG1kZGV2X2luaXQoc3RydWN0IG1kZGV2ICptZGRldikKPiAgICAgICAgIG11dGV4X2luaXQoJm1k
ZGV2LT5vcGVuX211dGV4KTsKPiAgICAgICAgIG11dGV4X2luaXQoJm1kZGV2LT5yZWNvbmZpZ19t
dXRleCk7Cj4gICAgICAgICBtdXRleF9pbml0KCZtZGRldi0+c3luY19tdXRleCk7Cj4gKyAgICAg
ICBtdXRleF9pbml0KCZtZGRldi0+c3VzcGVuZF9tdXRleCk7Cj4gICAgICAgICBtdXRleF9pbml0
KCZtZGRldi0+Yml0bWFwX2luZm8ubXV0ZXgpOwo+ICAgICAgICAgSU5JVF9MSVNUX0hFQUQoJm1k
ZGV2LT5kaXNrcyk7Cj4gICAgICAgICBJTklUX0xJU1RfSEVBRCgmbWRkZXYtPmFsbF9tZGRldnMp
Owo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL21kL21kLmggYi9kcml2ZXJzL21kL21kLmgKPiBpbmRl
eCBmYjNiMTIzZjE2ZGQuLjExMDNlNmIwOGFkOSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL21kL21k
LmgKPiArKysgYi9kcml2ZXJzL21kL21kLmgKPiBAQCAtMzE2LDYgKzMxNiw3IEBAIHN0cnVjdCBt
ZGRldiB7Cj4gICAgICAgICB1bnNpZ25lZCBsb25nICAgICAgICAgICAgICAgICAgIHNiX2ZsYWdz
Owo+Cj4gICAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbmRlZDsK
PiArICAgICAgIHN0cnVjdCBtdXRleCAgICAgICAgICAgICAgICAgICAgc3VzcGVuZF9tdXRleDsK
PiAgICAgICAgIHN0cnVjdCBwZXJjcHVfcmVmICAgICAgICAgICAgICAgYWN0aXZlX2lvOwo+ICAg
ICAgICAgaW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBybzsKPiAgICAgICAgIGludCAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzZnNfYWN0aXZlOyAvKiBzZXQgd2hlbiBzeXNm
cyBkZWxldGVzCj4gQEAgLTgxMSw2ICs4MTIsOCBAQCBleHRlcm4gdm9pZCBtZF9yZGV2X2NsZWFy
KHN0cnVjdCBtZF9yZGV2ICpyZGV2KTsKPiAgZXh0ZXJuIHZvaWQgbWRfaGFuZGxlX3JlcXVlc3Qo
c3RydWN0IG1kZGV2ICptZGRldiwgc3RydWN0IGJpbyAqYmlvKTsKPiAgZXh0ZXJuIHZvaWQgbWRk
ZXZfc3VzcGVuZChzdHJ1Y3QgbWRkZXYgKm1kZGV2KTsKPiAgZXh0ZXJuIHZvaWQgbWRkZXZfcmVz
dW1lKHN0cnVjdCBtZGRldiAqbWRkZXYpOwo+ICtleHRlcm4gdm9pZCBfX21kZGV2X3N1c3BlbmQo
c3RydWN0IG1kZGV2ICptZGRldik7Cj4gK2V4dGVybiB2b2lkIF9fbWRkZXZfcmVzdW1lKHN0cnVj
dCBtZGRldiAqbWRkZXYpOwo+Cj4gIGV4dGVybiB2b2lkIG1kX3JlbG9hZF9zYihzdHJ1Y3QgbWRk
ZXYgKm1kZGV2LCBpbnQgcmFpZF9kaXNrKTsKPiAgZXh0ZXJuIHZvaWQgbWRfdXBkYXRlX3NiKHN0
cnVjdCBtZGRldiAqbWRkZXYsIGludCBmb3JjZSk7Cj4gLS0KPiAyLjM5LjIKPgoKLS0KZG0tZGV2
ZWwgbWFpbGluZyBsaXN0CmRtLWRldmVsQHJlZGhhdC5jb20KaHR0cHM6Ly9saXN0bWFuLnJlZGhh
dC5jb20vbWFpbG1hbi9saXN0aW5mby9kbS1kZXZlbAo=

