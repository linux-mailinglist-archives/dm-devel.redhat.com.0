Return-Path: <dm-devel-bounces@redhat.com>
X-Original-To: lists+dm-devel@lfdr.de
Delivered-To: lists+dm-devel@lfdr.de
Received: from us-smtp-delivery-1.mimecast.com (us-smtp-1.mimecast.com [205.139.110.61])
	by mail.lfdr.de (Postfix) with ESMTP id 2859E1E0821
	for <lists+dm-devel@lfdr.de>; Mon, 25 May 2020 09:43:22 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
	s=mimecast20190719; t=1590392601;
	h=from:from:sender:sender:reply-to:subject:subject:date:date:
	 message-id:message-id:to:to:cc:cc:mime-version:mime-version:
	 content-type:content-type:
	 content-transfer-encoding:content-transfer-encoding:
	 in-reply-to:in-reply-to:references:references:list-id:list-help:
	 list-unsubscribe:list-subscribe:list-post;
	bh=o+1guoITJE6R8RcwMyXkmYC6QcCJqG5wUVARxF2jeTg=;
	b=C9Wt0GRE0UDuxd+3gbcogmT4hEBsRWsgQ2pKX9lyUUuedB3j0O/ckLovL0AgFG79coQwQl
	LgVhQsy5VL44721OERwlA8d8/QtINrpkX6bUkgD9JxwXpluMWUZ7HV9qEuRE4ViBJhMOQ+
	ER6Q/FENqHoqo/GXjX+UwuAHHbwBsMo=
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-414-gZSljEr7OQSmR7XkluS2aw-1; Mon, 25 May 2020 03:43:18 -0400
X-MC-Unique: gZSljEr7OQSmR7XkluS2aw-1
Received: from smtp.corp.redhat.com (int-mx07.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mimecast-mx01.redhat.com (Postfix) with ESMTPS id A2DAD1855A01;
	Mon, 25 May 2020 07:43:13 +0000 (UTC)
Received: from colo-mx.corp.redhat.com (colo-mx02.intmail.prod.int.phx2.redhat.com [10.5.11.21])
	by smtp.corp.redhat.com (Postfix) with ESMTPS id 2023810013D6;
	Mon, 25 May 2020 07:43:13 +0000 (UTC)
Received: from lists01.pubmisc.prod.ext.phx2.redhat.com (lists01.pubmisc.prod.ext.phx2.redhat.com [10.5.19.33])
	by colo-mx.corp.redhat.com (Postfix) with ESMTP id C151D7CCC5;
	Mon, 25 May 2020 07:43:11 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.rdu2.redhat.com
	[10.11.54.6])
	by lists01.pubmisc.prod.ext.phx2.redhat.com (8.13.8/8.13.8) with ESMTP
	id 04P7h80I023234 for <dm-devel@listman.util.phx.redhat.com>;
	Mon, 25 May 2020 03:43:08 -0400
Received: by smtp.corp.redhat.com (Postfix)
	id 340FA2157F26; Mon, 25 May 2020 07:43:08 +0000 (UTC)
Delivered-To: dm-devel@redhat.com
Received: from mimecast-mx02.redhat.com
	(mimecast04.extmail.prod.ext.rdu2.redhat.com [10.11.55.20])
	by smtp.corp.redhat.com (Postfix) with ESMTPS id 26FCC2157F24
	for <dm-devel@redhat.com>; Mon, 25 May 2020 07:43:05 +0000 (UTC)
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
	[205.139.110.120])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-SHA384 (256/256 bits))
	(No client certificate requested)
	by mimecast-mx02.redhat.com (Postfix) with ESMTPS id CFAAF101A525
	for <dm-devel@redhat.com>; Mon, 25 May 2020 07:43:04 +0000 (UTC)
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15]) (Using TLS) by
	relay.mimecast.com with ESMTP id us-mta-42-3c7MEwpXNui5MlhPMuXvww-1;
	Mon, 25 May 2020 03:43:02 -0400
X-MC-Unique: 3c7MEwpXNui5MlhPMuXvww-1
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
	by mx2.suse.de (Postfix) with ESMTP id BF3C5B1A2;
	Mon, 25 May 2020 07:43:03 +0000 (UTC)
To: Damien Le Moal <Damien.LeMoal@wdc.com>
References: <20200522153901.133375-1-hare@suse.de>
	<20200522153901.133375-6-hare@suse.de>
	<CY4PR04MB3751F2F2D710C79DD0DD33ADE7B30@CY4PR04MB3751.namprd04.prod.outlook.com>
From: Hannes Reinecke <hare@suse.de>
Message-ID: <bbb041f4-5f6f-0af5-5ae3-05b78af0acb1@suse.de>
Date: Mon, 25 May 2020 09:42:59 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
	Thunderbird/68.7.0
MIME-Version: 1.0
In-Reply-To: <CY4PR04MB3751F2F2D710C79DD0DD33ADE7B30@CY4PR04MB3751.namprd04.prod.outlook.com>
Content-Language: en-US
X-Scanned-By: MIMEDefang 2.78 on 10.11.54.6
X-MIME-Autoconverted: from quoted-printable to 8bit by
	lists01.pubmisc.prod.ext.phx2.redhat.com id 04P7h80I023234
X-loop: dm-devel@redhat.com
Cc: "dm-devel@redhat.com" <dm-devel@redhat.com>,
	Mike Snitzer <snitzer@redhat.com>
Subject: Re: [dm-devel] [PATCH 05/12] dm-zoned: add device pointer to struct
	dm_zone
X-BeenThere: dm-devel@redhat.com
X-Mailman-Version: 2.1.12
Precedence: junk
List-Id: device-mapper development <dm-devel.redhat.com>
List-Unsubscribe: <https://www.redhat.com/mailman/options/dm-devel>,
	<mailto:dm-devel-request@redhat.com?subject=unsubscribe>
List-Archive: <https://www.redhat.com/archives/dm-devel>
List-Post: <mailto:dm-devel@redhat.com>
List-Help: <mailto:dm-devel-request@redhat.com?subject=help>
List-Subscribe: <https://www.redhat.com/mailman/listinfo/dm-devel>,
	<mailto:dm-devel-request@redhat.com?subject=subscribe>
Sender: dm-devel-bounces@redhat.com
Errors-To: dm-devel-bounces@redhat.com
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.22
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Content-Transfer-Encoding: base64

T24gNS8yNS8yMCA0OjE1IEFNLCBEYW1pZW4gTGUgTW9hbCB3cm90ZToKPiBPbiAyMDIwLzA1LzIz
IDA6MzksIEhhbm5lcyBSZWluZWNrZSB3cm90ZToKPj4gQWRkIGEgcG9pbnRlciB0byB0aGUgY29u
dGFpbmluZyBkZXZpY2UgdG8gc3RydWN0IGRtX3pvbmUgYW5kCj4+IGtpbGwgZG16X3pvbmVfdG9f
ZGV2KCkuCj4+Cj4+IFNpZ25lZC1vZmYtYnk6IEhhbm5lcyBSZWluZWNrZSA8aGFyZUBzdXNlLmRl
Pgo+PiAtLS0KPj4gICBkcml2ZXJzL21kL2RtLXpvbmVkLW1ldGFkYXRhLmMgfCA0NyArKysrKysr
KysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPj4gICBkcml2ZXJzL21kL2RtLXpv
bmVkLXJlY2xhaW0uYyAgfCAxOCArKysrKysrLS0tLS0tLS0tCj4+ICAgZHJpdmVycy9tZC9kbS16
b25lZC10YXJnZXQuYyAgIHwgIDcgKysrLS0tLQo+PiAgIGRyaXZlcnMvbWQvZG0tem9uZWQuaCAg
ICAgICAgICB8ICA0ICsrKy0KPj4gICA0IGZpbGVzIGNoYW5nZWQsIDI2IGluc2VydGlvbnMoKyks
IDUwIGRlbGV0aW9ucygtKQo+Pgo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZC9kbS16b25lZC1t
ZXRhZGF0YS5jIGIvZHJpdmVycy9tZC9kbS16b25lZC1tZXRhZGF0YS5jCj4+IGluZGV4IGZkYWU0
ZTAyMjhlNy4uN2I2ZTc0MDRmMWU4IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL21kL2RtLXpvbmVk
LW1ldGFkYXRhLmMKPj4gKysrIGIvZHJpdmVycy9tZC9kbS16b25lZC1tZXRhZGF0YS5jCj4+IEBA
IC0yMjksMTYgKzIyOSwxMCBAQCBzdHJ1Y3QgZG16X21ldGFkYXRhIHsKPj4gICAgKi8KPj4gICBz
dGF0aWMgdW5zaWduZWQgaW50IGRtel9kZXZfem9uZV9pZChzdHJ1Y3QgZG16X21ldGFkYXRhICp6
bWQsIHN0cnVjdCBkbV96b25lICp6b25lKQo+PiAgIHsKPj4gLQl1bnNpZ25lZCBpbnQgem9uZV9p
ZDsKPj4gLQo+PiAgIAlpZiAoV0FSTl9PTighem9uZSkpCj4+ICAgCQlyZXR1cm4gMDsKPj4gICAK
Pj4gLQl6b25lX2lkID0gem9uZS0+aWQ7Cj4+IC0JaWYgKHptZC0+bnJfZGV2cyA+IDEgJiYKPj4g
LQkgICAgKHpvbmVfaWQgPj0gem1kLT5kZXZbMV0uem9uZV9vZmZzZXQpKQo+PiAtCQl6b25lX2lk
IC09IHptZC0+ZGV2WzFdLnpvbmVfb2Zmc2V0Owo+PiAtCXJldHVybiB6b25lX2lkOwo+PiArCXJl
dHVybiB6b25lLT5pZCAtIHpvbmUtPmRldi0+em9uZV9vZmZzZXQ7Cj4+ICAgfQo+PiAgIAo+PiAg
IHNlY3Rvcl90IGRtel9zdGFydF9zZWN0KHN0cnVjdCBkbXpfbWV0YWRhdGEgKnptZCwgc3RydWN0
IGRtX3pvbmUgKnpvbmUpCj4+IEBAIC0yNTUsMTggKzI0OSw2IEBAIHNlY3Rvcl90IGRtel9zdGFy
dF9ibG9jayhzdHJ1Y3QgZG16X21ldGFkYXRhICp6bWQsIHN0cnVjdCBkbV96b25lICp6b25lKQo+
PiAgIAlyZXR1cm4gKHNlY3Rvcl90KXpvbmVfaWQgPDwgem1kLT56b25lX25yX2Jsb2Nrc19zaGlm
dDsKPj4gICB9Cj4+ICAgCj4+IC1zdHJ1Y3QgZG16X2RldiAqZG16X3pvbmVfdG9fZGV2KHN0cnVj
dCBkbXpfbWV0YWRhdGEgKnptZCwgc3RydWN0IGRtX3pvbmUgKnpvbmUpCj4+IC17Cj4+IC0JaWYg
KFdBUk5fT04oIXpvbmUpKQo+PiAtCQlyZXR1cm4gJnptZC0+ZGV2WzBdOwo+PiAtCj4+IC0JaWYg
KHptZC0+bnJfZGV2cyA+IDEgJiYKPj4gLQkgICAgem9uZS0+aWQgPj0gem1kLT5kZXZbMV0uem9u
ZV9vZmZzZXQpCj4+IC0JCXJldHVybiAmem1kLT5kZXZbMV07Cj4+IC0KPj4gLQlyZXR1cm4gJnpt
ZC0+ZGV2WzBdOwo+PiAtfQo+PiAtCj4+ICAgdW5zaWduZWQgaW50IGRtel96b25lX25yX2Jsb2Nr
cyhzdHJ1Y3QgZG16X21ldGFkYXRhICp6bWQpCj4+ICAgewo+PiAgIAlyZXR1cm4gem1kLT56b25l
X25yX2Jsb2NrczsKPj4gQEAgLTEyNTIsNyArMTIzNCw3IEBAIHN0YXRpYyBpbnQgZG16X2xvYWRf
c2Ioc3RydWN0IGRtel9tZXRhZGF0YSAqem1kKQo+PiAgIAo+PiAgIAkvKiBSZWFkIGFuZCBjaGVj
ayB0aGUgcHJpbWFyeSBzdXBlciBibG9jayAqLwo+PiAgIAl6bWQtPnNiWzBdLmJsb2NrID0gZG16
X3N0YXJ0X2Jsb2NrKHptZCwgem1kLT5zYlswXS56b25lKTsKPj4gLQl6bWQtPnNiWzBdLmRldiA9
IGRtel96b25lX3RvX2Rldih6bWQsIHptZC0+c2JbMF0uem9uZSk7Cj4+ICsJem1kLT5zYlswXS5k
ZXYgPSB6bWQtPnNiWzBdLnpvbmUtPmRldjsKPj4gICAJcmV0ID0gZG16X2dldF9zYih6bWQsICZ6
bWQtPnNiWzBdLCAwKTsKPj4gICAJaWYgKHJldCkgewo+PiAgIAkJZG16X2Rldl9lcnIoem1kLT5z
YlswXS5kZXYsICJSZWFkIHByaW1hcnkgc3VwZXIgYmxvY2sgZmFpbGVkIik7Cj4+IEBAIC0xMzgz
LDYgKzEzNjUsNyBAQCBzdGF0aWMgaW50IGRtel9pbml0X3pvbmUoc3RydWN0IGJsa196b25lICpi
bGt6LCB1bnNpZ25lZCBpbnQgbnVtLCB2b2lkICpkYXRhKQo+PiAgIAo+PiAgIAlJTklUX0xJU1Rf
SEVBRCgmem9uZS0+bGluayk7Cj4+ICAgCWF0b21pY19zZXQoJnpvbmUtPnJlZmNvdW50LCAwKTsK
Pj4gKwl6b25lLT5kZXYgPSBkZXY7Cj4+ICAgCXpvbmUtPmlkID0gaWR4Owo+PiAgIAl6b25lLT5j
aHVuayA9IERNWl9NQVBfVU5NQVBQRUQ7Cj4+ICAgCj4+IEBAIC0xNDQyLDYgKzE0MjUsNyBAQCBz
dGF0aWMgaW50IGRtel9lbXVsYXRlX3pvbmVzKHN0cnVjdCBkbXpfbWV0YWRhdGEgKnptZCwgc3Ry
dWN0IGRtel9kZXYgKmRldikKPj4gICAJCQlyZXR1cm4gLUVCVVNZOwo+PiAgIAkJSU5JVF9MSVNU
X0hFQUQoJnpvbmUtPmxpbmspOwo+PiAgIAkJYXRvbWljX3NldCgmem9uZS0+cmVmY291bnQsIDAp
Owo+PiArCQl6b25lLT5kZXYgPSBkZXY7Cj4+ICAgCQl6b25lLT5pZCA9IGlkeDsKPj4gICAJCXpv
bmUtPmNodW5rID0gRE1aX01BUF9VTk1BUFBFRDsKPj4gICAJCXNldF9iaXQoRE1aX0NBQ0hFLCAm
em9uZS0+ZmxhZ3MpOwo+PiBAQCAtMTU2NywxMSArMTU1MSwxMCBAQCBzdGF0aWMgaW50IGRtel91
cGRhdGVfem9uZV9jYihzdHJ1Y3QgYmxrX3pvbmUgKmJsa3osIHVuc2lnbmVkIGludCBpZHgsCj4+
ICAgICovCj4+ICAgc3RhdGljIGludCBkbXpfdXBkYXRlX3pvbmUoc3RydWN0IGRtel9tZXRhZGF0
YSAqem1kLCBzdHJ1Y3QgZG1fem9uZSAqem9uZSkKPj4gICB7Cj4+IC0Jc3RydWN0IGRtel9kZXYg
KmRldiA9IGRtel96b25lX3RvX2Rldih6bWQsIHpvbmUpOwo+IAo+IElmIHlvdSBrZWVwIHRoaXMg
b25lIGFuZCBtYWtlIGl0Ogo+IAo+IAlzdHJ1Y3QgZG16X2RldiAqZGV2ID0gem9uZS0+ZGV2Owo+
IAo+IFlvdSBjYW4gYXZvaWQgYWxsIHRoZSBjaGFuZ2VzIGJlbG93LCBhbmQgZGVyZWZlcmVuY2lu
ZyB0aGUgc2FtZSBwb2ludGVyIG11bHRpcGxlCj4gdGltZXMuCj4gCj4+ICAgCXVuc2lnbmVkIGlu
dCBub2lvX2ZsYWc7Cj4+ICAgCWludCByZXQ7Cj4+ICAgCj4+IC0JaWYgKGRldi0+ZmxhZ3MgJiBE
TVpfQkRFVl9SRUdVTEFSKQo+PiArCWlmICh6b25lLT5kZXYtPmZsYWdzICYgRE1aX0JERVZfUkVH
VUxBUikKPj4gICAJCXJldHVybiAwOwo+PiAgIAo+PiAgIAkvKgo+PiBAQCAtMTU4MSwxNiArMTU2
NCwxNiBAQCBzdGF0aWMgaW50IGRtel91cGRhdGVfem9uZShzdHJ1Y3QgZG16X21ldGFkYXRhICp6
bWQsIHN0cnVjdCBkbV96b25lICp6b25lKQo+PiAgIAkgKiBHRlBfTk9JTyB3YXMgc3BlY2lmaWVk
Lgo+PiAgIAkgKi8KPj4gICAJbm9pb19mbGFnID0gbWVtYWxsb2Nfbm9pb19zYXZlKCk7Cj4+IC0J
cmV0ID0gYmxrZGV2X3JlcG9ydF96b25lcyhkZXYtPmJkZXYsIGRtel9zdGFydF9zZWN0KHptZCwg
em9uZSksIDEsCj4+ICsJcmV0ID0gYmxrZGV2X3JlcG9ydF96b25lcyh6b25lLT5kZXYtPmJkZXYs
IGRtel9zdGFydF9zZWN0KHptZCwgem9uZSksIDEsCj4+ICAgCQkJCSAgZG16X3VwZGF0ZV96b25l
X2NiLCB6b25lKTsKPj4gICAJbWVtYWxsb2Nfbm9pb19yZXN0b3JlKG5vaW9fZmxhZyk7Cj4+ICAg
Cj4+ICAgCWlmIChyZXQgPT0gMCkKPj4gICAJCXJldCA9IC1FSU87Cj4+ICAgCWlmIChyZXQgPCAw
KSB7Cj4+IC0JCWRtel9kZXZfZXJyKGRldiwgIkdldCB6b25lICV1IHJlcG9ydCBmYWlsZWQiLAo+
PiArCQlkbXpfZGV2X2Vycih6b25lLT5kZXYsICJHZXQgem9uZSAldSByZXBvcnQgZmFpbGVkIiwK
Pj4gICAJCQkgICAgem9uZS0+aWQpOwo+PiAtCQlkbXpfY2hlY2tfYmRldihkZXYpOwo+PiArCQlk
bXpfY2hlY2tfYmRldih6b25lLT5kZXYpOwo+PiAgIAkJcmV0dXJuIHJldDsKPj4gICAJfQo+PiAg
IAo+PiBAQCAtMTYwNCw3ICsxNTg3LDYgQEAgc3RhdGljIGludCBkbXpfdXBkYXRlX3pvbmUoc3Ry
dWN0IGRtel9tZXRhZGF0YSAqem1kLCBzdHJ1Y3QgZG1fem9uZSAqem9uZSkKPj4gICBzdGF0aWMg
aW50IGRtel9oYW5kbGVfc2VxX3dyaXRlX2VycihzdHJ1Y3QgZG16X21ldGFkYXRhICp6bWQsCj4+
ICAgCQkJCSAgICBzdHJ1Y3QgZG1fem9uZSAqem9uZSkKPj4gICB7Cj4+IC0Jc3RydWN0IGRtel9k
ZXYgKmRldiA9IGRtel96b25lX3RvX2Rldih6bWQsIHpvbmUpOwo+PiAgIAl1bnNpZ25lZCBpbnQg
d3AgPSAwOwo+PiAgIAlpbnQgcmV0Owo+PiAgIAo+PiBAQCAtMTYxMyw3ICsxNTk1LDggQEAgc3Rh
dGljIGludCBkbXpfaGFuZGxlX3NlcV93cml0ZV9lcnIoc3RydWN0IGRtel9tZXRhZGF0YSAqem1k
LAo+PiAgIAlpZiAocmV0KQo+PiAgIAkJcmV0dXJuIHJldDsKPj4gICAKPj4gLQlkbXpfZGV2X3dh
cm4oZGV2LCAiUHJvY2Vzc2luZyB6b25lICV1IHdyaXRlIGVycm9yICh6b25lIHdwICV1LyV1KSIs
Cj4+ICsJZG16X2Rldl93YXJuKHpvbmUtPmRldiwKPj4gKwkJICAgICAiUHJvY2Vzc2luZyB6b25l
ICV1IHdyaXRlIGVycm9yICh6b25lIHdwICV1LyV1KSIsCj4+ICAgCQkgICAgIHpvbmUtPmlkLCB6
b25lLT53cF9ibG9jaywgd3ApOwo+PiAgIAo+PiAgIAlpZiAoem9uZS0+d3BfYmxvY2sgPCB3cCkg
ewo+PiBAQCAtMTY0MSwxMyArMTYyNCwxMSBAQCBzdGF0aWMgaW50IGRtel9yZXNldF96b25lKHN0
cnVjdCBkbXpfbWV0YWRhdGEgKnptZCwgc3RydWN0IGRtX3pvbmUgKnpvbmUpCj4+ICAgCQlyZXR1
cm4gMDsKPj4gICAKPj4gICAJaWYgKCFkbXpfaXNfZW1wdHkoem9uZSkgfHwgZG16X3NlcV93cml0
ZV9lcnIoem9uZSkpIHsKPj4gLQkJc3RydWN0IGRtel9kZXYgKmRldiA9IGRtel96b25lX3RvX2Rl
dih6bWQsIHpvbmUpOwo+PiAtCj4+IC0JCXJldCA9IGJsa2Rldl96b25lX21nbXQoZGV2LT5iZGV2
LCBSRVFfT1BfWk9ORV9SRVNFVCwKPj4gKwkJcmV0ID0gYmxrZGV2X3pvbmVfbWdtdCh6b25lLT5k
ZXYtPmJkZXYsIFJFUV9PUF9aT05FX1JFU0VULAo+PiAgIAkJCQkgICAgICAgZG16X3N0YXJ0X3Nl
Y3Qoem1kLCB6b25lKSwKPj4gICAJCQkJICAgICAgIHptZC0+em9uZV9ucl9zZWN0b3JzLCBHRlBf
Tk9JTyk7Cj4+ICAgCQlpZiAocmV0KSB7Cj4+IC0JCQlkbXpfZGV2X2VycihkZXYsICJSZXNldCB6
b25lICV1IGZhaWxlZCAlZCIsCj4+ICsJCQlkbXpfZGV2X2Vycih6b25lLT5kZXYsICJSZXNldCB6
b25lICV1IGZhaWxlZCAlZCIsCj4+ICAgCQkJCSAgICB6b25lLT5pZCwgcmV0KTsKPj4gICAJCQly
ZXR1cm4gcmV0Owo+PiAgIAkJfQo+PiBAQCAtMjIwMSw5ICsyMTgyLDcgQEAgc3RydWN0IGRtX3pv
bmUgKmRtel9hbGxvY196b25lKHN0cnVjdCBkbXpfbWV0YWRhdGEgKnptZCwgdW5zaWduZWQgbG9u
ZyBmbGFncykKPj4gICAJCWdvdG8gYWdhaW47Cj4+ICAgCX0KPj4gICAJaWYgKGRtel9pc19tZXRh
KHpvbmUpKSB7Cj4+IC0JCXN0cnVjdCBkbXpfZGV2ICpkZXYgPSBkbXpfem9uZV90b19kZXYoem1k
LCB6b25lKTsKPj4gLQo+PiAtCQlkbXpfZGV2X3dhcm4oZGV2LCAiWm9uZSAldSBoYXMgbWV0YWRh
dGEiLCB6b25lLT5pZCk7Cj4+ICsJCWRtel96bWRfd2Fybih6bWQsICJab25lICV1IGhhcyBtZXRh
ZGF0YSIsIHpvbmUtPmlkKTsKPj4gICAJCXpvbmUgPSBOVUxMOwo+PiAgIAkJZ290byBhZ2FpbjsK
Pj4gICAJfQo+IAo+IFNhbWUgY29tbWVudCBhcyBhYm92ZSBmb3IgYWxsIHRoZXNlIGNoYW5nZXMu
Cj4gCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL21kL2RtLXpvbmVkLXJlY2xhaW0uYyBiL2RyaXZl
cnMvbWQvZG0tem9uZWQtcmVjbGFpbS5jCj4+IGluZGV4IDU3MWJjMWQ0MWJhYi4uZDFhNzJiNDJk
ZWEyIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL21kL2RtLXpvbmVkLXJlY2xhaW0uYwo+PiArKysg
Yi9kcml2ZXJzL21kL2RtLXpvbmVkLXJlY2xhaW0uYwo+PiBAQCAtNTgsNyArNTgsNiBAQCBzdGF0
aWMgaW50IGRtel9yZWNsYWltX2FsaWduX3dwKHN0cnVjdCBkbXpfcmVjbGFpbSAqenJjLCBzdHJ1
Y3QgZG1fem9uZSAqem9uZSwKPj4gICAJCQkJc2VjdG9yX3QgYmxvY2spCj4+ICAgewo+PiAgIAlz
dHJ1Y3QgZG16X21ldGFkYXRhICp6bWQgPSB6cmMtPm1ldGFkYXRhOwo+PiAtCXN0cnVjdCBkbXpf
ZGV2ICpkZXYgPSBkbXpfem9uZV90b19kZXYoem1kLCB6b25lKTsKPj4gICAJc2VjdG9yX3Qgd3Bf
YmxvY2sgPSB6b25lLT53cF9ibG9jazsKPj4gICAJdW5zaWduZWQgaW50IG5yX2Jsb2NrczsKPj4g
ICAJaW50IHJldDsKPj4gQEAgLTc0LDE1ICs3MywxNSBAQCBzdGF0aWMgaW50IGRtel9yZWNsYWlt
X2FsaWduX3dwKHN0cnVjdCBkbXpfcmVjbGFpbSAqenJjLCBzdHJ1Y3QgZG1fem9uZSAqem9uZSwK
Pj4gICAJICogcG9pbnRlciBhbmQgdGhlIHJlcXVlc3RlZCBwb3NpdGlvbi4KPj4gICAJICovCj4+
ICAgCW5yX2Jsb2NrcyA9IGJsb2NrIC0gd3BfYmxvY2s7Cj4+IC0JcmV0ID0gYmxrZGV2X2lzc3Vl
X3plcm9vdXQoZGV2LT5iZGV2LAo+PiArCXJldCA9IGJsa2Rldl9pc3N1ZV96ZXJvb3V0KHpvbmUt
PmRldi0+YmRldiwKPj4gICAJCQkJICAgZG16X3N0YXJ0X3NlY3Qoem1kLCB6b25lKSArIGRtel9i
bGsyc2VjdCh3cF9ibG9jayksCj4+ICAgCQkJCSAgIGRtel9ibGsyc2VjdChucl9ibG9ja3MpLCBH
RlBfTk9JTywgMCk7Cj4+ICAgCWlmIChyZXQpIHsKPj4gLQkJZG16X2Rldl9lcnIoZGV2LAo+PiAr
CQlkbXpfZGV2X2Vycih6b25lLT5kZXYsCj4+ICAgCQkJICAgICJBbGlnbiB6b25lICV1IHdwICVs
bHUgdG8gJWxsdSAod3ArJXUpIGJsb2NrcyBmYWlsZWQgJWQiLAo+PiAgIAkJCSAgICB6b25lLT5p
ZCwgKHVuc2lnbmVkIGxvbmcgbG9uZyl3cF9ibG9jaywKPj4gICAJCQkgICAgKHVuc2lnbmVkIGxv
bmcgbG9uZylibG9jaywgbnJfYmxvY2tzLCByZXQpOwo+PiAtCQlkbXpfY2hlY2tfYmRldihkZXYp
Owo+PiArCQlkbXpfY2hlY2tfYmRldih6b25lLT5kZXYpOwo+PiAgIAkJcmV0dXJuIHJldDsKPj4g
ICAJfQo+IAo+IFNhbWUgYWdhaW4uCj4gCj4+ICAgCj4+IEBAIC0xMTYsNyArMTE1LDYgQEAgc3Rh
dGljIGludCBkbXpfcmVjbGFpbV9jb3B5KHN0cnVjdCBkbXpfcmVjbGFpbSAqenJjLAo+PiAgIAkJ
CSAgICBzdHJ1Y3QgZG1fem9uZSAqc3JjX3pvbmUsIHN0cnVjdCBkbV96b25lICpkc3Rfem9uZSkK
Pj4gICB7Cj4+ICAgCXN0cnVjdCBkbXpfbWV0YWRhdGEgKnptZCA9IHpyYy0+bWV0YWRhdGE7Cj4+
IC0Jc3RydWN0IGRtel9kZXYgKnNyY19kZXYsICpkc3RfZGV2Owo+PiAgIAlzdHJ1Y3QgZG1faW9f
cmVnaW9uIHNyYywgZHN0Owo+PiAgIAlzZWN0b3JfdCBibG9jayA9IDAsIGVuZF9ibG9jazsKPj4g
ICAJc2VjdG9yX3QgbnJfYmxvY2tzOwo+PiBAQCAtMTMwLDE3ICsxMjgsMTUgQEAgc3RhdGljIGlu
dCBkbXpfcmVjbGFpbV9jb3B5KHN0cnVjdCBkbXpfcmVjbGFpbSAqenJjLAo+PiAgIAllbHNlCj4+
ICAgCQllbmRfYmxvY2sgPSBkbXpfem9uZV9ucl9ibG9ja3Moem1kKTsKPj4gICAJc3JjX3pvbmVf
YmxvY2sgPSBkbXpfc3RhcnRfYmxvY2soem1kLCBzcmNfem9uZSk7Cj4+IC0Jc3JjX2RldiA9IGRt
el96b25lX3RvX2Rldih6bWQsIHNyY196b25lKTsKPj4gICAJZHN0X3pvbmVfYmxvY2sgPSBkbXpf
c3RhcnRfYmxvY2soem1kLCBkc3Rfem9uZSk7Cj4+IC0JZHN0X2RldiA9IGRtel96b25lX3RvX2Rl
dih6bWQsIGRzdF96b25lKTsKPj4gICAKPj4gICAJaWYgKGRtel9pc19zZXEoZHN0X3pvbmUpKQo+
PiAgIAkJc2V0X2JpdChETV9LQ09QWURfV1JJVEVfU0VRLCAmZmxhZ3MpOwo+PiAgIAo+PiAgIAl3
aGlsZSAoYmxvY2sgPCBlbmRfYmxvY2spIHsKPj4gLQkJaWYgKHNyY19kZXYtPmZsYWdzICYgRE1a
X0JERVZfRFlJTkcpCj4+ICsJCWlmIChzcmNfem9uZS0+ZGV2LT5mbGFncyAmIERNWl9CREVWX0RZ
SU5HKQo+PiAgIAkJCXJldHVybiAtRUlPOwo+PiAtCQlpZiAoZHN0X2Rldi0+ZmxhZ3MgJiBETVpf
QkRFVl9EWUlORykKPj4gKwkJaWYgKGRzdF96b25lLT5kZXYtPmZsYWdzICYgRE1aX0JERVZfRFlJ
TkcpCj4+ICAgCQkJcmV0dXJuIC1FSU87Cj4+ICAgCj4+ICAgCQlpZiAoZG16X3JlY2xhaW1fc2hv
dWxkX3Rlcm1pbmF0ZShzcmNfem9uZSkpCj4+IEBAIC0xNjMsMTEgKzE1OSwxMSBAQCBzdGF0aWMg
aW50IGRtel9yZWNsYWltX2NvcHkoc3RydWN0IGRtel9yZWNsYWltICp6cmMsCj4+ICAgCQkJCXJl
dHVybiByZXQ7Cj4+ICAgCQl9Cj4+ICAgCj4+IC0JCXNyYy5iZGV2ID0gc3JjX2Rldi0+YmRldjsK
Pj4gKwkJc3JjLmJkZXYgPSBzcmNfem9uZS0+ZGV2LT5iZGV2Owo+PiAgIAkJc3JjLnNlY3RvciA9
IGRtel9ibGsyc2VjdChzcmNfem9uZV9ibG9jayArIGJsb2NrKTsKPj4gICAJCXNyYy5jb3VudCA9
IGRtel9ibGsyc2VjdChucl9ibG9ja3MpOwo+PiAgIAo+PiAtCQlkc3QuYmRldiA9IGRzdF9kZXYt
PmJkZXY7Cj4+ICsJCWRzdC5iZGV2ID0gZHN0X3pvbmUtPmRldi0+YmRldjsKPj4gICAJCWRzdC5z
ZWN0b3IgPSBkbXpfYmxrMnNlY3QoZHN0X3pvbmVfYmxvY2sgKyBibG9jayk7Cj4+ICAgCQlkc3Qu
Y291bnQgPSBzcmMuY291bnQ7Cj4gCj4gQW5kIGFnYWluIHRoZSBzYW1lIGhlcmUuCj4gCj4+ICAg
Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL21kL2RtLXpvbmVkLXRhcmdldC5jIGIvZHJpdmVycy9t
ZC9kbS16b25lZC10YXJnZXQuYwo+PiBpbmRleCAyNzcwZTI5M2E5N2IuLmJjYTlhNjExYjhkZCAx
MDA2NDQKPj4gLS0tIGEvZHJpdmVycy9tZC9kbS16b25lZC10YXJnZXQuYwo+PiArKysgYi9kcml2
ZXJzL21kL2RtLXpvbmVkLXRhcmdldC5jCj4+IEBAIC0xMjMsMTggKzEyMywxNyBAQCBzdGF0aWMg
aW50IGRtel9zdWJtaXRfYmlvKHN0cnVjdCBkbXpfdGFyZ2V0ICpkbXosIHN0cnVjdCBkbV96b25l
ICp6b25lLAo+PiAgIHsKPj4gICAJc3RydWN0IGRtel9iaW9jdHggKmJpb2N0eCA9Cj4+ICAgCQlk
bV9wZXJfYmlvX2RhdGEoYmlvLCBzaXplb2Yoc3RydWN0IGRtel9iaW9jdHgpKTsKPj4gLQlzdHJ1
Y3QgZG16X2RldiAqZGV2ID0gZG16X3pvbmVfdG9fZGV2KGRtei0+bWV0YWRhdGEsIHpvbmUpOwo+
PiAgIAlzdHJ1Y3QgYmlvICpjbG9uZTsKPj4gICAKPj4gLQlpZiAoZGV2LT5mbGFncyAmIERNWl9C
REVWX0RZSU5HKQo+PiArCWlmICh6b25lLT5kZXYtPmZsYWdzICYgRE1aX0JERVZfRFlJTkcpCj4+
ICAgCQlyZXR1cm4gLUVJTzsKPj4gICAKPj4gICAJY2xvbmUgPSBiaW9fY2xvbmVfZmFzdChiaW8s
IEdGUF9OT0lPLCAmZG16LT5iaW9fc2V0KTsKPj4gICAJaWYgKCFjbG9uZSkKPj4gICAJCXJldHVy
biAtRU5PTUVNOwo+PiAgIAo+PiAtCWJpb19zZXRfZGV2KGNsb25lLCBkZXYtPmJkZXYpOwo+PiAt
CWJpb2N0eC0+ZGV2ID0gZGV2Owo+PiArCWJpb19zZXRfZGV2KGNsb25lLCB6b25lLT5kZXYtPmJk
ZXYpOwo+PiArCWJpb2N0eC0+ZGV2ID0gem9uZS0+ZGV2Owo+PiAgIAljbG9uZS0+YmlfaXRlci5i
aV9zZWN0b3IgPQo+PiAgIAkJZG16X3N0YXJ0X3NlY3QoZG16LT5tZXRhZGF0YSwgem9uZSkgKyBk
bXpfYmxrMnNlY3QoY2h1bmtfYmxvY2spOwo+PiAgIAljbG9uZS0+YmlfaXRlci5iaV9zaXplID0g
ZG16X2JsazJzZWN0KG5yX2Jsb2NrcykgPDwgU0VDVE9SX1NISUZUOwo+IAo+IEFuZCBoZXJlIHRv
by4gWWhlIHBhdGNoIHdvdWxkIGJlY29tZSBtdWNoIHNob3J0ZXIgOikKPiAKWW91IGtub3cgd2hh
dCwgdGhhdCB3YXMgbXkgZmlyc3QgYXR0ZW1wdC4gQnV0IHRoZW4gSSBkZWNpZGVkIHRvIGRyb3Ag
dGhlIAp2YXJpYWJsZSA6LSkKCkFueXdheSwgd2lsbCBiZSByZWRvaW5nIHRoZSBwYXRjaC4KCkNo
ZWVycwoKSGFubmVzCi0tIApEci4gSGFubmVzIFJlaW5lY2tlICAgICAgICAgICAgVGVhbWxlYWQg
U3RvcmFnZSAmIE5ldHdvcmtpbmcKaGFyZUBzdXNlLmRlICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICs0OSA5MTEgNzQwNTMgNjg4ClNVU0UgU29mdHdhcmUgU29sdXRpb25zIEdtYkgsIE1h
eGZlbGRzdHIuIDUsIDkwNDA5IE7DvHJuYmVyZwpIUkIgMzY4MDkgKEFHIE7DvHJuYmVyZyksIEdl
c2Now6RmdHNmw7xocmVyOiBGZWxpeCBJbWVuZMO2cmZmZXIKCgotLQpkbS1kZXZlbCBtYWlsaW5n
IGxpc3QKZG0tZGV2ZWxAcmVkaGF0LmNvbQpodHRwczovL3d3dy5yZWRoYXQuY29tL21haWxtYW4v
bGlzdGluZm8vZG0tZGV2ZWw=

