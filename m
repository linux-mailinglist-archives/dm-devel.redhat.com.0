Return-Path: <dm-devel-bounces@redhat.com>
X-Original-To: lists+dm-devel@lfdr.de
Delivered-To: lists+dm-devel@lfdr.de
Received: from us-smtp-delivery-1.mimecast.com (us-smtp-delivery-1.mimecast.com [205.139.110.120])
	by mail.lfdr.de (Postfix) with ESMTP id 2A34320F788
	for <lists+dm-devel@lfdr.de>; Tue, 30 Jun 2020 16:49:17 +0200 (CEST)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-340-gn05Ao1_Ovm9U_jPwirVXg-1; Tue, 30 Jun 2020 10:49:12 -0400
X-MC-Unique: gn05Ao1_Ovm9U_jPwirVXg-1
Received: from smtp.corp.redhat.com (int-mx03.intmail.prod.int.phx2.redhat.com [10.5.11.13])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 90FDF6BF92;
	Tue, 30 Jun 2020 14:49:00 +0000 (UTC)
Received: from colo-mx.corp.redhat.com (colo-mx01.intmail.prod.int.phx2.redhat.com [10.5.11.20])
	by smtp.corp.redhat.com (Postfix) with ESMTPS id 6F11A5F7D8;
	Tue, 30 Jun 2020 14:49:00 +0000 (UTC)
Received: from lists01.pubmisc.prod.ext.phx2.redhat.com (lists01.pubmisc.prod.ext.phx2.redhat.com [10.5.19.33])
	by colo-mx.corp.redhat.com (Postfix) with ESMTP id 2A2551809563;
	Tue, 30 Jun 2020 14:49:00 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.rdu2.redhat.com
	[10.11.54.6])
	by lists01.pubmisc.prod.ext.phx2.redhat.com (8.13.8/8.13.8) with ESMTP
	id 05TNibAg020424 for <dm-devel@listman.util.phx.redhat.com>;
	Mon, 29 Jun 2020 19:44:37 -0400
Received: by smtp.corp.redhat.com (Postfix)
	id 939812156A54; Mon, 29 Jun 2020 23:44:37 +0000 (UTC)
Delivered-To: dm-devel@redhat.com
Received: from mimecast-mx02.redhat.com
	(mimecast05.extmail.prod.ext.rdu2.redhat.com [10.11.55.21])
	by smtp.corp.redhat.com (Postfix) with ESMTPS id 6ACF12156A4E
	for <dm-devel@redhat.com>; Mon, 29 Jun 2020 23:44:35 +0000 (UTC)
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
	[207.211.31.120])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-SHA384 (256/256 bits))
	(No client certificate requested)
	by mimecast-mx02.redhat.com (Postfix) with ESMTPS id 603F3800143
	for <dm-devel@redhat.com>; Mon, 29 Jun 2020 23:44:35 +0000 (UTC)
Received: from esa4.hgst.iphmx.com (esa4.hgst.iphmx.com [216.71.154.42])
	(Using TLS) by relay.mimecast.com with ESMTP id
	us-mta-201-DHJlla1UOeKx6OyKK_tzcA-1; Mon, 29 Jun 2020 19:44:31 -0400
X-MC-Unique: DHJlla1UOeKx6OyKK_tzcA-1
IronPort-SDR: m2+s82TJes1IYP9RiQonHHnFD7xl853Be65/EUH9dpd6vhnWFO5raBnTHK3ofPSsaQdSdp5fXy
	GAH05iQ7pT2mMb/KgbW1QoUmqMM1VrKz8J7dubE+ZZ8igOvzIUY0tGpFMoEVZio05lBHSOQgKo
	t6xh6nPB/QvJzpUKZf65dtE8To/KwT/dzxoMhfHCAwHOl8du1VaSNn9kI8xqmeVOxBMa5glaks
	OYjqTkr4fyt9TH9HlLx2sDkFpM2IIcGZIkNieHETcMtVqx4S5CboNu2t6DIh5SqozdRLJ8fujc
	3Wg=
X-IronPort-AV: E=Sophos;i="5.75,296,1589212800"; d="scan'208";a="141220064"
Received: from uls-op-cesaip02.wdc.com (HELO uls-op-cesaep02.wdc.com)
	([199.255.45.15])
	by ob1.hgst.iphmx.com with ESMTP; 30 Jun 2020 07:43:25 +0800
IronPort-SDR: KeLWLdmxjfTu/UejIEuvdVe+k1LQ9Uyq0/s/CE/p/4uwrb8AaUX8AEeTmRvW0HGUE+jYGaLFFU
	Tn3lXRiQZfAEBaQ6WvbM//iAJAJMTuLnI=
Received: from uls-op-cesaip01.wdc.com ([10.248.3.36])
	by uls-op-cesaep02.wdc.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
	29 Jun 2020 16:31:45 -0700
IronPort-SDR: uG3fCcwY/B5SNgcEE22NujsRNqT1GdU67QrZWUOjlZYVNt4+3mwyZLYWV8/1jksNk3cqfuKMTf
	p1mBQuvFnqzQ==
WDCIronportException: Internal
Received: from iouring.labspan.wdc.com (HELO iouring.sc.wdc.com)
	([10.6.138.107])
	by uls-op-cesaip01.wdc.com with ESMTP; 29 Jun 2020 16:43:25 -0700
From: Chaitanya Kulkarni <chaitanya.kulkarni@wdc.com>
To: linux-block@vger.kernel.org, dm-devel@redhat.com
Date: Mon, 29 Jun 2020 16:43:04 -0700
Message-Id: <20200629234314.10509-2-chaitanya.kulkarni@wdc.com>
In-Reply-To: <20200629234314.10509-1-chaitanya.kulkarni@wdc.com>
References: <20200629234314.10509-1-chaitanya.kulkarni@wdc.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.78 on 10.11.54.6
X-loop: dm-devel@redhat.com
X-Mailman-Approved-At: Tue, 30 Jun 2020 10:48:45 -0400
Cc: axboe@kernel.dk, paolo.valente@linaro.org, sagi@grimberg.me,
	snitzer@redhat.com, Chaitanya Kulkarni <chaitanya.kulkarni@wdc.com>,
	fangguoju@gmail.com, rdunlap@infradead.org, rostedt@goodmis.org,
	ming.lei@redhat.com, mingo@redhat.com, colyli@suse.de,
	jack@suse.czi, hch@lst.de, agk@redhat.com, bvanassche@acm.org
Subject: [dm-devel] [PATCH 01/11] block: blktrace framework cleanup
X-BeenThere: dm-devel@redhat.com
X-Mailman-Version: 2.1.12
Precedence: junk
List-Id: device-mapper development <dm-devel.redhat.com>
List-Unsubscribe: <https://www.redhat.com/mailman/options/dm-devel>,
	<mailto:dm-devel-request@redhat.com?subject=unsubscribe>
List-Archive: <https://www.redhat.com/archives/dm-devel>
List-Post: <mailto:dm-devel@redhat.com>
List-Help: <mailto:dm-devel-request@redhat.com?subject=help>
List-Subscribe: <https://www.redhat.com/mailman/listinfo/dm-devel>,
	<mailto:dm-devel-request@redhat.com?subject=subscribe>
Sender: dm-devel-bounces@redhat.com
Errors-To: dm-devel-bounces@redhat.com
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.13
Authentication-Results: relay.mimecast.com;
	auth=pass smtp.auth=CUSA124A263 smtp.mailfrom=dm-devel-bounces@redhat.com
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

VGhpcyBwYXRjaCByZW1vdmVzIHRoZSBleHRyYSB2YXJpYWJsZXMgZnJvbSB0aGUgdHJhY2UgZXZl
bnRzIGFuZApvdmVyYWxsIGtlcm5lbCBibGt0cmFjZSBmcmFtZXdvcmsuIFRoZSByZW1vdmVkIG1l
bWJlcnMgY2FuIGVhc2lseSBiZQpleHRyYWN0ZWQgZnJvbSB0aGUgcmVtYWluaW5nIGFyZ3VtZW50
IHdoaWNoIHJlZHVjZXMgdGhlIGNvZGUKc2lnbmlmaWNhbnRseSBhbmQgYWxsb3dzIHVzIHRvIG9w
dGltaXplIHRoZSBzZXZlcmFsIHRyYWNlcG9pbnRzIGxpa2UKdGhlIG5leHQgcGF0Y2ggaW4gdGhl
IHNlcmllcy4gwqAgwqAgwqAKClNpZ25lZC1vZmYtYnk6IENoYWl0YW55YSBLdWxrYXJuaSA8Y2hh
aXRhbnlhLmt1bGthcm5pQHdkYy5jb20+Ci0tLQogYmxvY2svYmxrLWNvcmUuYyAgICAgICAgICAg
ICB8ICA2ICstLQogYmxvY2svYmxrLW1lcmdlLmMgICAgICAgICAgICB8ICA0ICstCiBibG9jay9i
bGstbXEtc2NoZWQuYyAgICAgICAgIHwgIDIgKy0KIGJsb2NrL2Jsay1tcS5jICAgICAgICAgICAg
ICAgfCAxMCArKy0tCiBibG9jay9ib3VuY2UuYyAgICAgICAgICAgICAgIHwgIDIgKy0KIGRyaXZl
cnMvbWQvZG0uYyAgICAgICAgICAgICAgfCAgNCArLQogaW5jbHVkZS90cmFjZS9ldmVudHMvYmxv
Y2suaCB8IDg3ICsrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0tCiBrZXJuZWwvdHJhY2Uv
YmxrdHJhY2UuYyAgICAgIHwgOTggKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0t
CiA4IGZpbGVzIGNoYW5nZWQsIDk4IGluc2VydGlvbnMoKyksIDExNSBkZWxldGlvbnMoLSkKCmRp
ZmYgLS1naXQgYS9ibG9jay9ibGstY29yZS5jIGIvYmxvY2svYmxrLWNvcmUuYwppbmRleCA3MmIx
MDJhMzg5YTUuLjZkNGM1N2VmNDUzMyAxMDA2NDQKLS0tIGEvYmxvY2svYmxrLWNvcmUuYworKysg
Yi9ibG9jay9ibGstY29yZS5jCkBAIC02NzQsNyArNjc0LDcgQEAgYm9vbCBiaW9fYXR0ZW1wdF9i
YWNrX21lcmdlKHN0cnVjdCByZXF1ZXN0ICpyZXEsIHN0cnVjdCBiaW8gKmJpbywKIAlpZiAoIWxs
X2JhY2tfbWVyZ2VfZm4ocmVxLCBiaW8sIG5yX3NlZ3MpKQogCQlyZXR1cm4gZmFsc2U7CiAKLQl0
cmFjZV9ibG9ja19iaW9fYmFja21lcmdlKHJlcS0+cSwgcmVxLCBiaW8pOworCXRyYWNlX2Jsb2Nr
X2Jpb19iYWNrbWVyZ2UoYmlvKTsKIAlycV9xb3NfbWVyZ2UocmVxLT5xLCByZXEsIGJpbyk7CiAK
IAlpZiAoKHJlcS0+Y21kX2ZsYWdzICYgUkVRX0ZBSUxGQVNUX01BU0spICE9IGZmKQpAQCAtNjk4
LDcgKzY5OCw3IEBAIGJvb2wgYmlvX2F0dGVtcHRfZnJvbnRfbWVyZ2Uoc3RydWN0IHJlcXVlc3Qg
KnJlcSwgc3RydWN0IGJpbyAqYmlvLAogCWlmICghbGxfZnJvbnRfbWVyZ2VfZm4ocmVxLCBiaW8s
IG5yX3NlZ3MpKQogCQlyZXR1cm4gZmFsc2U7CiAKLQl0cmFjZV9ibG9ja19iaW9fZnJvbnRtZXJn
ZShyZXEtPnEsIHJlcSwgYmlvKTsKKwl0cmFjZV9ibG9ja19iaW9fZnJvbnRtZXJnZShiaW8pOwog
CXJxX3Fvc19tZXJnZShyZXEtPnEsIHJlcSwgYmlvKTsKIAogCWlmICgocmVxLT5jbWRfZmxhZ3Mg
JiBSRVFfRkFJTEZBU1RfTUFTSykgIT0gZmYpCkBAIC0xMDgyLDcgKzEwODIsNyBAQCBnZW5lcmlj
X21ha2VfcmVxdWVzdF9jaGVja3Moc3RydWN0IGJpbyAqYmlvKQogCQlyZXR1cm4gZmFsc2U7CiAK
IAlpZiAoIWJpb19mbGFnZ2VkKGJpbywgQklPX1RSQUNFX0NPTVBMRVRJT04pKSB7Ci0JCXRyYWNl
X2Jsb2NrX2Jpb19xdWV1ZShxLCBiaW8pOworCQl0cmFjZV9ibG9ja19iaW9fcXVldWUoYmlvKTsK
IAkJLyogTm93IHRoYXQgZW5xdWV1aW5nIGhhcyBiZWVuIHRyYWNlZCwgd2UgbmVlZCB0byB0cmFj
ZQogCQkgKiBjb21wbGV0aW9uIGFzIHdlbGwuCiAJCSAqLwpkaWZmIC0tZ2l0IGEvYmxvY2svYmxr
LW1lcmdlLmMgYi9ibG9jay9ibGstbWVyZ2UuYwppbmRleCA5YzlmYjIxNTg0YjYuLjgzMzNjY2Q2
MGVlMSAxMDA2NDQKLS0tIGEvYmxvY2svYmxrLW1lcmdlLmMKKysrIGIvYmxvY2svYmxrLW1lcmdl
LmMKQEAgLTMzNyw3ICszMzcsNyBAQCB2b2lkIF9fYmxrX3F1ZXVlX3NwbGl0KHN0cnVjdCByZXF1
ZXN0X3F1ZXVlICpxLCBzdHJ1Y3QgYmlvICoqYmlvLAogCQlzcGxpdC0+Ymlfb3BmIHw9IFJFUV9O
T01FUkdFOwogCiAJCWJpb19jaGFpbihzcGxpdCwgKmJpbyk7Ci0JCXRyYWNlX2Jsb2NrX3NwbGl0
KHEsIHNwbGl0LCAoKmJpbyktPmJpX2l0ZXIuYmlfc2VjdG9yKTsKKwkJdHJhY2VfYmxvY2tfc3Bs
aXQoc3BsaXQsICgqYmlvKS0+YmlfaXRlci5iaV9zZWN0b3IpOwogCQlnZW5lcmljX21ha2VfcmVx
dWVzdCgqYmlvKTsKIAkJKmJpbyA9IHNwbGl0OwogCX0KQEAgLTc5Myw3ICs3OTMsNyBAQCBzdGF0
aWMgc3RydWN0IHJlcXVlc3QgKmF0dGVtcHRfbWVyZ2Uoc3RydWN0IHJlcXVlc3RfcXVldWUgKnEs
CiAJICovCiAJYmxrX2FjY291bnRfaW9fbWVyZ2VfcmVxdWVzdChuZXh0KTsKIAotCXRyYWNlX2Js
b2NrX3JxX21lcmdlKHEsIG5leHQpOworCXRyYWNlX2Jsb2NrX3JxX21lcmdlKG5leHQpOwogCiAJ
LyoKIAkgKiBvd25lcnNoaXAgb2YgYmlvIHBhc3NlZCBmcm9tIG5leHQgdG8gcmVxLCByZXR1cm4g
J25leHQnIGZvcgpkaWZmIC0tZ2l0IGEvYmxvY2svYmxrLW1xLXNjaGVkLmMgYi9ibG9jay9ibGst
bXEtc2NoZWQuYwppbmRleCBmZGNjMmMxZGQxNzguLmEzY2FkZTE2ZWY4MCAxMDA2NDQKLS0tIGEv
YmxvY2svYmxrLW1xLXNjaGVkLmMKKysrIGIvYmxvY2svYmxrLW1xLXNjaGVkLmMKQEAgLTQwOSw3
ICs0MDksNyBAQCBFWFBPUlRfU1lNQk9MX0dQTChibGtfbXFfc2NoZWRfdHJ5X2luc2VydF9tZXJn
ZSk7CiAKIHZvaWQgYmxrX21xX3NjaGVkX3JlcXVlc3RfaW5zZXJ0ZWQoc3RydWN0IHJlcXVlc3Qg
KnJxKQogewotCXRyYWNlX2Jsb2NrX3JxX2luc2VydChycS0+cSwgcnEpOworCXRyYWNlX2Jsb2Nr
X3JxX2luc2VydChycSk7CiB9CiBFWFBPUlRfU1lNQk9MX0dQTChibGtfbXFfc2NoZWRfcmVxdWVz
dF9pbnNlcnRlZCk7CiAKZGlmZiAtLWdpdCBhL2Jsb2NrL2Jsay1tcS5jIGIvYmxvY2svYmxrLW1x
LmMKaW5kZXggYjg3MzhiM2M2ZDA2Li5kYmI5OGIyYmM4NjggMTAwNjQ0Ci0tLSBhL2Jsb2NrL2Js
ay1tcS5jCisrKyBiL2Jsb2NrL2Jsay1tcS5jCkBAIC03NDIsNyArNzQyLDcgQEAgdm9pZCBibGtf
bXFfc3RhcnRfcmVxdWVzdChzdHJ1Y3QgcmVxdWVzdCAqcnEpCiB7CiAJc3RydWN0IHJlcXVlc3Rf
cXVldWUgKnEgPSBycS0+cTsKIAotCXRyYWNlX2Jsb2NrX3JxX2lzc3VlKHEsIHJxKTsKKwl0cmFj
ZV9ibG9ja19ycV9pc3N1ZShycSk7CiAKIAlpZiAodGVzdF9iaXQoUVVFVUVfRkxBR19TVEFUUywg
JnEtPnF1ZXVlX2ZsYWdzKSkgewogCQlycS0+aW9fc3RhcnRfdGltZV9ucyA9IGt0aW1lX2dldF9u
cygpOwpAQCAtNzY5LDcgKzc2OSw3IEBAIHN0YXRpYyB2b2lkIF9fYmxrX21xX3JlcXVldWVfcmVx
dWVzdChzdHJ1Y3QgcmVxdWVzdCAqcnEpCiAKIAlibGtfbXFfcHV0X2RyaXZlcl90YWcocnEpOwog
Ci0JdHJhY2VfYmxvY2tfcnFfcmVxdWV1ZShxLCBycSk7CisJdHJhY2VfYmxvY2tfcnFfcmVxdWV1
ZShycSk7CiAJcnFfcW9zX3JlcXVldWUocSwgcnEpOwogCiAJaWYgKGJsa19tcV9yZXF1ZXN0X3N0
YXJ0ZWQocnEpKSB7CkBAIC0xNzU4LDcgKzE3NTgsNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgX19i
bGtfbXFfaW5zZXJ0X3JlcV9saXN0KHN0cnVjdCBibGtfbXFfaHdfY3R4ICpoY3R4LAogCiAJbG9j
a2RlcF9hc3NlcnRfaGVsZCgmY3R4LT5sb2NrKTsKIAotCXRyYWNlX2Jsb2NrX3JxX2luc2VydCho
Y3R4LT5xdWV1ZSwgcnEpOworCXRyYWNlX2Jsb2NrX3JxX2luc2VydChycSk7CiAKIAlpZiAoYXRf
aGVhZCkKIAkJbGlzdF9hZGQoJnJxLT5xdWV1ZWxpc3QsICZjdHgtPnJxX2xpc3RzW3R5cGVdKTsK
QEAgLTE4MTQsNyArMTgxNCw3IEBAIHZvaWQgYmxrX21xX2luc2VydF9yZXF1ZXN0cyhzdHJ1Y3Qg
YmxrX21xX2h3X2N0eCAqaGN0eCwgc3RydWN0IGJsa19tcV9jdHggKmN0eCwKIAkgKi8KIAlsaXN0
X2Zvcl9lYWNoX2VudHJ5KHJxLCBsaXN0LCBxdWV1ZWxpc3QpIHsKIAkJQlVHX09OKHJxLT5tcV9j
dHggIT0gY3R4KTsKLQkJdHJhY2VfYmxvY2tfcnFfaW5zZXJ0KGhjdHgtPnF1ZXVlLCBycSk7CisJ
CXRyYWNlX2Jsb2NrX3JxX2luc2VydChycSk7CiAJfQogCiAJc3Bpbl9sb2NrKCZjdHgtPmxvY2sp
OwpAQCAtMjExMSw3ICsyMTExLDcgQEAgYmxrX3FjX3QgYmxrX21xX21ha2VfcmVxdWVzdChzdHJ1
Y3QgcmVxdWVzdF9xdWV1ZSAqcSwgc3RydWN0IGJpbyAqYmlvKQogCQlnb3RvIHF1ZXVlX2V4aXQ7
CiAJfQogCi0JdHJhY2VfYmxvY2tfZ2V0cnEocSwgYmlvLCBiaW8tPmJpX29wZik7CisJdHJhY2Vf
YmxvY2tfZ2V0cnEoYmlvLCBiaW8tPmJpX29wZik7CiAKIAlycV9xb3NfdHJhY2socSwgcnEsIGJp
byk7CiAKZGlmZiAtLWdpdCBhL2Jsb2NrL2JvdW5jZS5jIGIvYmxvY2svYm91bmNlLmMKaW5kZXgg
YzNhYWVkMDcwMTI0Li45NTUwNjQwYjFmODYgMTAwNjQ0Ci0tLSBhL2Jsb2NrL2JvdW5jZS5jCisr
KyBiL2Jsb2NrL2JvdW5jZS5jCkBAIC0zNDEsNyArMzQxLDcgQEAgc3RhdGljIHZvaWQgX19ibGtf
cXVldWVfYm91bmNlKHN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLCBzdHJ1Y3QgYmlvICoqYmlvX29y
aWcsCiAJCX0KIAl9CiAKLQl0cmFjZV9ibG9ja19iaW9fYm91bmNlKHEsICpiaW9fb3JpZyk7CisJ
dHJhY2VfYmxvY2tfYmlvX2JvdW5jZSgqYmlvX29yaWcpOwogCiAJYmlvLT5iaV9mbGFncyB8PSAo
MSA8PCBCSU9fQk9VTkNFRCk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWQvZG0uYyBiL2RyaXZl
cnMvbWQvZG0uYwppbmRleCAxMDllODFmMzNlZGIuLjRiOWZmMjI2OTA0ZCAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9tZC9kbS5jCisrKyBiL2RyaXZlcnMvbWQvZG0uYwpAQCAtMTY3OCw3ICsxNjc4LDcg
QEAgc3RhdGljIGJsa19xY190IF9fc3BsaXRfYW5kX3Byb2Nlc3NfYmlvKHN0cnVjdCBtYXBwZWRf
ZGV2aWNlICptZCwKIAkJCQlwYXJ0X3N0YXRfdW5sb2NrKCk7CiAKIAkJCQliaW9fY2hhaW4oYiwg
YmlvKTsKLQkJCQl0cmFjZV9ibG9ja19zcGxpdChtZC0+cXVldWUsIGIsIGJpby0+YmlfaXRlci5i
aV9zZWN0b3IpOworCQkJCXRyYWNlX2Jsb2NrX3NwbGl0KGIsIGJpby0+YmlfaXRlci5iaV9zZWN0
b3IpOwogCQkJCXJldCA9IGdlbmVyaWNfbWFrZV9yZXF1ZXN0KGJpbyk7CiAJCQkJYnJlYWs7CiAJ
CQl9CkBAIC0xNzQ1LDcgKzE3NDUsNyBAQCBzdGF0aWMgdm9pZCBkbV9xdWV1ZV9zcGxpdChzdHJ1
Y3QgbWFwcGVkX2RldmljZSAqbWQsIHN0cnVjdCBkbV90YXJnZXQgKnRpLCBzdHJ1YwogCQlzdHJ1
Y3QgYmlvICpzcGxpdCA9IGJpb19zcGxpdCgqYmlvLCBsZW4sIEdGUF9OT0lPLCAmbWQtPnF1ZXVl
LT5iaW9fc3BsaXQpOwogCiAJCWJpb19jaGFpbihzcGxpdCwgKmJpbyk7Ci0JCXRyYWNlX2Jsb2Nr
X3NwbGl0KG1kLT5xdWV1ZSwgc3BsaXQsICgqYmlvKS0+YmlfaXRlci5iaV9zZWN0b3IpOworCQl0
cmFjZV9ibG9ja19zcGxpdChzcGxpdCwgKCpiaW8pLT5iaV9pdGVyLmJpX3NlY3Rvcik7CiAJCWdl
bmVyaWNfbWFrZV9yZXF1ZXN0KCpiaW8pOwogCQkqYmlvID0gc3BsaXQ7CiAJfQpkaWZmIC0tZ2l0
IGEvaW5jbHVkZS90cmFjZS9ldmVudHMvYmxvY2suaCBiL2luY2x1ZGUvdHJhY2UvZXZlbnRzL2Js
b2NrLmgKaW5kZXggMzRkNjRjYTMwNmIxLi4yMzdkNDBhNDg0MjkgMTAwNjQ0Ci0tLSBhL2luY2x1
ZGUvdHJhY2UvZXZlbnRzL2Jsb2NrLmgKKysrIGIvaW5jbHVkZS90cmFjZS9ldmVudHMvYmxvY2su
aApAQCAtNjQsNyArNjQsNiBAQCBERUZJTkVfRVZFTlQoYmxvY2tfYnVmZmVyLCBibG9ja19kaXJ0
eV9idWZmZXIsCiAKIC8qKgogICogYmxvY2tfcnFfcmVxdWV1ZSAtIHBsYWNlIGJsb2NrIElPIHJl
cXVlc3QgYmFjayBvbiBhIHF1ZXVlCi0gKiBAcTogcXVldWUgaG9sZGluZyBvcGVyYXRpb24KICAq
IEBycTogYmxvY2sgSU8gb3BlcmF0aW9uIHJlcXVlc3QKICAqCiAgKiBUaGUgYmxvY2sgb3BlcmF0
aW9uIHJlcXVlc3QgQHJxIGlzIGJlaW5nIHBsYWNlZCBiYWNrIGludG8gcXVldWUKQEAgLTczLDkg
KzcyLDkgQEAgREVGSU5FX0VWRU5UKGJsb2NrX2J1ZmZlciwgYmxvY2tfZGlydHlfYnVmZmVyLAog
ICovCiBUUkFDRV9FVkVOVChibG9ja19ycV9yZXF1ZXVlLAogCi0JVFBfUFJPVE8oc3RydWN0IHJl
cXVlc3RfcXVldWUgKnEsIHN0cnVjdCByZXF1ZXN0ICpycSksCisJVFBfUFJPVE8oc3RydWN0IHJl
cXVlc3QgKnJxKSwKIAotCVRQX0FSR1MocSwgcnEpLAorCVRQX0FSR1MocnEpLAogCiAJVFBfU1RS
VUNUX19lbnRyeSgKIAkJX19maWVsZCggIGRldl90LAlkZXYJCQkpCkBAIC0xMDMsNyArMTAyLDYg
QEAgVFJBQ0VfRVZFTlQoYmxvY2tfcnFfcmVxdWV1ZSwKIAogLyoqCiAgKiBibG9ja19ycV9jb21w
bGV0ZSAtIGJsb2NrIElPIG9wZXJhdGlvbiBjb21wbGV0ZWQgYnkgZGV2aWNlIGRyaXZlcgotICog
QHJxOiBibG9jayBvcGVyYXRpb25zIHJlcXVlc3QKICAqIEBlcnJvcjogc3RhdHVzIGNvZGUKICAq
IEBucl9ieXRlczogbnVtYmVyIG9mIGNvbXBsZXRlZCBieXRlcwogICoKQEAgLTE0Nyw5ICsxNDUs
OSBAQCBUUkFDRV9FVkVOVChibG9ja19ycV9jb21wbGV0ZSwKIAogREVDTEFSRV9FVkVOVF9DTEFT
UyhibG9ja19ycSwKIAotCVRQX1BST1RPKHN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLCBzdHJ1Y3Qg
cmVxdWVzdCAqcnEpLAorCVRQX1BST1RPKHN0cnVjdCByZXF1ZXN0ICpycSksCiAKLQlUUF9BUkdT
KHEsIHJxKSwKKwlUUF9BUkdTKHJxKSwKIAogCVRQX1NUUlVDVF9fZW50cnkoCiAJCV9fZmllbGQo
ICBkZXZfdCwJZGV2CQkJKQpAQCAtMTgxLDI0ICsxNzksMjIgQEAgREVDTEFSRV9FVkVOVF9DTEFT
UyhibG9ja19ycSwKIAogLyoqCiAgKiBibG9ja19ycV9pbnNlcnQgLSBpbnNlcnQgYmxvY2sgb3Bl
cmF0aW9uIHJlcXVlc3QgaW50byBxdWV1ZQotICogQHE6IHRhcmdldCBxdWV1ZQogICogQHJxOiBi
bG9jayBJTyBvcGVyYXRpb24gcmVxdWVzdAogICoKICAqIENhbGxlZCBpbW1lZGlhdGVseSBiZWZv
cmUgYmxvY2sgb3BlcmF0aW9uIHJlcXVlc3QgQHJxIGlzIGluc2VydGVkCi0gKiBpbnRvIHF1ZXVl
IEBxLiAgVGhlIGZpZWxkcyBpbiB0aGUgb3BlcmF0aW9uIHJlcXVlc3QgQHJxIHN0cnVjdCBjYW4K
KyAqIGludG8gcXVldWUuICBUaGUgZmllbGRzIGluIHRoZSBvcGVyYXRpb24gcmVxdWVzdCBAcnEg
c3RydWN0IGNhbgogICogYmUgZXhhbWluZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIGRldmljZSBhbmQg
c2VjdG9ycyB0aGUgcGVuZGluZwogICogb3BlcmF0aW9uIHdvdWxkIGFjY2Vzcy4KICAqLwogREVG
SU5FX0VWRU5UKGJsb2NrX3JxLCBibG9ja19ycV9pbnNlcnQsCiAKLQlUUF9QUk9UTyhzdHJ1Y3Qg
cmVxdWVzdF9xdWV1ZSAqcSwgc3RydWN0IHJlcXVlc3QgKnJxKSwKKwlUUF9QUk9UTyhzdHJ1Y3Qg
cmVxdWVzdCAqcnEpLAogCi0JVFBfQVJHUyhxLCBycSkKKwlUUF9BUkdTKHJxKQogKTsKIAogLyoq
CiAgKiBibG9ja19ycV9pc3N1ZSAtIGlzc3VlIHBlbmRpbmcgYmxvY2sgSU8gcmVxdWVzdCBvcGVy
YXRpb24gdG8gZGV2aWNlIGRyaXZlcgotICogQHE6IHF1ZXVlIGhvbGRpbmcgb3BlcmF0aW9uCiAg
KiBAcnE6IGJsb2NrIElPIG9wZXJhdGlvbiBvcGVyYXRpb24gcmVxdWVzdAogICoKICAqIENhbGxl
ZCB3aGVuIGJsb2NrIG9wZXJhdGlvbiByZXF1ZXN0IEBycSBmcm9tIHF1ZXVlIEBxIGlzIHNlbnQg
dG8gYQpAQCAtMjA2LDMyICsyMDIsMzAgQEAgREVGSU5FX0VWRU5UKGJsb2NrX3JxLCBibG9ja19y
cV9pbnNlcnQsCiAgKi8KIERFRklORV9FVkVOVChibG9ja19ycSwgYmxvY2tfcnFfaXNzdWUsCiAK
LQlUUF9QUk9UTyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwgc3RydWN0IHJlcXVlc3QgKnJxKSwK
KwlUUF9QUk9UTyhzdHJ1Y3QgcmVxdWVzdCAqcnEpLAogCi0JVFBfQVJHUyhxLCBycSkKKwlUUF9B
UkdTKHJxKQogKTsKIAogLyoqCiAgKiBibG9ja19ycV9tZXJnZSAtIG1lcmdlIHJlcXVlc3Qgd2l0
aCBhbm90aGVyIG9uZSBpbiB0aGUgZWxldmF0b3IKLSAqIEBxOiBxdWV1ZSBob2xkaW5nIG9wZXJh
dGlvbgogICogQHJxOiBibG9jayBJTyBvcGVyYXRpb24gb3BlcmF0aW9uIHJlcXVlc3QKICAqCi0g
KiBDYWxsZWQgd2hlbiBibG9jayBvcGVyYXRpb24gcmVxdWVzdCBAcnEgZnJvbSBxdWV1ZSBAcSBp
cyBtZXJnZWQgdG8gYW5vdGhlcgorICogQ2FsbGVkIHdoZW4gYmxvY2sgb3BlcmF0aW9uIHJlcXVl
c3QgQHJxIGZyb20gcXVldWUgaXMgbWVyZ2VkIHRvIGFub3RoZXIKICAqIHJlcXVlc3QgcXVldWVk
IGluIHRoZSBlbGV2YXRvci4KICAqLwogREVGSU5FX0VWRU5UKGJsb2NrX3JxLCBibG9ja19ycV9t
ZXJnZSwKIAotCVRQX1BST1RPKHN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLCBzdHJ1Y3QgcmVxdWVz
dCAqcnEpLAorCVRQX1BST1RPKHN0cnVjdCByZXF1ZXN0ICpycSksCiAKLQlUUF9BUkdTKHEsIHJx
KQorCVRQX0FSR1MocnEpCiApOwogCiAvKioKICAqIGJsb2NrX2Jpb19ib3VuY2UgLSB1c2VkIGJv
dW5jZSBidWZmZXIgd2hlbiBwcm9jZXNzaW5nIGJsb2NrIG9wZXJhdGlvbgotICogQHE6IHF1ZXVl
IGhvbGRpbmcgdGhlIGJsb2NrIG9wZXJhdGlvbgogICogQGJpbzogYmxvY2sgb3BlcmF0aW9uCiAg
KgotICogQSBib3VuY2UgYnVmZmVyIHdhcyB1c2VkIHRvIGhhbmRsZSB0aGUgYmxvY2sgb3BlcmF0
aW9uIEBiaW8gaW4gQHEuCisgKiBBIGJvdW5jZSBidWZmZXIgd2FzIHVzZWQgdG8gaGFuZGxlIHRo
ZSBibG9jayBvcGVyYXRpb24gQGJpbyBpbiBxdWV1ZS4KICAqIFRoaXMgb2NjdXJzIHdoZW4gaGFy
ZHdhcmUgbGltaXRhdGlvbnMgcHJldmVudCBhIGRpcmVjdCB0cmFuc2ZlciBvZgogICogZGF0YSBi
ZXR3ZWVuIHRoZSBAYmlvIGRhdGEgbWVtb3J5IGFyZWEgYW5kIHRoZSBJTyBkZXZpY2UuICBVc2Ug
b2YgYQogICogYm91bmNlIGJ1ZmZlciByZXF1aXJlcyBleHRyYSBjb3B5aW5nIG9mIGRhdGEgYW5k
IGRlY3JlYXNlcwpAQCAtMjM5LDkgKzIzMyw5IEBAIERFRklORV9FVkVOVChibG9ja19ycSwgYmxv
Y2tfcnFfbWVyZ2UsCiAgKi8KIFRSQUNFX0VWRU5UKGJsb2NrX2Jpb19ib3VuY2UsCiAKLQlUUF9Q
Uk9UTyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwgc3RydWN0IGJpbyAqYmlvKSwKKwlUUF9QUk9U
TyhzdHJ1Y3QgYmlvICpiaW8pLAogCi0JVFBfQVJHUyhxLCBiaW8pLAorCVRQX0FSR1MoYmlvKSwK
IAogCVRQX1NUUlVDVF9fZW50cnkoCiAJCV9fZmllbGQoIGRldl90LAkJZGV2CQkJKQpAQCAtMzAz
LDkgKzI5Nyw5IEBAIFRSQUNFX0VWRU5UKGJsb2NrX2Jpb19jb21wbGV0ZSwKIAogREVDTEFSRV9F
VkVOVF9DTEFTUyhibG9ja19iaW9fbWVyZ2UsCiAKLQlUUF9QUk9UTyhzdHJ1Y3QgcmVxdWVzdF9x
dWV1ZSAqcSwgc3RydWN0IHJlcXVlc3QgKnJxLCBzdHJ1Y3QgYmlvICpiaW8pLAorCVRQX1BST1RP
KHN0cnVjdCBiaW8gKmJpbyksCiAKLQlUUF9BUkdTKHEsIHJxLCBiaW8pLAorCVRQX0FSR1MoYmlv
KSwKIAogCVRQX1NUUlVDVF9fZW50cnkoCiAJCV9fZmllbGQoIGRldl90LAkJZGV2CQkJKQpAQCAt
MzMxLDQ4ICszMjUsNDMgQEAgREVDTEFSRV9FVkVOVF9DTEFTUyhibG9ja19iaW9fbWVyZ2UsCiAK
IC8qKgogICogYmxvY2tfYmlvX2JhY2ttZXJnZSAtIG1lcmdpbmcgYmxvY2sgb3BlcmF0aW9uIHRv
IHRoZSBlbmQgb2YgYW4gZXhpc3Rpbmcgb3BlcmF0aW9uCi0gKiBAcTogcXVldWUgaG9sZGluZyBv
cGVyYXRpb24KLSAqIEBycTogcmVxdWVzdCBiaW8gaXMgYmVpbmcgbWVyZ2VkIGludG8KICAqIEBi
aW86IG5ldyBibG9jayBvcGVyYXRpb24gdG8gbWVyZ2UKICAqCiAgKiBNZXJnaW5nIGJsb2NrIHJl
cXVlc3QgQGJpbyB0byB0aGUgZW5kIG9mIGFuIGV4aXN0aW5nIGJsb2NrIHJlcXVlc3QKLSAqIGlu
IHF1ZXVlIEBxLgorICogaW4gcXVldWUuCiAgKi8KIERFRklORV9FVkVOVChibG9ja19iaW9fbWVy
Z2UsIGJsb2NrX2Jpb19iYWNrbWVyZ2UsCiAKLQlUUF9QUk9UTyhzdHJ1Y3QgcmVxdWVzdF9xdWV1
ZSAqcSwgc3RydWN0IHJlcXVlc3QgKnJxLCBzdHJ1Y3QgYmlvICpiaW8pLAorCVRQX1BST1RPKHN0
cnVjdCBiaW8gKmJpbyksCiAKLQlUUF9BUkdTKHEsIHJxLCBiaW8pCisJVFBfQVJHUyhiaW8pCiAp
OwogCiAvKioKICAqIGJsb2NrX2Jpb19mcm9udG1lcmdlIC0gbWVyZ2luZyBibG9jayBvcGVyYXRp
b24gdG8gdGhlIGJlZ2lubmluZyBvZiBhbiBleGlzdGluZyBvcGVyYXRpb24KLSAqIEBxOiBxdWV1
ZSBob2xkaW5nIG9wZXJhdGlvbgotICogQHJxOiByZXF1ZXN0IGJpbyBpcyBiZWluZyBtZXJnZWQg
aW50bwogICogQGJpbzogbmV3IGJsb2NrIG9wZXJhdGlvbiB0byBtZXJnZQogICoKICAqIE1lcmdp
bmcgYmxvY2sgSU8gb3BlcmF0aW9uIEBiaW8gdG8gdGhlIGJlZ2lubmluZyBvZiBhbiBleGlzdGlu
ZyBibG9jawotICogb3BlcmF0aW9uIGluIHF1ZXVlIEBxLgorICogb3BlcmF0aW9uIGluIHF1ZXVl
LgogICovCiBERUZJTkVfRVZFTlQoYmxvY2tfYmlvX21lcmdlLCBibG9ja19iaW9fZnJvbnRtZXJn
ZSwKIAotCVRQX1BST1RPKHN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLCBzdHJ1Y3QgcmVxdWVzdCAq
cnEsIHN0cnVjdCBiaW8gKmJpbyksCisJVFBfUFJPVE8oc3RydWN0IGJpbyAqYmlvKSwKIAotCVRQ
X0FSR1MocSwgcnEsIGJpbykKKwlUUF9BUkdTKGJpbykKICk7CiAKIC8qKgogICogYmxvY2tfYmlv
X3F1ZXVlIC0gcHV0dGluZyBuZXcgYmxvY2sgSU8gb3BlcmF0aW9uIGluIHF1ZXVlCi0gKiBAcTog
cXVldWUgaG9sZGluZyBvcGVyYXRpb24KICAqIEBiaW86IG5ldyBibG9jayBvcGVyYXRpb24KICAq
Ci0gKiBBYm91dCB0byBwbGFjZSB0aGUgYmxvY2sgSU8gb3BlcmF0aW9uIEBiaW8gaW50byBxdWV1
ZSBAcS4KKyAqIEFib3V0IHRvIHBsYWNlIHRoZSBibG9jayBJTyBvcGVyYXRpb24gQGJpbyBpbnRv
IHF1ZXVlLgogICovCiBUUkFDRV9FVkVOVChibG9ja19iaW9fcXVldWUsCiAKLQlUUF9QUk9UTyhz
dHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwgc3RydWN0IGJpbyAqYmlvKSwKKwlUUF9QUk9UTyhzdHJ1
Y3QgYmlvICpiaW8pLAogCi0JVFBfQVJHUyhxLCBiaW8pLAorCVRQX0FSR1MoYmlvKSwKIAogCVRQ
X1NUUlVDVF9fZW50cnkoCiAJCV9fZmllbGQoIGRldl90LAkJZGV2CQkJKQpAQCAtMzk4LDkgKzM4
Nyw5IEBAIFRSQUNFX0VWRU5UKGJsb2NrX2Jpb19xdWV1ZSwKIAogREVDTEFSRV9FVkVOVF9DTEFT
UyhibG9ja19nZXRfcnEsCiAKLQlUUF9QUk9UTyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwgc3Ry
dWN0IGJpbyAqYmlvLCBpbnQgcncpLAorCVRQX1BST1RPKHN0cnVjdCBiaW8gKmJpbywgaW50IHJ3
KSwKIAotCVRQX0FSR1MocSwgYmlvLCBydyksCisJVFBfQVJHUyhiaW8sIHJ3KSwKIAogCVRQX1NU
UlVDVF9fZW50cnkoCiAJCV9fZmllbGQoIGRldl90LAkJZGV2CQkJKQpAQCAtNDI3LDM2ICs0MTYs
MzQgQEAgREVDTEFSRV9FVkVOVF9DTEFTUyhibG9ja19nZXRfcnEsCiAKIC8qKgogICogYmxvY2tf
Z2V0cnEgLSBnZXQgYSBmcmVlIHJlcXVlc3QgZW50cnkgaW4gcXVldWUgZm9yIGJsb2NrIElPIG9w
ZXJhdGlvbnMKLSAqIEBxOiBxdWV1ZSBmb3Igb3BlcmF0aW9ucwogICogQGJpbzogcGVuZGluZyBi
bG9jayBJTyBvcGVyYXRpb24gKGNhbiBiZSAlTlVMTCkKICAqIEBydzogbG93IGJpdCBpbmRpY2F0
ZXMgYSByZWFkICglMCkgb3IgYSB3cml0ZSAoJTEpCiAgKgotICogQSByZXF1ZXN0IHN0cnVjdCBm
b3IgcXVldWUgQHEgaGFzIGJlZW4gYWxsb2NhdGVkIHRvIGhhbmRsZSB0aGUKKyAqIEEgcmVxdWVz
dCBzdHJ1Y3QgZm9yIHF1ZXVlIGhhcyBiZWVuIGFsbG9jYXRlZCB0byBoYW5kbGUgdGhlCiAgKiBi
bG9jayBJTyBvcGVyYXRpb24gQGJpby4KICAqLwogREVGSU5FX0VWRU5UKGJsb2NrX2dldF9ycSwg
YmxvY2tfZ2V0cnEsCiAKLQlUUF9QUk9UTyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwgc3RydWN0
IGJpbyAqYmlvLCBpbnQgcncpLAorCVRQX1BST1RPKHN0cnVjdCBiaW8gKmJpbywgaW50IHJ3KSwK
IAotCVRQX0FSR1MocSwgYmlvLCBydykKKwlUUF9BUkdTKGJpbywgcncpCiApOwogCiAvKioKICAq
IGJsb2NrX3NsZWVwcnEgLSB3YWl0aW5nIHRvIGdldCBhIGZyZWUgcmVxdWVzdCBlbnRyeSBpbiBx
dWV1ZSBmb3IgYmxvY2sgSU8gb3BlcmF0aW9uCi0gKiBAcTogcXVldWUgZm9yIG9wZXJhdGlvbgog
ICogQGJpbzogcGVuZGluZyBibG9jayBJTyBvcGVyYXRpb24gKGNhbiBiZSAlTlVMTCkKICAqIEBy
dzogbG93IGJpdCBpbmRpY2F0ZXMgYSByZWFkICglMCkgb3IgYSB3cml0ZSAoJTEpCiAgKgotICog
SW4gdGhlIGNhc2Ugd2hlcmUgYSByZXF1ZXN0IHN0cnVjdCBjYW5ub3QgYmUgcHJvdmlkZWQgZm9y
IHF1ZXVlIEBxCisgKiBJbiB0aGUgY2FzZSB3aGVyZSBhIHJlcXVlc3Qgc3RydWN0IGNhbm5vdCBi
ZSBwcm92aWRlZCBmb3IgcXVldWUKICAqIHRoZSBwcm9jZXNzIG5lZWRzIHRvIHdhaXQgZm9yIGFu
IHJlcXVlc3Qgc3RydWN0IHRvIGJlY29tZQogICogYXZhaWxhYmxlLiAgVGhpcyB0cmFjZXBvaW50
IGV2ZW50IGlzIGdlbmVyYXRlZCBlYWNoIHRpbWUgdGhlCiAgKiBwcm9jZXNzIGdvZXMgdG8gc2xl
ZXAgd2FpdGluZyBmb3IgcmVxdWVzdCBzdHJ1Y3QgYmVjb21lIGF2YWlsYWJsZS4KICAqLwogREVG
SU5FX0VWRU5UKGJsb2NrX2dldF9ycSwgYmxvY2tfc2xlZXBycSwKIAotCVRQX1BST1RPKHN0cnVj
dCByZXF1ZXN0X3F1ZXVlICpxLCBzdHJ1Y3QgYmlvICpiaW8sIGludCBydyksCisJVFBfUFJPVE8o
c3RydWN0IGJpbyAqYmlvLCBpbnQgcncpLAogCi0JVFBfQVJHUyhxLCBiaW8sIHJ3KQorCVRQX0FS
R1MoYmlvLCBydykKICk7CiAKIC8qKgpAQCAtNTIxLDcgKzUwOCw2IEBAIERFRklORV9FVkVOVChi
bG9ja191bnBsdWcsIGJsb2NrX3VucGx1ZywKIAogLyoqCiAgKiBibG9ja19zcGxpdCAtIHNwbGl0
IGEgc2luZ2xlIGJpbyBzdHJ1Y3QgaW50byB0d28gYmlvIHN0cnVjdHMKLSAqIEBxOiBxdWV1ZSBj
b250YWluaW5nIHRoZSBiaW8KICAqIEBiaW86IGJsb2NrIG9wZXJhdGlvbiBiZWluZyBzcGxpdAog
ICogQG5ld19zZWN0b3I6IFRoZSBzdGFydGluZyBzZWN0b3IgZm9yIHRoZSBuZXcgYmlvCiAgKgpA
QCAtNTMyLDEwICs1MTgsOSBAQCBERUZJTkVfRVZFTlQoYmxvY2tfdW5wbHVnLCBibG9ja191bnBs
dWcsCiAgKi8KIFRSQUNFX0VWRU5UKGJsb2NrX3NwbGl0LAogCi0JVFBfUFJPVE8oc3RydWN0IHJl
cXVlc3RfcXVldWUgKnEsIHN0cnVjdCBiaW8gKmJpbywKLQkJIHVuc2lnbmVkIGludCBuZXdfc2Vj
dG9yKSwKKwlUUF9QUk9UTyhzdHJ1Y3QgYmlvICpiaW8sIHVuc2lnbmVkIGludCBuZXdfc2VjdG9y
KSwKIAotCVRQX0FSR1MocSwgYmlvLCBuZXdfc2VjdG9yKSwKKwlUUF9BUkdTKGJpbywgbmV3X3Nl
Y3RvciksCiAKIAlUUF9TVFJVQ1RfX2VudHJ5KAogCQlfX2ZpZWxkKCBkZXZfdCwJCWRldgkJCQkp
CmRpZmYgLS1naXQgYS9rZXJuZWwvdHJhY2UvYmxrdHJhY2UuYyBiL2tlcm5lbC90cmFjZS9ibGt0
cmFjZS5jCmluZGV4IDdiYTYyZDY4ODg1YS4uN2I3Mjc4MWE1OTFkIDEwMDY0NAotLS0gYS9rZXJu
ZWwvdHJhY2UvYmxrdHJhY2UuYworKysgYi9rZXJuZWwvdHJhY2UvYmxrdHJhY2UuYwpAQCAtMjgs
NiArMjgsMTEgQEAKIAogI2lmZGVmIENPTkZJR19CTEtfREVWX0lPX1RSQUNFCiAKK3N0YXRpYyBp
bmxpbmUgc3RydWN0IHJlcXVlc3RfcXVldWUgKmJpb19xKHN0cnVjdCBiaW8gKmJpbykKK3sKKwly
ZXR1cm4gYmlvLT5iaV9kaXNrLT5xdWV1ZTsKK30KKwogc3RhdGljIHVuc2lnbmVkIGludCBibGt0
cmFjZV9zZXEgX19yZWFkX21vc3RseSA9IDE7CiAKIHN0YXRpYyBzdHJ1Y3QgdHJhY2VfYXJyYXkg
KmJsa190cjsKQEAgLTg0NiwzMyArODUxLDI4IEBAIHN0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2Vf
cnEoc3RydWN0IHJlcXVlc3QgKnJxLCBpbnQgZXJyb3IsCiAJcmN1X3JlYWRfdW5sb2NrKCk7CiB9
CiAKLXN0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2VfcnFfaW5zZXJ0KHZvaWQgKmlnbm9yZSwKLQkJ
CQkgICAgc3RydWN0IHJlcXVlc3RfcXVldWUgKnEsIHN0cnVjdCByZXF1ZXN0ICpycSkKK3N0YXRp
YyB2b2lkIGJsa19hZGRfdHJhY2VfcnFfaW5zZXJ0KHZvaWQgKmlnbm9yZSwgc3RydWN0IHJlcXVl
c3QgKnJxKQogewogCWJsa19hZGRfdHJhY2VfcnEocnEsIDAsIGJsa19ycV9ieXRlcyhycSksIEJM
S19UQV9JTlNFUlQsCi0JCQkgYmxrX3RyYWNlX3JlcXVlc3RfZ2V0X2NnaWQocSwgcnEpKTsKKwkJ
CSBibGtfdHJhY2VfcmVxdWVzdF9nZXRfY2dpZChycS0+cSwgcnEpKTsKIH0KIAotc3RhdGljIHZv
aWQgYmxrX2FkZF90cmFjZV9ycV9pc3N1ZSh2b2lkICppZ25vcmUsCi0JCQkJICAgc3RydWN0IHJl
cXVlc3RfcXVldWUgKnEsIHN0cnVjdCByZXF1ZXN0ICpycSkKK3N0YXRpYyB2b2lkIGJsa19hZGRf
dHJhY2VfcnFfaXNzdWUodm9pZCAqaWdub3JlLCBzdHJ1Y3QgcmVxdWVzdCAqcnEpCiB7CiAJYmxr
X2FkZF90cmFjZV9ycShycSwgMCwgYmxrX3JxX2J5dGVzKHJxKSwgQkxLX1RBX0lTU1VFLAotCQkJ
IGJsa190cmFjZV9yZXF1ZXN0X2dldF9jZ2lkKHEsIHJxKSk7CisJCQkgYmxrX3RyYWNlX3JlcXVl
c3RfZ2V0X2NnaWQocnEtPnEsIHJxKSk7CiB9CiAKLXN0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2Vf
cnFfbWVyZ2Uodm9pZCAqaWdub3JlLAotCQkJCSAgIHN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLCBz
dHJ1Y3QgcmVxdWVzdCAqcnEpCitzdGF0aWMgdm9pZCBibGtfYWRkX3RyYWNlX3JxX21lcmdlKHZv
aWQgKmlnbm9yZSwgc3RydWN0IHJlcXVlc3QgKnJxKQogewogCWJsa19hZGRfdHJhY2VfcnEocnEs
IDAsIGJsa19ycV9ieXRlcyhycSksIEJMS19UQV9CQUNLTUVSR0UsCi0JCQkgYmxrX3RyYWNlX3Jl
cXVlc3RfZ2V0X2NnaWQocSwgcnEpKTsKKwkJCSBibGtfdHJhY2VfcmVxdWVzdF9nZXRfY2dpZChy
cS0+cSwgcnEpKTsKIH0KIAotc3RhdGljIHZvaWQgYmxrX2FkZF90cmFjZV9ycV9yZXF1ZXVlKHZv
aWQgKmlnbm9yZSwKLQkJCQkgICAgIHN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLAotCQkJCSAgICAg
c3RydWN0IHJlcXVlc3QgKnJxKQorc3RhdGljIHZvaWQgYmxrX2FkZF90cmFjZV9ycV9yZXF1ZXVl
KHZvaWQgKmlnbm9yZSwgc3RydWN0IHJlcXVlc3QgKnJxKQogewogCWJsa19hZGRfdHJhY2VfcnEo
cnEsIDAsIGJsa19ycV9ieXRlcyhycSksIEJMS19UQV9SRVFVRVVFLAotCQkJIGJsa190cmFjZV9y
ZXF1ZXN0X2dldF9jZ2lkKHEsIHJxKSk7CisJCQkgYmxrX3RyYWNlX3JlcXVlc3RfZ2V0X2NnaWQo
cnEtPnEsIHJxKSk7CiB9CiAKIHN0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2VfcnFfY29tcGxldGUo
dm9pZCAqaWdub3JlLCBzdHJ1Y3QgcmVxdWVzdCAqcnEsCkBAIC04OTMsMTMgKzg5MywxMiBAQCBz
dGF0aWMgdm9pZCBibGtfYWRkX3RyYWNlX3JxX2NvbXBsZXRlKHZvaWQgKmlnbm9yZSwgc3RydWN0
IHJlcXVlc3QgKnJxLAogICogICAgIFJlY29yZHMgYW4gYWN0aW9uIGFnYWluc3QgYSBiaW8uIFdp
bGwgbG9nIHRoZSBiaW8gb2Zmc2V0ICsgc2l6ZS4KICAqCiAgKiovCi1zdGF0aWMgdm9pZCBibGtf
YWRkX3RyYWNlX2JpbyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwgc3RydWN0IGJpbyAqYmlvLAot
CQkJICAgICAgdTMyIHdoYXQsIGludCBlcnJvcikKK3N0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2Vf
YmlvKHN0cnVjdCBiaW8gKmJpbywgdTMyIHdoYXQsIGludCBlcnJvcikKIHsKIAlzdHJ1Y3QgYmxr
X3RyYWNlICpidDsKIAogCXJjdV9yZWFkX2xvY2soKTsKLQlidCA9IHJjdV9kZXJlZmVyZW5jZShx
LT5ibGtfdHJhY2UpOworCWJ0ID0gcmN1X2RlcmVmZXJlbmNlKGJpb19xKGJpbyktPmJsa190cmFj
ZSk7CiAJaWYgKGxpa2VseSghYnQpKSB7CiAJCXJjdV9yZWFkX3VubG9jaygpOwogCQlyZXR1cm47
CkBAIC05MDcsNTYgKzkwNiw1OSBAQCBzdGF0aWMgdm9pZCBibGtfYWRkX3RyYWNlX2JpbyhzdHJ1
Y3QgcmVxdWVzdF9xdWV1ZSAqcSwgc3RydWN0IGJpbyAqYmlvLAogCiAJX19ibGtfYWRkX3RyYWNl
KGJ0LCBiaW8tPmJpX2l0ZXIuYmlfc2VjdG9yLCBiaW8tPmJpX2l0ZXIuYmlfc2l6ZSwKIAkJCWJp
b19vcChiaW8pLCBiaW8tPmJpX29wZiwgd2hhdCwgZXJyb3IsIDAsIE5VTEwsCi0JCQlibGtfdHJh
Y2VfYmlvX2dldF9jZ2lkKHEsIGJpbykpOworCQkJYmxrX3RyYWNlX2Jpb19nZXRfY2dpZChiaW9f
cShiaW8pLCBiaW8pKTsKIAlyY3VfcmVhZF91bmxvY2soKTsKIH0KIAotc3RhdGljIHZvaWQgYmxr
X2FkZF90cmFjZV9iaW9fYm91bmNlKHZvaWQgKmlnbm9yZSwKLQkJCQkgICAgIHN0cnVjdCByZXF1
ZXN0X3F1ZXVlICpxLCBzdHJ1Y3QgYmlvICpiaW8pCitzdGF0aWMgdm9pZCBibGtfYWRkX3RyYWNl
X2Jpb19ib3VuY2Uodm9pZCAqaWdub3JlLCBzdHJ1Y3QgYmlvICpiaW8pCiB7Ci0JYmxrX2FkZF90
cmFjZV9iaW8ocSwgYmlvLCBCTEtfVEFfQk9VTkNFLCAwKTsKKwlibGtfYWRkX3RyYWNlX2Jpbyhi
aW8sIEJMS19UQV9CT1VOQ0UsIDApOwogfQogCi1zdGF0aWMgdm9pZCBibGtfYWRkX3RyYWNlX2Jp
b19jb21wbGV0ZSh2b2lkICppZ25vcmUsCi0JCQkJICAgICAgIHN0cnVjdCByZXF1ZXN0X3F1ZXVl
ICpxLCBzdHJ1Y3QgYmlvICpiaW8pCitzdGF0aWMgdm9pZCBibGtfYWRkX3RyYWNlX2Jpb19jb21w
bGV0ZSh2b2lkICppZ25vcmUsIHN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLAorCQkJCSAgICAgICBz
dHJ1Y3QgYmlvICpiaW8pCiB7Ci0JYmxrX2FkZF90cmFjZV9iaW8ocSwgYmlvLCBCTEtfVEFfQ09N
UExFVEUsCi0JCQkgIGJsa19zdGF0dXNfdG9fZXJybm8oYmlvLT5iaV9zdGF0dXMpKTsKKwlzdHJ1
Y3QgYmxrX3RyYWNlICpidDsKKworCXJjdV9yZWFkX2xvY2soKTsKKwlidCA9IHJjdV9kZXJlZmVy
ZW5jZShxLT5ibGtfdHJhY2UpOworCWlmIChsaWtlbHkoIWJ0KSkgeworCQlyY3VfcmVhZF91bmxv
Y2soKTsKKwkJcmV0dXJuOworCX0KKworCV9fYmxrX2FkZF90cmFjZShidCwgYmlvLT5iaV9pdGVy
LmJpX3NlY3RvciwgYmlvLT5iaV9pdGVyLmJpX3NpemUsCisJCQliaW9fb3AoYmlvKSwgYmlvLT5i
aV9vcGYsIEJMS19UQV9DT01QTEVURSwKKwkJCWJsa19zdGF0dXNfdG9fZXJybm8oYmlvLT5iaV9z
dGF0dXMpLCAwLCBOVUxMLAorCQkJYmxrX3RyYWNlX2Jpb19nZXRfY2dpZChxLCBiaW8pKTsKKwly
Y3VfcmVhZF91bmxvY2soKTsKIH0KIAotc3RhdGljIHZvaWQgYmxrX2FkZF90cmFjZV9iaW9fYmFj
a21lcmdlKHZvaWQgKmlnbm9yZSwKLQkJCQkJc3RydWN0IHJlcXVlc3RfcXVldWUgKnEsCi0JCQkJ
CXN0cnVjdCByZXF1ZXN0ICpycSwKLQkJCQkJc3RydWN0IGJpbyAqYmlvKQorc3RhdGljIHZvaWQg
YmxrX2FkZF90cmFjZV9iaW9fYmFja21lcmdlKHZvaWQgKmlnbm9yZSwgc3RydWN0IGJpbyAqYmlv
KQogewotCWJsa19hZGRfdHJhY2VfYmlvKHEsIGJpbywgQkxLX1RBX0JBQ0tNRVJHRSwgMCk7CisJ
YmxrX2FkZF90cmFjZV9iaW8oYmlvLCBCTEtfVEFfQkFDS01FUkdFLCAwKTsKIH0KIAotc3RhdGlj
IHZvaWQgYmxrX2FkZF90cmFjZV9iaW9fZnJvbnRtZXJnZSh2b2lkICppZ25vcmUsCi0JCQkJCSBz
dHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwKLQkJCQkJIHN0cnVjdCByZXF1ZXN0ICpycSwKLQkJCQkJ
IHN0cnVjdCBiaW8gKmJpbykKK3N0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2VfYmlvX2Zyb250bWVy
Z2Uodm9pZCAqaWdub3JlLCBzdHJ1Y3QgYmlvICpiaW8pCiB7Ci0JYmxrX2FkZF90cmFjZV9iaW8o
cSwgYmlvLCBCTEtfVEFfRlJPTlRNRVJHRSwgMCk7CisJYmxrX2FkZF90cmFjZV9iaW8oYmlvLCBC
TEtfVEFfRlJPTlRNRVJHRSwgMCk7CiB9CiAKLXN0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2VfYmlv
X3F1ZXVlKHZvaWQgKmlnbm9yZSwKLQkJCQkgICAgc3RydWN0IHJlcXVlc3RfcXVldWUgKnEsIHN0
cnVjdCBiaW8gKmJpbykKK3N0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2VfYmlvX3F1ZXVlKHZvaWQg
Kmlnbm9yZSwgc3RydWN0IGJpbyAqYmlvKQogewotCWJsa19hZGRfdHJhY2VfYmlvKHEsIGJpbywg
QkxLX1RBX1FVRVVFLCAwKTsKKwlibGtfYWRkX3RyYWNlX2JpbyhiaW8sIEJMS19UQV9RVUVVRSwg
MCk7CiB9CiAKIHN0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2VfZ2V0cnEodm9pZCAqaWdub3JlLAot
CQkJCXN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLAogCQkJCXN0cnVjdCBiaW8gKmJpbywgaW50IHJ3
KQogewogCWlmIChiaW8pCi0JCWJsa19hZGRfdHJhY2VfYmlvKHEsIGJpbywgQkxLX1RBX0dFVFJR
LCAwKTsKKwkJYmxrX2FkZF90cmFjZV9iaW8oYmlvLCBCTEtfVEFfR0VUUlEsIDApOwogCWVsc2Ug
ewogCQlzdHJ1Y3QgYmxrX3RyYWNlICpidDsKIAogCQlyY3VfcmVhZF9sb2NrKCk7Ci0JCWJ0ID0g
cmN1X2RlcmVmZXJlbmNlKHEtPmJsa190cmFjZSk7CisJCWJ0ID0gcmN1X2RlcmVmZXJlbmNlKGJp
b19xKGJpbyktPmJsa190cmFjZSk7CiAJCWlmIChidCkKIAkJCV9fYmxrX2FkZF90cmFjZShidCwg
MCwgMCwgcncsIDAsIEJMS19UQV9HRVRSUSwgMCwgMCwKIAkJCQkJTlVMTCwgMCk7CkBAIC05NjUs
MTcgKzk2NywxNSBAQCBzdGF0aWMgdm9pZCBibGtfYWRkX3RyYWNlX2dldHJxKHZvaWQgKmlnbm9y
ZSwKIH0KIAogCi1zdGF0aWMgdm9pZCBibGtfYWRkX3RyYWNlX3NsZWVwcnEodm9pZCAqaWdub3Jl
LAotCQkJCSAgc3RydWN0IHJlcXVlc3RfcXVldWUgKnEsCi0JCQkJICBzdHJ1Y3QgYmlvICpiaW8s
IGludCBydykKK3N0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2Vfc2xlZXBycSh2b2lkICppZ25vcmUs
IHN0cnVjdCBiaW8gKmJpbywgaW50IHJ3KQogewogCWlmIChiaW8pCi0JCWJsa19hZGRfdHJhY2Vf
YmlvKHEsIGJpbywgQkxLX1RBX1NMRUVQUlEsIDApOworCQlibGtfYWRkX3RyYWNlX2JpbyhiaW8s
IEJMS19UQV9TTEVFUFJRLCAwKTsKIAllbHNlIHsKIAkJc3RydWN0IGJsa190cmFjZSAqYnQ7CiAK
IAkJcmN1X3JlYWRfbG9jaygpOwotCQlidCA9IHJjdV9kZXJlZmVyZW5jZShxLT5ibGtfdHJhY2Up
OworCQlidCA9IHJjdV9kZXJlZmVyZW5jZShiaW9fcShiaW8pLT5ibGtfdHJhY2UpOwogCQlpZiAo
YnQpCiAJCQlfX2Jsa19hZGRfdHJhY2UoYnQsIDAsIDAsIHJ3LCAwLCBCTEtfVEFfU0xFRVBSUSwK
IAkJCQkJMCwgMCwgTlVMTCwgMCk7CkBAIC0xMDE1LDE0ICsxMDE1LDEyIEBAIHN0YXRpYyB2b2lk
IGJsa19hZGRfdHJhY2VfdW5wbHVnKHZvaWQgKmlnbm9yZSwgc3RydWN0IHJlcXVlc3RfcXVldWUg
KnEsCiAJcmN1X3JlYWRfdW5sb2NrKCk7CiB9CiAKLXN0YXRpYyB2b2lkIGJsa19hZGRfdHJhY2Vf
c3BsaXQodm9pZCAqaWdub3JlLAotCQkJCXN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLCBzdHJ1Y3Qg
YmlvICpiaW8sCi0JCQkJdW5zaWduZWQgaW50IHBkdSkKK3N0YXRpYyB2b2lkIGJsa19hZGRfdHJh
Y2Vfc3BsaXQodm9pZCAqaWdub3JlLCBzdHJ1Y3QgYmlvICpiaW8sIHVuc2lnbmVkIGludCBwZHUp
CiB7CiAJc3RydWN0IGJsa190cmFjZSAqYnQ7CiAKIAlyY3VfcmVhZF9sb2NrKCk7Ci0JYnQgPSBy
Y3VfZGVyZWZlcmVuY2UocS0+YmxrX3RyYWNlKTsKKwlidCA9IHJjdV9kZXJlZmVyZW5jZShiaW9f
cShiaW8pLT5ibGtfdHJhY2UpOwogCWlmIChidCkgewogCQlfX2JlNjQgcnBkdSA9IGNwdV90b19i
ZTY0KHBkdSk7CiAKQEAgLTEwMzEsNyArMTAyOSw3IEBAIHN0YXRpYyB2b2lkIGJsa19hZGRfdHJh
Y2Vfc3BsaXQodm9pZCAqaWdub3JlLAogCQkJCUJMS19UQV9TUExJVCwKIAkJCQlibGtfc3RhdHVz
X3RvX2Vycm5vKGJpby0+Ymlfc3RhdHVzKSwKIAkJCQlzaXplb2YocnBkdSksICZycGR1LAotCQkJ
CWJsa190cmFjZV9iaW9fZ2V0X2NnaWQocSwgYmlvKSk7CisJCQkJYmxrX3RyYWNlX2Jpb19nZXRf
Y2dpZChiaW9fcShiaW8pLCBiaW8pKTsKIAl9CiAJcmN1X3JlYWRfdW5sb2NrKCk7CiB9Ci0tIAoy
LjI2LjAKCi0tCmRtLWRldmVsIG1haWxpbmcgbGlzdApkbS1kZXZlbEByZWRoYXQuY29tCmh0dHBz
Oi8vd3d3LnJlZGhhdC5jb20vbWFpbG1hbi9saXN0aW5mby9kbS1kZXZlbA==

