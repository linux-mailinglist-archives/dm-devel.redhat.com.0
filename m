Return-Path: <dm-devel-bounces@redhat.com>
X-Original-To: lists+dm-devel@lfdr.de
Delivered-To: lists+dm-devel@lfdr.de
Received: from us-smtp-delivery-1.mimecast.com (us-smtp-delivery-1.mimecast.com [205.139.110.120])
	by mail.lfdr.de (Postfix) with ESMTP id C720F1A096A
	for <lists+dm-devel@lfdr.de>; Tue,  7 Apr 2020 10:35:41 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
	s=mimecast20190719; t=1586248540;
	h=from:from:sender:sender:reply-to:subject:subject:date:date:
	 message-id:message-id:to:to:cc:cc:mime-version:mime-version:
	 content-type:content-type:
	 content-transfer-encoding:content-transfer-encoding:
	 in-reply-to:in-reply-to:references:references:list-id:list-help:
	 list-unsubscribe:list-subscribe:list-post;
	bh=Ducc5mEndCxvgFqkhaT526C64DjWSii2RrzHGXoGBHc=;
	b=jSLEHEZB5rn2yRQP+HvUl5x4uMMFvEnSQG9ny/3mqBEZPdBcGP7Uj3hSqZK2bLb5MlFohI
	gBPDD8CTGXQWCYV3daPBFXnT7UhRw8m9otUgt836OehEP6y3JXS1+wAMFX0VSp4FJrEFLq
	JzA18vLNvNHmak/enJJTzgMEXbpVT64=
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-190-u1MM92ycNr2_qKs_pqq_pA-1; Tue, 07 Apr 2020 04:35:34 -0400
X-MC-Unique: u1MM92ycNr2_qKs_pqq_pA-1
Received: from smtp.corp.redhat.com (int-mx04.intmail.prod.int.phx2.redhat.com [10.5.11.14])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mimecast-mx01.redhat.com (Postfix) with ESMTPS id A86F68017F3;
	Tue,  7 Apr 2020 08:35:27 +0000 (UTC)
Received: from colo-mx.corp.redhat.com (colo-mx01.intmail.prod.int.phx2.redhat.com [10.5.11.20])
	by smtp.corp.redhat.com (Postfix) with ESMTPS id AF5355DA7B;
	Tue,  7 Apr 2020 08:35:25 +0000 (UTC)
Received: from lists01.pubmisc.prod.ext.phx2.redhat.com (lists01.pubmisc.prod.ext.phx2.redhat.com [10.5.19.33])
	by colo-mx.corp.redhat.com (Postfix) with ESMTP id 606A718089C8;
	Tue,  7 Apr 2020 08:35:18 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx04.intmail.prod.int.rdu2.redhat.com
	[10.11.54.4])
	by lists01.pubmisc.prod.ext.phx2.redhat.com (8.13.8/8.13.8) with ESMTP
	id 0378Z8Yk023409 for <dm-devel@listman.util.phx.redhat.com>;
	Tue, 7 Apr 2020 04:35:09 -0400
Received: by smtp.corp.redhat.com (Postfix)
	id DC7072093CF0; Tue,  7 Apr 2020 08:35:08 +0000 (UTC)
Delivered-To: dm-devel@redhat.com
Received: from mimecast-mx02.redhat.com
	(mimecast01.extmail.prod.ext.rdu2.redhat.com [10.11.55.17])
	by smtp.corp.redhat.com (Postfix) with ESMTPS id D7BB52026D69
	for <dm-devel@redhat.com>; Tue,  7 Apr 2020 08:35:06 +0000 (UTC)
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
	[207.211.31.120])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-SHA384 (256/256 bits))
	(No client certificate requested)
	by mimecast-mx02.redhat.com (Postfix) with ESMTPS id 7E05E8F617D
	for <dm-devel@redhat.com>; Tue,  7 Apr 2020 08:35:06 +0000 (UTC)
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15]) (Using TLS) by
	relay.mimecast.com with ESMTP id us-mta-495-69iKREXcN72XsMVRkZmdZQ-1;
	Tue, 07 Apr 2020 04:34:59 -0400
X-MC-Unique: 69iKREXcN72XsMVRkZmdZQ-1
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
	by mx2.suse.de (Postfix) with ESMTP id 48B12AE79;
	Tue,  7 Apr 2020 08:34:57 +0000 (UTC)
To: Damien Le Moal <Damien.LeMoal@wdc.com>, Mike Snitzer <snitzer@redhat.com>
References: <20200406143505.133271-1-hare@suse.de>
	<20200406143505.133271-12-hare@suse.de>
	<BY5PR04MB6900BD9771D1974C0F71E021E7C30@BY5PR04MB6900.namprd04.prod.outlook.com>
From: Hannes Reinecke <hare@suse.de>
Message-ID: <8ffbe4dd-2254-fb70-cb34-afb634f8773b@suse.de>
Date: Tue, 7 Apr 2020 10:34:56 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
	Thunderbird/68.6.0
MIME-Version: 1.0
In-Reply-To: <BY5PR04MB6900BD9771D1974C0F71E021E7C30@BY5PR04MB6900.namprd04.prod.outlook.com>
Content-Language: en-US
X-Scanned-By: MIMEDefang 2.78 on 10.11.54.4
X-MIME-Autoconverted: from quoted-printable to 8bit by
	lists01.pubmisc.prod.ext.phx2.redhat.com id 0378Z8Yk023409
X-loop: dm-devel@redhat.com
Cc: Bob Liu <bob.liu@oracle.com>, "dm-devel@redhat.com" <dm-devel@redhat.com>
Subject: Re: [dm-devel] [PATCH 11/11] dm-zoned: metadata version 2
X-BeenThere: dm-devel@redhat.com
X-Mailman-Version: 2.1.12
Precedence: junk
List-Id: device-mapper development <dm-devel.redhat.com>
List-Unsubscribe: <https://www.redhat.com/mailman/options/dm-devel>,
	<mailto:dm-devel-request@redhat.com?subject=unsubscribe>
List-Archive: <https://www.redhat.com/archives/dm-devel>
List-Post: <mailto:dm-devel@redhat.com>
List-Help: <mailto:dm-devel-request@redhat.com?subject=help>
List-Subscribe: <https://www.redhat.com/mailman/listinfo/dm-devel>,
	<mailto:dm-devel-request@redhat.com?subject=subscribe>
Sender: dm-devel-bounces@redhat.com
Errors-To: dm-devel-bounces@redhat.com
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.14
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Content-Transfer-Encoding: base64

T24gNC83LzIwIDU6MjIgQU0sIERhbWllbiBMZSBNb2FsIHdyb3RlOgo+IE9uIDIwMjAvMDQvMDcg
MjoyOSwgSGFubmVzIFJlaW5lY2tlIHdyb3RlOgo+PiBJbXBsZW1lbnQgaGFuZGxpbmcgZm9yIG1l
dGFkYXRhIHZlcnNpb24gMi4gVGhlIG5ldyBtZXRhZGF0YSBhZGRzCj4+IGEgbGFiZWwgYW5kIFVV
SUQgZm9yIHRoZSBkZXZpY2UgbWFwcGVyIGRldmljZSwgYW5kIGFkZGl0aW9uYWwgVVVJRAo+PiBm
b3IgdGhlIHVuZGVybHlpbmcgYmxvY2sgZGV2aWNlcy4KPj4gSXQgYWxzbyBhbGxvd3MgZm9yIGFu
IGFkZGl0aW9uYWwgcmVndWxhciBkcml2ZSB0byBiZSB1c2VkIGZvcgo+PiBlbXVsYXRpbmcgcmFu
ZG9tIGFjY2VzcyB6b25lcy4gVGhlIGVtdWxhdGVkIHpvbmVzIHdpbGwgYmUgcGxhY2VkCj4+IGxv
Z2ljYWxseSBpbiBmcm9udCBvZiB0aGUgem9uZXMgZnJvbSB0aGUgem9uZWQgYmxvY2sgZGV2aWNl
LCBjYXVzaW5nCj4+IHRoZSBzdXBlcmJsb2NrcyBhbmQgbWV0YWRhdGEgdG8gYmUgc3RvcmVkIG9u
IHRoYXQgZGV2aWNlLgo+PiBUaGUgZmlyc3Qgem9uZSBvZiB0aGUgb3JpZ2luYWwgem9uZWQgZGV2
aWNlIHdpbGwgYmUgdXNlZCB0byBob2xkCj4+IGFub3RoZXIsIHRlcnRpYXJ5IGNvcHkgb2YgdGhl
IG1ldGFkYXRhLiBUaGlzIGNvcHkgY2FycmllcyBhCj4+IGdlbmVyYXRpb24gbnVtYmVyIG9mIDAg
YW5kIGlzIG5ldmVyIHVwZGF0ZWQ7IGl0J3MganVzdCB1c2VkCj4+IGZvciBpZGVudGlmaWNhdGlv
bi4KPj4gVGhlIHpvbmVzIGFyZSBzcGFjZWQgZXF1aWRpc3RhbnQsIHdoaWNoIG1lYW5zIHRoYXQg
YW55IGV2ZW50dWFsCj4+IHJ1bnQgem9uZXMgd2lsbCBiZSBjb3VudGVkLCB0b28uIFRoZXkgYXJl
IG1hcmtlZCBhcyAnb2ZmbGluZScgYW5kCj4+IGlnbm9yZWQgd2hlbiBzZWxlY3Rpbmcgem9uZXMu
Cj4+Cj4+IFNpZ25lZC1vZmYtYnk6IEhhbm5lcyBSZWluZWNrZSA8aGFyZUBzdXNlLmRlPgo+PiAt
LS0KPj4gICBkcml2ZXJzL21kL2RtLXpvbmVkLW1ldGFkYXRhLmMgfCAyNjkgKysrKysrKysrKysr
KysrKysrKysrKysrKysrLS0tLS0tCj4+ICAgZHJpdmVycy9tZC9kbS16b25lZC10YXJnZXQuYyAg
IHwgMTI4ICsrKysrKysrKy0tLS0tLS0KPj4gICBkcml2ZXJzL21kL2RtLXpvbmVkLmggICAgICAg
ICAgfCAgIDcgKy0KPj4gICAzIGZpbGVzIGNoYW5nZWQsIDMwNCBpbnNlcnRpb25zKCspLCAxMDAg
ZGVsZXRpb25zKC0pCj4+Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL21kL2RtLXpvbmVkLW1ldGFk
YXRhLmMgYi9kcml2ZXJzL21kL2RtLXpvbmVkLW1ldGFkYXRhLmMKPj4gaW5kZXggZTAzNmJhNGJm
ZTU3Li5lNDk4ZTFhZWU5MTUgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvbWQvZG0tem9uZWQtbWV0
YWRhdGEuYwo+PiArKysgYi9kcml2ZXJzL21kL2RtLXpvbmVkLW1ldGFkYXRhLmMKPj4gQEAgLTE2
LDcgKzE2LDcgQEAKPj4gICAvKgo+PiAgICAqIE1ldGFkYXRhIHZlcnNpb24uCj4+ICAgICovCj4+
IC0jZGVmaW5lIERNWl9NRVRBX1ZFUgkxCj4+ICsjZGVmaW5lIERNWl9NRVRBX1ZFUgkyCj4+ICAg
Cj4+ICAgLyoKPj4gICAgKiBPbi1kaXNrIHN1cGVyIGJsb2NrIG1hZ2ljLgo+PiBAQCAtNjksOCAr
NjksMTcgQEAgc3RydWN0IGRtel9zdXBlciB7Cj4+ICAgCS8qIENoZWNrc3VtICovCj4+ICAgCV9f
bGUzMgkJY3JjOwkJCS8qICA0OCAqLwo+PiAgIAo+PiArCS8qIERNLVpvbmVkIGxhYmVsICovCj4+
ICsJdTgJCWRtel9sYWJlbFszMl07CQkvKiAgODAgKi8KPj4gKwo+PiArCS8qIERNLVpvbmVkIFVV
SUQgKi8KPj4gKwl1OAkJZG16X3V1aWRbMTZdOwkJLyogIDk2ICovCj4+ICsKPj4gKwkvKiBEZXZp
Y2UgVVVJRCAqLwo+PiArCXU4CQlkZXZfdXVpZFsxNl07CQkvKiAxMTIgKi8KPj4gKwo+PiAgIAkv
KiBQYWRkaW5nIHRvIGZ1bGwgNTEyQiBzZWN0b3IgKi8KPj4gLQl1OAkJcmVzZXJ2ZWRbNDY0XTsJ
CS8qIDUxMiAqLwo+PiArCXU4CQlyZXNlcnZlZFs0MDBdOwkJLyogNTEyICovCj4+ICAgfTsKPj4g
ICAKPj4gICAvKgo+PiBAQCAtMTM1LDYgKzE0NCw4IEBAIHN0cnVjdCBkbXpfbWV0YWRhdGEgewo+
PiAgIAlzdHJ1Y3QgZG16X2RldgkJKmRldjsKPj4gICAKPj4gICAJY2hhcgkJCWRldm5hbWVbQkRF
Vk5BTUVfU0laRV07Cj4+ICsJY2hhcgkJCWxhYmVsW0JERVZOQU1FX1NJWkVdOwo+PiArCXV1aWRf
dAkJCXV1aWQ7Cj4+ICAgCj4+ICAgCXNlY3Rvcl90CQl6b25lX2JpdG1hcF9zaXplOwo+PiAgIAl1
bnNpZ25lZCBpbnQJCXpvbmVfbnJfYml0bWFwX2Jsb2NrczsKPj4gQEAgLTE2MSw4ICsxNzIsOSBA
QCBzdHJ1Y3QgZG16X21ldGFkYXRhIHsKPj4gICAJLyogWm9uZSBpbmZvcm1hdGlvbiBhcnJheSAq
Lwo+PiAgIAlzdHJ1Y3QgZG1fem9uZQkJKnpvbmVzOwo+PiAgIAo+PiAtCXN0cnVjdCBkbXpfc2IJ
CXNiWzJdOwo+PiArCXN0cnVjdCBkbXpfc2IJCXNiWzNdOwo+PiAgIAl1bnNpZ25lZCBpbnQJCW1i
bGtfcHJpbWFyeTsKPj4gKwl1bnNpZ25lZCBpbnQJCXNiX3ZlcnNpb247Cj4+ICAgCXU2NAkJCXNi
X2dlbjsKPj4gICAJdW5zaWduZWQgaW50CQltaW5fbnJfbWJsa3M7Cj4+ICAgCXVuc2lnbmVkIGlu
dAkJbWF4X25yX21ibGtzOwo+PiBAQCAtMTk1LDE2ICsyMDcsMTYgQEAgc3RydWN0IGRtel9tZXRh
ZGF0YSB7Cj4+ICAgfTsKPj4gICAKPj4gICAjZGVmaW5lIGRtel96bWRfaW5mbyh6bWQsIGZvcm1h
dCwgYXJncy4uLikJXAo+PiAtCURNSU5GTygiKCVzKTogIiBmb3JtYXQsICh6bWQpLT5kZXZuYW1l
LCAjIyBhcmdzKQo+PiArCURNSU5GTygiKCVzKTogIiBmb3JtYXQsICh6bWQpLT5sYWJlbCwgIyMg
YXJncykKPj4gICAKPj4gICAjZGVmaW5lIGRtel96bWRfZXJyKHptZCwgZm9ybWF0LCBhcmdzLi4u
KQlcCj4+IC0JRE1FUlIoIiglcyk6ICIgZm9ybWF0LCAoem1kKS0+ZGV2bmFtZSwgIyMgYXJncykK
Pj4gKwlETUVSUigiKCVzKTogIiBmb3JtYXQsICh6bWQpLT5sYWJlbCwgIyMgYXJncykKPj4gICAK
Pj4gICAjZGVmaW5lIGRtel96bWRfd2Fybih6bWQsIGZvcm1hdCwgYXJncy4uLikJXAo+PiAtCURN
V0FSTigiKCVzKTogIiBmb3JtYXQsICh6bWQpLT5kZXZuYW1lLCAjIyBhcmdzKQo+PiArCURNV0FS
TigiKCVzKTogIiBmb3JtYXQsICh6bWQpLT5sYWJlbCwgIyMgYXJncykKPj4gICAKPj4gICAjZGVm
aW5lIGRtel96bWRfZGVidWcoem1kLCBmb3JtYXQsIGFyZ3MuLi4pCVwKPj4gLQlETURFQlVHKCIo
JXMpOiAiIGZvcm1hdCwgKHptZCktPmRldm5hbWUsICMjIGFyZ3MpCj4+ICsJRE1ERUJVRygiKCVz
KTogIiBmb3JtYXQsICh6bWQpLT5sYWJlbCwgIyMgYXJncykKPj4gICAvKgo+PiAgICAqIFZhcmlv
dXMgYWNjZXNzb3JzCj4+ICAgICovCj4+IEBAIC0yMTUsMTYgKzIyNyw0MSBAQCB1bnNpZ25lZCBp
bnQgZG16X2lkKHN0cnVjdCBkbXpfbWV0YWRhdGEgKnptZCwgc3RydWN0IGRtX3pvbmUgKnpvbmUp
Cj4+ICAgCj4+ICAgc2VjdG9yX3QgZG16X3N0YXJ0X3NlY3Qoc3RydWN0IGRtel9tZXRhZGF0YSAq
em1kLCBzdHJ1Y3QgZG1fem9uZSAqem9uZSkKPj4gICB7Cj4+IC0JcmV0dXJuIChzZWN0b3JfdClk
bXpfaWQoem1kLCB6b25lKSA8PCB6bWQtPnpvbmVfbnJfc2VjdG9yc19zaGlmdDsKPj4gKwl1bnNp
Z25lZCBpbnQgem9uZV9pZDsKPj4gKwo+PiArCWlmIChXQVJOX09OKCF6b25lKSkKPj4gKwkJcmV0
dXJuIDA7Cj4+ICsKPj4gKwl6b25lX2lkID0gem9uZS0+aWQ7Cj4+ICsJaWYgKHptZC0+ZGV2WzBd
LnpvbmVfb2Zmc2V0ICYmCj4+ICsJICAgICh6b25lX2lkID49IHptZC0+ZGV2WzBdLnpvbmVfb2Zm
c2V0KSkKPj4gKwkJem9uZV9pZCAtPSB6bWQtPmRldlswXS56b25lX29mZnNldDsKPj4gKwlyZXR1
cm4gKHNlY3Rvcl90KXpvbmVfaWQgPDwgem1kLT56b25lX25yX3NlY3RvcnNfc2hpZnQ7Cj4+ICAg
fQo+PiAgIAo+PiAgIHNlY3Rvcl90IGRtel9zdGFydF9ibG9jayhzdHJ1Y3QgZG16X21ldGFkYXRh
ICp6bWQsIHN0cnVjdCBkbV96b25lICp6b25lKQo+PiAgIHsKPj4gLQlyZXR1cm4gKHNlY3Rvcl90
KWRtel9pZCh6bWQsIHpvbmUpIDw8IHptZC0+em9uZV9ucl9ibG9ja3Nfc2hpZnQ7Cj4+ICsJdW5z
aWduZWQgaW50IHpvbmVfaWQ7Cj4+ICsKPj4gKwlpZiAoV0FSTl9PTighem9uZSkpCj4+ICsJCXJl
dHVybiAwOwo+PiArCj4+ICsJem9uZV9pZCA9IHpvbmUtPmlkOwo+PiArCWlmICh6bWQtPmRldlsw
XS56b25lX29mZnNldCAmJgo+PiArCSAgICAoem9uZV9pZCA+PSB6bWQtPmRldlswXS56b25lX29m
ZnNldCkpCj4+ICsJCXpvbmVfaWQgLT0gem1kLT5kZXZbMF0uem9uZV9vZmZzZXQ7Cj4+ICsJcmV0
dXJuIChzZWN0b3JfdCl6b25lX2lkIDw8IHptZC0+em9uZV9ucl9ibG9ja3Nfc2hpZnQ7Cj4gCj4g
VGhlIHpvbmVfaWQgY2FsY3VsYXRpb24gaXMgcmVwZWF0ZWQuIE1heSBiZSBhZGQgYSBzaW1wbGUg
aGVscGVyCj4gZG16X2Rldl96b25lX2lkKCkgZm9yIGl0ID8KPiAKT2suCgo+PiAgIH0KPj4gICAK
Pj4gICBzdHJ1Y3QgZG16X2RldiAqZG16X3pvbmVfdG9fZGV2KHN0cnVjdCBkbXpfbWV0YWRhdGEg
KnptZCwgc3RydWN0IGRtX3pvbmUgKnpvbmUpCj4+ICAgewo+PiArCWlmIChXQVJOX09OKCF6b25l
KSkKPj4gKwkJcmV0dXJuICZ6bWQtPmRldlswXTsKPj4gKwo+PiArCWlmICh6bWQtPmRldlswXS56
b25lX29mZnNldCAmJgo+PiArCSAgICB6b25lLT5pZCA8IHptZC0+ZGV2WzBdLnpvbmVfb2Zmc2V0
KQo+PiArCQkJcmV0dXJuICZ6bWQtPmRldlsxXTsKPiAKPiBJc24ndCB0aGF0IHJldHVybiAmem1k
LT5kZXZbMF07ID8gaWYgem9uZS0+aWQgPCB6bWQtPmRldlswXS56b25lX29mZnNldCB0aGVuIHlv
dQo+IGFyZSB3aXRoaW4gdGhlIGZpcnN0IGRldiwgbm8gPwo+IApZZXMsIGJ1dCB0aGUgZmlyc3Qg
ZGV2aWNlIGlzIHRoZSBzZWNvbmQgOi0pClJlbWVtYmVyLCBkZXZbMF0gaXMgdGhlIHpvbmVkIGRl
dmljZSwgYW5kIGRldlsxXSBpcyB0aGUgcmVndWxhciBkZXZpY2UuCkJ1dCBkZXZbMV0gaXMgYXJy
YW5nZWQgaW4gZnJvbnQgb2YgZGV2WzBdIDotKQoKPj4gKwo+PiAgIAlyZXR1cm4gJnptZC0+ZGV2
WzBdOwo+IAo+IEFuZCB0aGlzIHdvdWxkIGJlIHJldHVybiAmem1kLT5kZXZbMV07Cj4gCk5vLiBT
ZWUgYWJvdmUuCgpXZSBjb3VsZCBwb3NzaWJseSBtYWtlIGl0IHBvc2l0aW9uIGluZGVwZW5kZW50
IChpZSB0aGF0IHRoZSBvcmRlciBvZiAKZGV2aWNlcyB3b3VsZG4ndCBtYXR0ZXIpLCBidXQgaXQg
dG9vayBtZSBsb25nIGVub3VnaCBvbiBkZWNpZGUgb24gCnJlbW90ZWx5IHNhbmUgbGF5b3V0IChh
bmQgZ2V0IGl0IHRvIHdvcmsgLi4uKSBzbyB0aGF0IEkgZGlkbid0IGF0dGVtcHQgaXQuCkhlbmNl
LCBmb3Igbm93LCBkZXZbMF0gaXMgdGhlIHpvbmVkIGRldmljZSwgZGV2WzFdIGlzIHRoZSByZWd1
bGFyIApkZXZpY2UsIGRldlswXSBoYXMgYW4gb2Zmc2V0IHRvIHRoZSB6b25lcyBtYWtpbmcgdGhl
IHpvbmVzIGZyb20gZGV2WzBdIAp0byBiZSBhcnJhbmdlZCBhZnRlciB0aGUgZW11bGF0ZWQgem9u
ZXMgZnJvbSBkZXZbMV0uCgo+PiAgIH0KPj4gICAKPj4gQEAgLTI4MCw3ICszMTcsNyBAQCB1bnNp
Z25lZCBpbnQgZG16X25yX3VubWFwX3NlcV96b25lcyhzdHJ1Y3QgZG16X21ldGFkYXRhICp6bWQp
Cj4+ICAgCj4+ICAgY29uc3QgY2hhciAqZG16X21ldGFkYXRhX2xhYmVsKHN0cnVjdCBkbXpfbWV0
YWRhdGEgKnptZCkKPj4gICB7Cj4+IC0JcmV0dXJuIChjb25zdCBjaGFyICopem1kLT5kZXZuYW1l
Owo+PiArCXJldHVybiAoY29uc3QgY2hhciAqKXptZC0+bGFiZWw7Cj4+ICAgfQo+PiAgIAo+PiAg
IGJvb2wgZG16X2NoZWNrX2RldihzdHJ1Y3QgZG16X21ldGFkYXRhICp6bWQpCj4+IEBAIC02ODcs
NiArNzI0LDkgQEAgc3RhdGljIGludCBkbXpfcmR3cl9ibG9jayhzdHJ1Y3QgZG16X2RldiAqZGV2
LCBpbnQgb3AsCj4+ICAgCXN0cnVjdCBiaW8gKmJpbzsKPj4gICAJaW50IHJldDsKPj4gICAKPj4g
KwlpZiAoV0FSTl9PTighZGV2KSkKPj4gKwkJcmV0dXJuIC1FSU87Cj4+ICsKPj4gICAJaWYgKGRt
el9iZGV2X2lzX2R5aW5nKGRldikpCj4+ICAgCQlyZXR1cm4gLUVJTzsKPj4gICAKPj4gQEAgLTcx
MSw3ICs3NTEsOCBAQCBzdGF0aWMgaW50IGRtel9yZHdyX2Jsb2NrKHN0cnVjdCBkbXpfZGV2ICpk
ZXYsIGludCBvcCwKPj4gICAgKi8KPj4gICBzdGF0aWMgaW50IGRtel93cml0ZV9zYihzdHJ1Y3Qg
ZG16X21ldGFkYXRhICp6bWQsIHVuc2lnbmVkIGludCBzZXQpCj4+ICAgewo+PiAtCXNlY3Rvcl90
IGJsb2NrID0gem1kLT5zYltzZXRdLmJsb2NrOwo+PiArCXVuc2lnbmVkIGludCBzYl96aWQgPSBk
bXpfaWQoem1kLCB6bWQtPnNiW3NldF0uem9uZSk7Cj4+ICsJc2VjdG9yX3Qgc2JfYmxvY2sgPSBz
Yl96aWQgPDwgem1kLT56b25lX25yX2Jsb2Nrc19zaGlmdDsKPj4gICAJc3RydWN0IGRtel9tYmxv
Y2sgKm1ibGsgPSB6bWQtPnNiW3NldF0ubWJsazsKPj4gICAJc3RydWN0IGRtel9zdXBlciAqc2Ig
PSB6bWQtPnNiW3NldF0uc2I7Cj4+ICAgCXN0cnVjdCBkbXpfZGV2ICpkZXYgPSB6bWQtPnNiW3Nl
dF0uZGV2Owo+PiBAQCAtNzE5LDExICs3NjAsMTcgQEAgc3RhdGljIGludCBkbXpfd3JpdGVfc2Io
c3RydWN0IGRtel9tZXRhZGF0YSAqem1kLCB1bnNpZ25lZCBpbnQgc2V0KQo+PiAgIAlpbnQgcmV0
Owo+PiAgIAo+PiAgIAlzYi0+bWFnaWMgPSBjcHVfdG9fbGUzMihETVpfTUFHSUMpOwo+PiAtCXNi
LT52ZXJzaW9uID0gY3B1X3RvX2xlMzIoRE1aX01FVEFfVkVSKTsKPj4gKwo+PiArCXNiLT52ZXJz
aW9uID0gY3B1X3RvX2xlMzIoem1kLT5zYl92ZXJzaW9uKTsKPj4gKwlpZiAoem1kLT5zYl92ZXJz
aW9uID4gMSkgewo+PiArCQl1dWlkX2NvcHkoKHV1aWRfdCAqKXNiLT5kbXpfdXVpZCwgJnptZC0+
dXVpZCk7Cj4+ICsJCW1lbWNweShzYi0+ZG16X2xhYmVsLCB6bWQtPmxhYmVsLCBCREVWTkFNRV9T
SVpFKTsKPj4gKwkJdXVpZF9jb3B5KCh1dWlkX3QgKilzYi0+ZGV2X3V1aWQsICZkZXYtPnV1aWQp
Owo+PiArCX0KPj4gICAKPj4gICAJc2ItPmdlbiA9IGNwdV90b19sZTY0KHNiX2dlbik7Cj4+ICAg
Cj4+IC0Jc2ItPnNiX2Jsb2NrID0gY3B1X3RvX2xlNjQoYmxvY2spOwo+PiArCXNiLT5zYl9ibG9j
ayA9IGNwdV90b19sZTY0KHNiX2Jsb2NrKTsKPj4gICAJc2ItPm5yX21ldGFfYmxvY2tzID0gY3B1
X3RvX2xlMzIoem1kLT5ucl9tZXRhX2Jsb2Nrcyk7Cj4+ICAgCXNiLT5ucl9yZXNlcnZlZF9zZXEg
PSBjcHVfdG9fbGUzMih6bWQtPm5yX3Jlc2VydmVkX3NlcSk7Cj4+ICAgCXNiLT5ucl9jaHVua3Mg
PSBjcHVfdG9fbGUzMih6bWQtPm5yX2NodW5rcyk7Cj4+IEBAIC03MzQsNyArNzgxLDggQEAgc3Rh
dGljIGludCBkbXpfd3JpdGVfc2Ioc3RydWN0IGRtel9tZXRhZGF0YSAqem1kLCB1bnNpZ25lZCBp
bnQgc2V0KQo+PiAgIAlzYi0+Y3JjID0gMDsKPj4gICAJc2ItPmNyYyA9IGNwdV90b19sZTMyKGNy
YzMyX2xlKHNiX2dlbiwgKHVuc2lnbmVkIGNoYXIgKilzYiwgRE1aX0JMT0NLX1NJWkUpKTsKPj4g
ICAKPj4gLQlyZXQgPSBkbXpfcmR3cl9ibG9jayhkZXYsIFJFUV9PUF9XUklURSwgYmxvY2ssIG1i
bGstPnBhZ2UpOwo+PiArCXJldCA9IGRtel9yZHdyX2Jsb2NrKGRldiwgUkVRX09QX1dSSVRFLCB6
bWQtPnNiW3NldF0uYmxvY2ssCj4+ICsJCQkgICAgIG1ibGstPnBhZ2UpOwo+PiAgIAlpZiAocmV0
ID09IDApCj4+ICAgCQlyZXQgPSBibGtkZXZfaXNzdWVfZmx1c2goZGV2LT5iZGV2LCBHRlBfTk9J
TywgTlVMTCk7Cj4+ICAgCj4+IEBAIC05MTUsNiArOTYzLDIzIEBAIHN0YXRpYyBpbnQgZG16X2No
ZWNrX3NiKHN0cnVjdCBkbXpfbWV0YWRhdGEgKnptZCwgdW5zaWduZWQgaW50IHNldCkKPj4gICAJ
dTMyIGNyYywgc3RvcmVkX2NyYzsKPj4gICAJdTY0IGdlbjsKPj4gICAKPj4gKwlpZiAobGUzMl90
b19jcHUoc2ItPm1hZ2ljKSAhPSBETVpfTUFHSUMpIHsKPj4gKwkJZG16X2Rldl9lcnIoZGV2LCAi
SW52YWxpZCBtZXRhIG1hZ2ljIChuZWVkZWQgMHglMDh4LCBnb3QgMHglMDh4KSIsCj4+ICsJCQkg
ICAgRE1aX01BR0lDLCBsZTMyX3RvX2NwdShzYi0+bWFnaWMpKTsKPj4gKwkJcmV0dXJuIC1FTlhJ
TzsKPj4gKwl9Cj4+ICsKPj4gKwl6bWQtPnNiX3ZlcnNpb24gPSBsZTMyX3RvX2NwdShzYi0+dmVy
c2lvbik7Cj4+ICsJaWYgKHptZC0+c2JfdmVyc2lvbiA+IERNWl9NRVRBX1ZFUikgewo+PiArCQlk
bXpfZGV2X2VycihkZXYsICJJbnZhbGlkIG1ldGEgdmVyc2lvbiAobmVlZGVkICVkLCBnb3QgJWQp
IiwKPj4gKwkJCSAgICBETVpfTUVUQV9WRVIsIHptZC0+c2JfdmVyc2lvbik7Cj4+ICsJCXJldHVy
biAtRUlOVkFMOwo+PiArCX0KPj4gKwlpZiAoKHptZC0+c2JfdmVyc2lvbiA8IDEpICYmIChzZXQg
PT0gMikpIHsKPj4gKwkJZG16X2Rldl9lcnIoZGV2LCAiVGVydGlhcnkgc3VwZXJibG9ja3MgYXJl
IG5vdCBzdXBwb3J0ZWQiKTsKPj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4+ICsJfQo+PiArCj4+ICAg
CWdlbiA9IGxlNjRfdG9fY3B1KHNiLT5nZW4pOwo+PiAgIAlzdG9yZWRfY3JjID0gbGUzMl90b19j
cHUoc2ItPmNyYyk7Cj4+ICAgCXNiLT5jcmMgPSAwOwo+PiBAQCAtOTI1LDE4ICs5OTAsNDEgQEAg
c3RhdGljIGludCBkbXpfY2hlY2tfc2Ioc3RydWN0IGRtel9tZXRhZGF0YSAqem1kLCB1bnNpZ25l
ZCBpbnQgc2V0KQo+PiAgIAkJcmV0dXJuIC1FTlhJTzsKPj4gICAJfQo+PiAgIAo+PiAtCWlmIChs
ZTMyX3RvX2NwdShzYi0+bWFnaWMpICE9IERNWl9NQUdJQykgewo+PiAtCQlkbXpfZGV2X2Vycihk
ZXYsICJJbnZhbGlkIG1ldGEgbWFnaWMgKG5lZWRlZCAweCUwOHgsIGdvdCAweCUwOHgpIiwKPj4g
LQkJCSAgICBETVpfTUFHSUMsIGxlMzJfdG9fY3B1KHNiLT5tYWdpYykpOwo+PiAtCQlyZXR1cm4g
LUVOWElPOwo+PiAtCX0KPj4gKwlpZiAoem1kLT5zYl92ZXJzaW9uID4gMSkgewo+PiArCQlpZiAo
dXVpZF9pc19udWxsKCh1dWlkX3QgKilzYi0+ZG16X3V1aWQpKSB7Cj4+ICsJCQlkbXpfZGV2X2Vy
cihkZXYsICJzYiVkOiBOVUxMIERNLVpvbmVkIHV1aWQiLCBzZXQpOwo+PiArCQkJcmV0dXJuIC1F
TlhJTzsKPj4gKwkJfSBlbHNlIGlmICh1dWlkX2lzX251bGwoJnptZC0+dXVpZCkpIHsKPj4gKwkJ
CXV1aWRfY29weSgmem1kLT51dWlkLCAodXVpZF90ICopc2ItPmRtel91dWlkKTsKPj4gKwkJfSBl
bHNlIGlmICghdXVpZF9lcXVhbCgmem1kLT51dWlkLCAodXVpZF90ICopc2ItPmRtel91dWlkKSkg
ewo+PiArCQkJZG16X2Rldl9lcnIoZGV2LCAic2IlZDogbWlzbWF0Y2hpbmcgRE0tWm9uZWQgdXVp
ZCwgIgo+PiArCQkJCSAgICAiaXMgJXBVbCBleHBlY3RlZCAlcFVsIiwgc2V0LAo+PiArCQkJCSAg
ICAodXVpZF90ICopc2ItPmRtel91dWlkLCAmem1kLT51dWlkKTsKPj4gKwkJCXJldHVybiAtRU5Y
SU87Cj4+ICsJCX0KPj4gKwkJaWYgKCFzdHJsZW4oem1kLT5sYWJlbCkpCj4+ICsJCQltZW1jcHko
em1kLT5sYWJlbCwgc2ItPmRtel9sYWJlbCwgQkRFVk5BTUVfU0laRSk7Cj4gCj4gV2Ugc2hvdWxk
IHByb2JhYmx5IGVuc3VyZSB0aGF0IGxhYmVsIGlzIGFsd2F5cyAwIHRlcm1pbmF0ZWQgaGVyZS4g
SWYgdGhlCj4gbWV0YWRhdGEgbGFiZWwgdXNlcyBhbGwgQkRFVk5BTUVfU0laRSBjaGFyYWN0ZXJz
LCB6bWQtPmxhYmVsIHdpbGwgdG9vIHNpbmNlIGl0Cj4gaXMgYSBCREVWTkFNRV9TSVpFIGxvbmcg
c3RyaW5nLiBNYWtlIGl0IEJERVZOQU1FX1NJWkUgKyAxIGxvbmcgPwo+IApJIHdvdWxkIHJlbHkg
b24gdGhlIHRoZSBnZW5lcmFsIHVzYWdlIGhlcmUuCkJERVZOQU1FIGlzIGEgZ2xvYmFsIHZhcmlh
YmxlLCB1c2VkIGluIHNldmVyYWwgcGxhY2VzLgpTbyBJIGd1ZXNzIGV2ZXJ5b25lIHdpbGwgaGF2
ZSB0aGUgc2FtZSBpc3N1ZS4KQnV0IEknbGwgY2hlY2sgd2hhdCB0aGUgZ2VuZXJhbCB1c2UgcGF0
dGVybiBoZXJlIGlzLgoKPj4gKwkJZWxzZSBpZiAobWVtY21wKHptZC0+bGFiZWwsIHNiLT5kbXpf
bGFiZWwsIEJERVZOQU1FX1NJWkUpKSB7Cj4+ICsJCQlkbXpfZGV2X2VycihkZXYsICJzYiVkOiBt
aXNtYXRjaGluZyBETS1ab25lZCBsYWJlbCwgIgo+PiArCQkJCSAgICAiaXMgJXMgZXhwZWN0ZWQg
JXMiLAo+PiArCQkJCSAgICBzZXQsIHNiLT5kbXpfbGFiZWwsIHptZC0+bGFiZWwpOwo+PiArCQkJ
cmV0dXJuIC1FTlhJTzsKPj4gKwkJfQo+PiArCQlpZiAodXVpZF9pc19udWxsKCh1dWlkX3QgKilz
Yi0+ZGV2X3V1aWQpKSB7Cj4+ICsJCQlkbXpfZGV2X2VycihkZXYsICJzYiVkOiBOVUxMIGRldmlj
ZSB1dWlkIiwgc2V0KTsKPj4gKwkJCXJldHVybiAtRU5YSU87Cj4+ICsJCX0KPj4gKwkJdXVpZF9j
b3B5KCZkZXYtPnV1aWQsICh1dWlkX3QgKilzYi0+ZGV2X3V1aWQpOwo+PiAgIAo+PiAtCWlmIChs
ZTMyX3RvX2NwdShzYi0+dmVyc2lvbikgIT0gRE1aX01FVEFfVkVSKSB7Cj4+IC0JCWRtel9kZXZf
ZXJyKGRldiwgIkludmFsaWQgbWV0YSB2ZXJzaW9uIChuZWVkZWQgJWQsIGdvdCAlZCkiLAo+PiAt
CQkJICAgIERNWl9NRVRBX1ZFUiwgbGUzMl90b19jcHUoc2ItPnZlcnNpb24pKTsKPj4gLQkJcmV0
dXJuIC1FTlhJTzsKPj4gKwkJaWYgKHNldCA9PSAyKSB7Cj4+ICsJCQlpZiAoZ2VuICE9IDApIHsK
Pj4gKwkJCQlkbXpfZGV2X2VycihkZXYsICJzYiVkOiBJbnZhbGlkIGdlbmVyYXRpb24gJWxsdSIs
Cj4+ICsJCQkJCSAgICBzZXQsIGdlbik7Cj4+ICsJCQkJcmV0dXJuIC1FTlhJTzsKPj4gKwkJCX0K
Pj4gKwkJCXJldHVybiAwOwo+PiArCQl9Cj4+ICAgCX0KPj4gLQo+PiAgIAlucl9tZXRhX3pvbmVz
ID0gKGxlMzJfdG9fY3B1KHNiLT5ucl9tZXRhX2Jsb2NrcykgKyB6bWQtPnpvbmVfbnJfYmxvY2tz
IC0gMSkKPj4gICAJCT4+IHptZC0+em9uZV9ucl9ibG9ja3Nfc2hpZnQ7Cj4+ICAgCWlmICghbnJf
bWV0YV96b25lcyB8fAo+PiBAQCAtMTE4NSwyMSArMTI3MywzNyBAQCBzdGF0aWMgaW50IGRtel9s
b2FkX3NiKHN0cnVjdCBkbXpfbWV0YWRhdGEgKnptZCkKPj4gICAJCSAgICAgICJVc2luZyBzdXBl
ciBibG9jayAldSAoZ2VuICVsbHUpIiwKPj4gICAJCSAgICAgIHptZC0+bWJsa19wcmltYXJ5LCB6
bWQtPnNiX2dlbik7Cj4+ICAgCj4+ICsJaWYgKCh6bWQtPnNiX3ZlcnNpb24gPiAxKSAmJiB6bWQt
PnNiWzJdLnpvbmUpIHsKPj4gKwkJem1kLT5zYlsyXS5ibG9jayA9IGRtel9zdGFydF9ibG9jayh6
bWQsIHptZC0+c2JbMl0uem9uZSk7Cj4+ICsJCXptZC0+c2JbMl0uZGV2ID0gZG16X3pvbmVfdG9f
ZGV2KHptZCwgem1kLT5zYlsyXS56b25lKTsKPj4gKwkJcmV0ID0gZG16X2dldF9zYih6bWQsIDIp
Owo+PiArCQlpZiAocmV0KSB7Cj4+ICsJCQlkbXpfZGV2X2Vycih6bWQtPnNiWzJdLmRldiwKPj4g
KwkJCQkgICAgIlJlYWQgdGVydGlhcnkgc3VwZXIgYmxvY2sgZmFpbGVkIik7Cj4+ICsJCQlyZXR1
cm4gcmV0Owo+PiArCQl9Cj4+ICsJCXJldCA9IGRtel9jaGVja19zYih6bWQsIDIpOwo+PiArCQlp
ZiAocmV0ID09IC1FSU5WQUwpCj4+ICsJCQlyZXR1cm4gcmV0Owo+PiArCX0KPj4gICAJcmV0dXJu
IDA7Cj4+ICAgfQo+PiAgIAo+PiAgIC8qCj4+ICAgICogSW5pdGlhbGl6ZSBhIHpvbmUgZGVzY3Jp
cHRvci4KPj4gICAgKi8KPj4gLXN0YXRpYyBpbnQgZG16X2luaXRfem9uZShzdHJ1Y3QgYmxrX3pv
bmUgKmJsa3osIHVuc2lnbmVkIGludCBpZHgsIHZvaWQgKmRhdGEpCj4+ICtzdGF0aWMgaW50IGRt
el9pbml0X3pvbmUoc3RydWN0IGJsa196b25lICpibGt6LCB1bnNpZ25lZCBpbnQgbnVtLCB2b2lk
ICpkYXRhKQo+PiAgIHsKPj4gICAJc3RydWN0IGRtel9tZXRhZGF0YSAqem1kID0gZGF0YTsKPj4g
KwlpbnQgaWR4ID0gbnVtICsgem1kLT5kZXZbMF0uem9uZV9vZmZzZXQ7Cj4+ICAgCXN0cnVjdCBk
bV96b25lICp6b25lID0gJnptZC0+em9uZXNbaWR4XTsKPj4gLQlzdHJ1Y3QgZG16X2RldiAqZGV2
ID0gem1kLT5kZXY7Cj4+ICAgCj4+IC0JLyogSWdub3JlIHRoZSBldmVudHVhbCBsYXN0IHJ1bnQg
KHNtYWxsZXIpIHpvbmUgKi8KPj4gICAJaWYgKGJsa3otPmxlbiAhPSB6bWQtPnpvbmVfbnJfc2Vj
dG9ycykgewo+PiAtCQlpZiAoYmxrei0+c3RhcnQgKyBibGt6LT5sZW4gPT0gZGV2LT5jYXBhY2l0
eSkKPj4gKwkJaWYgKHptZC0+c2JfdmVyc2lvbiA+IDEpIHsKPj4gKwkJCS8qIElnbm9yZSB0aGUg
ZXZlbnR1YWwgcnVudCAoc21hbGxlcikgem9uZSAqLwo+PiArCQkJc2V0X2JpdChETVpfT0ZGTElO
RSwgJnpvbmUtPmZsYWdzKTsKPj4gKwkJCXJldHVybiAwOwo+PiArCQl9IGVsc2UgaWYgKGJsa3ot
PnN0YXJ0ICsgYmxrei0+bGVuID09IGRldi0+Y2FwYWNpdHkpCj4+ICAgCQkJcmV0dXJuIDA7Cj4+
ICAgCQlyZXR1cm4gLUVOWElPOwo+PiAgIAl9Cj4+IEBAIC0xMjM1LDEwICsxMzM5LDE0IEBAIHN0
YXRpYyBpbnQgZG16X2luaXRfem9uZShzdHJ1Y3QgYmxrX3pvbmUgKmJsa3osIHVuc2lnbmVkIGlu
dCBpZHgsIHZvaWQgKmRhdGEpCj4+ICAgCQlpZiAoZG16X2lzX3JuZCh6b25lKSkgewo+PiAgIAkJ
CXptZC0+bnJfcm5kX3pvbmVzKys7Cj4+ICAgCQkJaWYgKCF6bWQtPnNiWzBdLnpvbmUpIHsKPj4g
LQkJCQkvKiBTdXBlciBibG9jayB6b25lICovCj4+ICsJCQkJLyogUHJpbWFyeSBzdXBlciBibG9j
ayB6b25lICovCj4+ICAgCQkJCXptZC0+c2JbMF0uem9uZSA9IHpvbmU7Cj4+ICAgCQkJfQo+PiAg
IAkJfQo+PiArCQlpZiAoem1kLT5kZXZbMV0uYmRldiAmJiAhem1kLT5zYlsyXS56b25lKSB7Cj4+
ICsJCQkvKiBUZXJ0aWFyeSBzdXBlcmJsb2NrIHpvbmUgKi8KPj4gKwkJCXptZC0+c2JbMl0uem9u
ZSA9IHpvbmU7Cj4+ICsJCX0KPj4gICAJfQo+PiAgIAo+PiAgIAlyZXR1cm4gMDsKPj4gQEAgLTEy
NTksMTEgKzEzNjcsMTAgQEAgc3RhdGljIHZvaWQgZG16X2Ryb3Bfem9uZXMoc3RydWN0IGRtel9t
ZXRhZGF0YSAqem1kKQo+PiAgICAqLwo+PiAgIHN0YXRpYyBpbnQgZG16X2luaXRfem9uZXMoc3Ry
dWN0IGRtel9tZXRhZGF0YSAqem1kKQo+PiAgIHsKPj4gLQlzdHJ1Y3QgZG16X2RldiAqZGV2ID0g
JnptZC0+ZGV2WzBdOwo+PiAgIAlpbnQgcmV0Owo+PiAgIAo+PiAgIAkvKiBJbml0ICovCj4+IC0J
em1kLT56b25lX25yX3NlY3RvcnMgPSBkZXYtPnpvbmVfbnJfc2VjdG9yczsKPj4gKwl6bWQtPnpv
bmVfbnJfc2VjdG9ycyA9IHptZC0+ZGV2WzBdLnpvbmVfbnJfc2VjdG9yczsKPj4gICAJem1kLT56
b25lX25yX3NlY3RvcnNfc2hpZnQgPSBpbG9nMih6bWQtPnpvbmVfbnJfc2VjdG9ycyk7Cj4+ICAg
CXptZC0+em9uZV9ucl9ibG9ja3MgPSBkbXpfc2VjdDJibGsoem1kLT56b25lX25yX3NlY3RvcnMp
Owo+PiAgIAl6bWQtPnpvbmVfbnJfYmxvY2tzX3NoaWZ0ID0gaWxvZzIoem1kLT56b25lX25yX2Js
b2Nrcyk7Cj4+IEBAIC0xMjc0LDcgKzEzODEsMTQgQEAgc3RhdGljIGludCBkbXpfaW5pdF96b25l
cyhzdHJ1Y3QgZG16X21ldGFkYXRhICp6bWQpCj4+ICAgCQkJCQlETVpfQkxPQ0tfU0laRV9CSVRT
KTsKPj4gICAKPj4gICAJLyogQWxsb2NhdGUgem9uZSBhcnJheSAqLwo+PiAtCXptZC0+bnJfem9u
ZXMgPSBkZXYtPm5yX3pvbmVzOwo+PiArCXptZC0+bnJfem9uZXMgPSB6bWQtPmRldlswXS5ucl96
b25lczsKPj4gKwlpZiAoem1kLT5kZXZbMV0uYmRldikKPj4gKwkJem1kLT5ucl96b25lcyArPSB6
bWQtPmRldlsxXS5ucl96b25lczsKPj4gKwo+PiArCWlmICghem1kLT5ucl96b25lcykgewo+PiAr
CQlETUVSUigiKCVzKTogTm8gem9uZXMgZm91bmQiLCB6bWQtPmRldm5hbWUpOwo+PiArCQlyZXR1
cm4gLUVOWElPOwo+PiArCX0KPj4gICAJem1kLT56b25lcyA9IGtjYWxsb2Moem1kLT5ucl96b25l
cywgc2l6ZW9mKHN0cnVjdCBkbV96b25lKSwgR0ZQX0tFUk5FTCk7Cj4+ICAgCWlmICghem1kLT56
b25lcykKPj4gICAJCXJldHVybiAtRU5PTUVNOwo+PiBAQCAtMTI4MiwxMyArMTM5Niw0MyBAQCBz
dGF0aWMgaW50IGRtel9pbml0X3pvbmVzKHN0cnVjdCBkbXpfbWV0YWRhdGEgKnptZCkKPj4gICAJ
RE1JTkZPKCIoJXMpOiBVc2luZyAlenUgQiBmb3Igem9uZSBpbmZvcm1hdGlvbiIsCj4+ICAgCSAg
ICAgICB6bWQtPmRldm5hbWUsIHNpemVvZihzdHJ1Y3QgZG1fem9uZSkgKiB6bWQtPm5yX3pvbmVz
KTsKPj4gICAKPj4gKwlpZiAoem1kLT5kZXZbMV0uYmRldikgewo+PiArCQlpbnQgaWR4Owo+PiAr
CQlzZWN0b3JfdCB6b25lX29mZnNldCA9IDA7Cj4+ICsKPj4gKwkJZm9yKGlkeCA9IDA7IGlkeCA8
IHptZC0+ZGV2WzFdLm5yX3pvbmVzOyBpZHgrKykgewo+PiArCQkJc3RydWN0IGRtX3pvbmUgKnpv
bmUgPSAmem1kLT56b25lc1tpZHhdOwo+PiArCj4+ICsJCQlJTklUX0xJU1RfSEVBRCgmem9uZS0+
bGluayk7Cj4+ICsJCQlhdG9taWNfc2V0KCZ6b25lLT5yZWZjb3VudCwgMCk7Cj4+ICsJCQl6b25l
LT5pZCA9IGlkeDsKPj4gKwkJCXpvbmUtPmNodW5rID0gRE1aX01BUF9VTk1BUFBFRDsKPj4gKwkJ
CXNldF9iaXQoRE1aX1JORCwgJnpvbmUtPmZsYWdzKTsKPj4gKwkJCXpvbmUtPndwX2Jsb2NrID0g
MDsKPj4gKwkJCXptZC0+bnJfcm5kX3pvbmVzKys7Cj4+ICsJCQl6bWQtPm5yX3VzZWFibGVfem9u
ZXMrKzsKPj4gKwkJCWlmICh6bWQtPmRldlsxXS5jYXBhY2l0eSAtIHpvbmVfb2Zmc2V0IDwKPj4g
KwkJCSAgICB6bWQtPnpvbmVfbnJfc2VjdG9ycykgewo+PiArCQkJCS8qIERpc2FibGUgcnVudCB6
b25lICovCj4+ICsJCQkJc2V0X2JpdChETVpfT0ZGTElORSwgJnpvbmUtPmZsYWdzKTsKPj4gKwkJ
CQlicmVhazsKPj4gKwkJCX0KPj4gKwkJCXpvbmVfb2Zmc2V0ICs9IHptZC0+em9uZV9ucl9zZWN0
b3JzOwo+PiArCQkJaWYgKCF6bWQtPnNiWzBdLnpvbmUpIHsKPj4gKwkJCQkvKiBQcmltYXJ5IHN1
cGVyYmxvY2sgem9uZSAqLwo+PiArCQkJCXptZC0+c2JbMF0uem9uZSA9IHpvbmU7Cj4+ICsJCQl9
Cj4+ICsJCX0KPj4gKwkJem1kLT5kZXZbMF0uem9uZV9vZmZzZXQgPSB6bWQtPmRldlsxXS5ucl96
b25lczsKPiAKPiBUaGlzIGlzIGFzc3VtaW5nIHRoYXQgZGV2WzFdIGFsd2F5cyBpcyBhIHJlZ3Vs
YXIgZGV2aWNlLiBXaGF0IGlmIHRoaXMgaXMgYSB6b25lZAo+IGRldmljZSA/IEUuZy4gZG8gd2Ug
d2FudCB0byBwcmV2ZW50IHRoZSBjYXNlOiB6b25lZCBkZXZpY2Ugd2l0aCBybmQgem9uZWQgKwo+
IHpvbmVkIGRldmljZSB3aXRoIG5vIHJuZCB6b25lcyA/IEkgZG8gbm90IHRoaW5rIGl0IGlzIGFu
IGludGVyZXN0aW5nIHVzZSBjYXNlLAo+IGJ1dCBJIGRvIG5vdCBzZWUgYW55IHJlYXNvbiBmb3Ig
cHJldmVudGluZyBpdCBlaXRoZXIgYXMgSSBkbyBub3QgdGhpbmsgdGhpcyB3aWxsCj4gY2hhbmdl
IGFueXRoaW5nIHRvIHRoZSBjb2RlIGJlc2lkZSB0aGUgaW5pdCB6b25lcy4gVGhvdWdodHMgPwo+
IApJdCBtaWdodCB3b3JrIGlmIHRoZSB6b25lZCBkZXZpY2UgZG9lc24ndCBjb250YWluIGFueSBy
YW5kb20gd3JpdGUgCnpvbmVzLiBUaGUgY3VycmVudCBtb2RlbCBhc3N1bWVzIHRoYXQgdGhlIG1l
dGFkYXRhIHpvbmVzIGFyZSBsb2NhdGVkIGF0IAp0aGUgKGxvZ2ljYWwpIHN0YXJ0IG9mIHRoZSB6
b25lcywgYW5kIHRoZSBiaXRtYXAgY292ZXJzIGFsbCB6b25lcyBhZnRlciAKdGhlIG1ldGFkYXRh
LgpGb3IgVjIgSSBoYWQgdG8gbWFrZSBzb21lIHNsZWlnaCBvZiBoYW5kIGhlcmUgZm9yIHJ1bnQg
em9uZXMgYW5kIHRoZSAKdGVydGlhcnkgbWV0YWRhdGEgem9uZTsgdGhleSBhcmUgbWFya2VkIHNw
ZWNpZmljYWxseSAoYXMgb2ZmbGluZSBvciAKbWV0YWRhdGEgem9uZSwgcmVzcGVjdGl2ZWx5KSBz
byB0aGF0IGRtel9hbGxvY196b25lKCkgd2lsbCBpZ25vcmUgdGhlbSAKd2hlbiBzZWxlY3Rpbmcg
YSBuZXcgem9uZSBmcm9tIHRoZSBiaXRtYXAuCkJ1dCB0aGUgaW1wb3J0YW50IGJpdCBpcyB0aGF0
IHRoZSByYW5kb20gYW5kIHNlcXVlbnRpYWwgd3JpdGUgem9uZXMgYXJlIAphc3N1bWVkIHRvIGJl
IGNvbnNlY3V0aXZlOyBhbnkgZGV2aWNlIGNvbXBvdW5kIHdoaWNoIGNhbiBiZSBhcnJhbmdlZCAK
bGlrZSB0aGF0IHNob3VsZCB3b3JrLgpXaGljaCBpcyB3aHkgSSBjaGVja2VkIGZvciAhem9uZWQg
aGVyZTsgYWxsIHpvbmVkIGRldmljZXMgSSd2ZSBzZWVuIHNvIApmYXIgX2RvXyBoYXZlIHJhbmRv
bSB3cml0ZSB6b25lcyBhdCB0aGUgc3RhcnQsIHNvIHRoZSBjaHVuayBhbGxvY2F0b3IgCndvdWxk
bid0IHJlYWRpbHkgd29yayB3aXRoIHRoZW0gYW5kIEkgZGlkbid0IHdhbnQgdG8gZ28gaW50byBk
ZXRhaWxzIApmaWd1cmluZyBvdXQgd2hpY2ggem9uZWQgZGV2aWNlcyBtYXRjaCBhbmQgd2hpY2gg
ZG9uJ3QuCgpQbHVzIHRoaXMgcmVhbGx5IHdvdWxkIGJlIG1vcmUgbGlrZSBhIFJBSUQwIGNvbXBv
dW5kLCB3aGljaCByYWlzZXMgdGhlIApxdWVzdGlvbiBpZiBpdCBzaG91bGRuJ3QgYmV0dGVyIGJl
IGhhbmRsZWQgYnkgUkFJRDAgZGlyZWN0bHkgLi4uCgo+PiArCX0KPj4gKwo+PiAgIAkvKgo+PiAg
IAkgKiBHZXQgem9uZSBpbmZvcm1hdGlvbiBhbmQgaW5pdGlhbGl6ZSB6b25lIGRlc2NyaXB0b3Jz
LiAgQXQgdGhlIHNhbWUKPj4gICAJICogdGltZSwgZGV0ZXJtaW5lIHdoZXJlIHRoZSBzdXBlciBi
bG9jayBzaG91bGQgYmU6IGZpcnN0IGJsb2NrIG9mIHRoZQo+PiAgIAkgKiBmaXJzdCByYW5kb21s
eSB3cml0YWJsZSB6b25lLgo+PiAgIAkgKi8KPj4gLQlyZXQgPSBibGtkZXZfcmVwb3J0X3pvbmVz
KGRldi0+YmRldiwgMCwgQkxLX0FMTF9aT05FUywgZG16X2luaXRfem9uZSwKPj4gLQkJCQkgIHpt
ZCk7Cj4+ICsJcmV0ID0gYmxrZGV2X3JlcG9ydF96b25lcyh6bWQtPmRldlswXS5iZGV2LCAwLCBC
TEtfQUxMX1pPTkVTLAo+PiArCQkJCSAgZG16X2luaXRfem9uZSwgem1kKTsKPj4gICAJaWYgKHJl
dCA8IDApIHsKPj4gICAJCWRtel9kcm9wX3pvbmVzKHptZCk7Cj4+ICAgCQlyZXR1cm4gcmV0Owo+
PiBAQCAtMTMyNSw2ICsxNDY5LDkgQEAgc3RhdGljIGludCBkbXpfdXBkYXRlX3pvbmUoc3RydWN0
IGRtel9tZXRhZGF0YSAqem1kLCBzdHJ1Y3QgZG1fem9uZSAqem9uZSkKPj4gICAJdW5zaWduZWQg
aW50IG5vaW9fZmxhZzsKPj4gICAJaW50IHJldDsKPj4gICAKPj4gKwlpZiAoZGV2LT5mbGFncyAm
IERNWl9CREVWX1JFR1VMQVIpCj4+ICsJCXJldHVybiAwOwo+PiArCj4+ICAgCS8qCj4+ICAgCSAq
IEdldCB6b25lIGluZm9ybWF0aW9uIGZyb20gZGlzay4gU2luY2UgYmxrZGV2X3JlcG9ydF96b25l
cygpIHVzZXMKPj4gICAJICogR0ZQX0tFUk5FTCBieSBkZWZhdWx0IGZvciBtZW1vcnkgYWxsb2Nh
dGlvbnMsIHNldCB0aGUgcGVyLXRhc2sKPj4gQEAgLTE3NDEsNyArMTg4OCw4IEBAIHN0cnVjdCBk
bV96b25lICpkbXpfZ2V0X2NodW5rX21hcHBpbmcoc3RydWN0IGRtel9tZXRhZGF0YSAqem1kLCB1
bnNpZ25lZCBpbnQgY2h1Cj4+ICAgCQkvKiBBbGxvY2F0ZSBhIHJhbmRvbSB6b25lICovCj4+ICAg
CQlkem9uZSA9IGRtel9hbGxvY196b25lKHptZCwgRE1aX0FMTE9DX1JORCk7Cj4+ICAgCQlpZiAo
IWR6b25lKSB7Cj4+IC0JCQlpZiAoZG16X2JkZXZfaXNfZHlpbmcoem1kLT5kZXYpKSB7Cj4+ICsJ
CQlpZiAoZG16X2JkZXZfaXNfZHlpbmcoJnptZC0+ZGV2WzBdKSB8fAo+PiArCQkJICAgIGRtel9i
ZGV2X2lzX2R5aW5nKCZ6bWQtPmRldlsxXSkpIHsKPj4gICAJCQkJZHpvbmUgPSBFUlJfUFRSKC1F
SU8pOwo+PiAgIAkJCQlnb3RvIG91dDsKPj4gICAJCQl9Cj4+IEBAIC0xODQyLDcgKzE5OTAsOCBA
QCBzdHJ1Y3QgZG1fem9uZSAqZG16X2dldF9jaHVua19idWZmZXIoc3RydWN0IGRtel9tZXRhZGF0
YSAqem1kLAo+PiAgIAkvKiBBbGxvY2F0ZSBhIHJhbmRvbSB6b25lICovCj4+ICAgCWJ6b25lID0g
ZG16X2FsbG9jX3pvbmUoem1kLCBETVpfQUxMT0NfUk5EKTsKPj4gICAJaWYgKCFiem9uZSkgewo+
PiAtCQlpZiAoZG16X2JkZXZfaXNfZHlpbmcoem1kLT5kZXYpKSB7Cj4+ICsJCWlmIChkbXpfYmRl
dl9pc19keWluZygmem1kLT5kZXZbMF0pIHx8Cj4+ICsJCSAgICBkbXpfYmRldl9pc19keWluZygm
em1kLT5kZXZbMV0pKSB7Cj4+ICAgCQkJYnpvbmUgPSBFUlJfUFRSKC1FSU8pOwo+PiAgIAkJCWdv
dG8gb3V0Owo+PiAgIAkJfQo+PiBAQCAtMjQ4MCwxOCArMjYyOSwzNCBAQCB2b2lkIGRtel9wcmlu
dF9kZXYoc3RydWN0IGRtel9tZXRhZGF0YSAqem1kLCBpbnQgbnVtKQo+PiAgIHsKPj4gICAJc3Ry
dWN0IGRtel9kZXYgKmRldiA9ICZ6bWQtPmRldltudW1dOwo+PiAgIAo+PiAtCWRtel9kZXZfaW5m
byhkZXYsICJIb3N0LSVzIHpvbmVkIGJsb2NrIGRldmljZSIsCj4+IC0JCSAgICAgYmRldl96b25l
ZF9tb2RlbChkZXYtPmJkZXYpID09IEJMS19aT05FRF9IQSA/Cj4+IC0JCSAgICAgImF3YXJlIiA6
ICJtYW5hZ2VkIik7Cj4+IC0JZG16X2Rldl9pbmZvKGRldiwgIiAgJWxsdSA1MTItYnl0ZSBsb2dp
Y2FsIHNlY3RvcnMiLAo+PiAtCQkgICAgICh1NjQpZGV2LT5jYXBhY2l0eSk7Cj4+IC0JZG16X2Rl
dl9pbmZvKGRldiwgIiAgJXUgem9uZXMgb2YgJWxsdSA1MTItYnl0ZSBsb2dpY2FsIHNlY3RvcnMi
LAo+PiAtCQkgICAgIGRldi0+bnJfem9uZXMsICh1NjQpem1kLT56b25lX25yX3NlY3RvcnMpOwo+
PiArCWlmIChiZGV2X3pvbmVkX21vZGVsKGRldi0+YmRldikgPT0gQkxLX1pPTkVEX05PTkUpCj4+
ICsJCWRtel9kZXZfaW5mbyhkZXYsICJSZWd1bGFyIGJsb2NrIGRldmljZSIpOwo+PiArCWVsc2UK
Pj4gKwkJZG16X2Rldl9pbmZvKGRldiwgIkhvc3QtJXMgem9uZWQgYmxvY2sgZGV2aWNlIiwKPj4g
KwkJCSAgICAgYmRldl96b25lZF9tb2RlbChkZXYtPmJkZXYpID09IEJMS19aT05FRF9IQSA/Cj4+
ICsJCQkgICAgICJhd2FyZSIgOiAibWFuYWdlZCIpOwo+PiArCWlmICh6bWQtPnNiX3ZlcnNpb24g
PiAxKSB7Cj4+ICsJCXNlY3Rvcl90IHNlY3Rvcl9vZmZzZXQgPQo+PiArCQkJZGV2LT56b25lX29m
ZnNldCA8PCB6bWQtPnpvbmVfbnJfc2VjdG9yc19zaGlmdDsKPj4gKwo+PiArCQlkbXpfZGV2X2lu
Zm8oZGV2LCAiICB1dWlkICVwVWwiLCAmZGV2LT51dWlkKTsKPj4gKwkJZG16X2Rldl9pbmZvKGRl
diwgIiAgJWxsdSA1MTItYnl0ZSBsb2dpY2FsIHNlY3RvcnMgKG9mZnNldCAlbGx1KSIsCj4+ICsJ
CQkgICAgICh1NjQpZGV2LT5jYXBhY2l0eSwgKHU2NClzZWN0b3Jfb2Zmc2V0KTsKPj4gKwkJZG16
X2Rldl9pbmZvKGRldiwgIiAgJXUgem9uZXMgb2YgJWxsdSA1MTItYnl0ZSBsb2dpY2FsIHNlY3Rv
cnMgKG9mZnNldCAlbGx1KSIsCj4+ICsJCQkgICAgIGRldi0+bnJfem9uZXMsICh1NjQpem1kLT56
b25lX25yX3NlY3RvcnMsCj4+ICsJCQkgICAgICh1NjQpZGV2LT56b25lX29mZnNldCk7Cj4+ICsJ
fSBlbHNlIHsKPj4gKwkJZG16X2Rldl9pbmZvKGRldiwgIiAgJWxsdSA1MTItYnl0ZSBsb2dpY2Fs
IHNlY3RvcnMiLAo+PiArCQkJICAgICAodTY0KWRldi0+Y2FwYWNpdHkpOwo+PiArCQlkbXpfZGV2
X2luZm8oZGV2LCAiICAldSB6b25lcyBvZiAlbGx1IDUxMi1ieXRlIGxvZ2ljYWwgc2VjdG9ycyIs
Cj4+ICsJCQkgICAgIGRldi0+bnJfem9uZXMsICh1NjQpem1kLT56b25lX25yX3NlY3RvcnMpOwo+
PiArCX0KPj4gICB9Cj4+ICAgLyoKPj4gICAgKiBJbml0aWFsaXplIHRoZSB6b25lZCBtZXRhZGF0
YS4KPj4gICAgKi8KPj4gLWludCBkbXpfY3RyX21ldGFkYXRhKHN0cnVjdCBkbXpfZGV2ICpkZXYs
IHN0cnVjdCBkbXpfbWV0YWRhdGEgKiptZXRhZGF0YSwKPj4gK2ludCBkbXpfY3RyX21ldGFkYXRh
KHN0cnVjdCBkbXpfZGV2ICpkZXYsIGludCBudW1fZGV2LAo+PiArCQkgICAgIHN0cnVjdCBkbXpf
bWV0YWRhdGEgKiptZXRhZGF0YSwKPj4gICAJCSAgICAgY29uc3QgY2hhciAqZGV2bmFtZSkKPj4g
ICB7Cj4+ICAgCXN0cnVjdCBkbXpfbWV0YWRhdGEgKnptZDsKPj4gQEAgLTI1NDQsNyArMjcwOSwx
MyBAQCBpbnQgZG16X2N0cl9tZXRhZGF0YShzdHJ1Y3QgZG16X2RldiAqZGV2LCBzdHJ1Y3QgZG16
X21ldGFkYXRhICoqbWV0YWRhdGEsCj4+ICAgCQkJZ290byBlcnI7Cj4+ICAgCQlzZXRfYml0KERN
Wl9NRVRBLCAmem9uZS0+ZmxhZ3MpOwo+PiAgIAl9Cj4+IC0KPj4gKwlpZiAoem1kLT5zYlsyXS56
b25lKSB7Cj4+ICsJCXppZCA9IGRtel9pZCh6bWQsIHptZC0+c2JbMl0uem9uZSk7Cj4+ICsJCXpv
bmUgPSBkbXpfZ2V0KHptZCwgemlkKTsKPj4gKwkJaWYgKCF6b25lKQo+PiArCQkJZ290byBlcnI7
Cj4+ICsJCXNldF9iaXQoRE1aX01FVEEsICZ6b25lLT5mbGFncyk7Cj4+ICsJfQo+PiAgIAkvKiBM
b2FkIG1hcHBpbmcgdGFibGUgKi8KPj4gICAJcmV0ID0gZG16X2xvYWRfbWFwcGluZyh6bWQpOwo+
PiAgIAlpZiAocmV0KQo+PiBAQCAtMjU2OSw4ICsyNzQwLDE0IEBAIGludCBkbXpfY3RyX21ldGFk
YXRhKHN0cnVjdCBkbXpfZGV2ICpkZXYsIHN0cnVjdCBkbXpfbWV0YWRhdGEgKiptZXRhZGF0YSwK
Pj4gICAJCWdvdG8gZXJyOwo+PiAgIAl9Cj4+ICAgCj4+IC0JZG16X3ptZF9pbmZvKHptZCwgIkRN
LVpvbmVkIG1ldGFkYXRhIHZlcnNpb24gJWQiLCBETVpfTUVUQV9WRVIpOwo+PiArCWRtel96bWRf
aW5mbyh6bWQsICJETS1ab25lZCBtZXRhZGF0YSB2ZXJzaW9uICVkIiwgem1kLT5zYl92ZXJzaW9u
KTsKPj4gKwlpZiAoem1kLT5zYl92ZXJzaW9uID4gMSkgewo+PiArCQlkbXpfem1kX2luZm8oem1k
LCAiRE0gVVVJRCAlcFVsIiwgJnptZC0+dXVpZCk7Cj4+ICsJCWRtel96bWRfaW5mbyh6bWQsICJE
TSBMYWJlbCAlcyIsIHptZC0+bGFiZWwpOwo+PiArCX0KPj4gICAJZG16X3ByaW50X2Rldih6bWQs
IDApOwo+PiArCWlmICh6bWQtPmRldlsxXS5iZGV2KQo+PiArCQlkbXpfcHJpbnRfZGV2KHptZCwg
MSk7Cj4+ICAgCj4+ICAgCWRtel96bWRfaW5mbyh6bWQsICIgICV1IHpvbmVzIG9mICVsbHUgNTEy
LWJ5dGUgbG9naWNhbCBzZWN0b3JzIiwKPj4gICAJCSAgICAgem1kLT5ucl96b25lcywgKHU2NCl6
bWQtPnpvbmVfbnJfc2VjdG9ycyk7Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL21kL2RtLXpvbmVk
LXRhcmdldC5jIGIvZHJpdmVycy9tZC9kbS16b25lZC10YXJnZXQuYwo+PiBpbmRleCBjY2Y5MDYw
OGY0MzQuLjRjZmIzNGIzODY1OSAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9tZC9kbS16b25lZC10
YXJnZXQuYwo+PiArKysgYi9kcml2ZXJzL21kL2RtLXpvbmVkLXRhcmdldC5jCj4+IEBAIC0zOCw3
ICszOCw3IEBAIHN0cnVjdCBkbV9jaHVua193b3JrIHsKPj4gICAgKiBUYXJnZXQgZGVzY3JpcHRv
ci4KPj4gICAgKi8KPj4gICBzdHJ1Y3QgZG16X3RhcmdldCB7Cj4+IC0Jc3RydWN0IGRtX2RldgkJ
KmRkZXY7Cj4+ICsJc3RydWN0IGRtX2RldgkJKmRkZXZbMl07Cj4gCj4gRm9ybSB0aGUgY29kZSBh
Ym92ZSwgZGRldlsxXSBpcyB0aGUgcmVndWxhciBkZXZpY2UgYW5kIGRkZXZbMF0gdGhlIHpvbmVk
IGRldmljZS4KPiBJIHdvdWxkIHJlYWxseSBwcmVmZXIgdG8gaGF2ZSB0aGF0IHJldmVyc2VkIGFz
IHRoZSBkZGV2IGFycmF5IGluZGV4IHdvdWxkCj4gaW5jcmVhc2UgdG9nZXRoZXIgd2l0aCB0YXJn
ZXQgc2VjdG9yL3pvbmUgaWQgaW5zdGVhZCBvZiBiZWluZyByZXZlcnNlZC4gVGhhdAo+IHdvdWxk
IGJlIGZhciBsZXNzIGNvbmZ1c2luZyBJIHRoaW5rLgo+IApUaGlzIHdhcyBkb25lIHNvIHRvIGtl
ZXAgY29tcGFiaWxpdHkgd2l0aCB0aGUgb3JpZ2luYWwgdmVyc2lvbiwgd2hpY2ggCmhhZCB0aGUg
em9uZWQgZGV2aWNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4KCkJ1dCBJJ2xsIHNlZSBob3cgbGFy
Z2UgdGhlIGNvZGUgY2h1cm4gd291bGQgYmUgd2hlbiByZS1hcnJhbmdpbmcgdGhlIApkZXZpY2Vz
LgoKPj4gICAKPj4gICAJdW5zaWduZWQgbG9uZwkJZmxhZ3M7Cj4+ICAgCj4+IEBAIC0yMjMsNiAr
MjIzLDkgQEAgc3RhdGljIGludCBkbXpfaGFuZGxlX3JlYWQoc3RydWN0IGRtel90YXJnZXQgKmRt
eiwgc3RydWN0IGRtel9kZXYgKmRldiwKPj4gICAJCX0KPj4gICAKPj4gICAJCWlmIChucl9ibG9j
a3MpIHsKPj4gKwkJCWlmIChyem9uZSAhPSB6b25lKQo+PiArCQkJCWRldiA9IGRtel96b25lX3Rv
X2Rldih6bWQsIHJ6b25lKTsKPj4gKwo+PiAgIAkJCS8qIFZhbGlkIGJsb2NrcyBmb3VuZDogcmVh
ZCB0aGVtICovCj4+ICAgCQkJbnJfYmxvY2tzID0gbWluX3QodW5zaWduZWQgaW50LCBucl9ibG9j
a3MsIGVuZF9ibG9jayAtIGNodW5rX2Jsb2NrKTsKPj4gICAJCQlyZXQgPSBkbXpfc3VibWl0X2Jp
byhkbXosIGRldiwgcnpvbmUsIGJpbywKPj4gQEAgLTI5OCw2ICszMDEsNyBAQCBzdGF0aWMgaW50
IGRtel9oYW5kbGVfYnVmZmVyZWRfd3JpdGUoc3RydWN0IGRtel90YXJnZXQgKmRteiwKPj4gICAJ
CXJldHVybiAtRVJPRlM7Cj4+ICAgCj4+ICAgCS8qIFN1Ym1pdCB3cml0ZSAqLwo+PiArCWRldiA9
IGRtel96b25lX3RvX2Rldih6bWQsIGJ6b25lKTsKPj4gICAJcmV0ID0gZG16X3N1Ym1pdF9iaW8o
ZG16LCBkZXYsIGJ6b25lLCBiaW8sIGNodW5rX2Jsb2NrLCBucl9ibG9ja3MpOwo+PiAgIAlpZiAo
cmV0KQo+PiAgIAkJcmV0dXJuIHJldDsKPj4gQEAgLTU5MSw2ICs1OTUsMTAgQEAgc3RhdGljIGlu
dCBkbXpfcXVldWVfY2h1bmtfd29yayhzdHJ1Y3QgZG16X3RhcmdldCAqZG16LCBzdHJ1Y3QgYmlv
ICpiaW8pCj4+ICAgICovCj4+ICAgYm9vbCBkbXpfYmRldl9pc19keWluZyhzdHJ1Y3QgZG16X2Rl
diAqZG16X2RldikKPj4gICB7Cj4+ICsJLyogRGV2aWNlIG5vdCBjb25maWd1cmVkLCBubyBlcnJv
ciAqLwo+PiArCWlmICghZG16X2Rldi0+YmRldikKPj4gKwkJcmV0dXJuIGZhbHNlOwo+PiArCj4+
ICAgCWlmIChkbXpfZGV2LT5mbGFncyAmIERNWl9CREVWX0RZSU5HKQo+PiAgIAkJcmV0dXJuIHRy
dWU7Cj4+ICAgCj4+IEBAIC02OTgsNjAgKzcwNiw0NyBAQCBzdGF0aWMgaW50IGRtel9tYXAoc3Ry
dWN0IGRtX3RhcmdldCAqdGksIHN0cnVjdCBiaW8gKmJpbykKPj4gICAvKgo+PiAgICAqIEdldCB6
b25lZCBkZXZpY2UgaW5mb3JtYXRpb24uCj4+ICAgICovCj4+IC1zdGF0aWMgaW50IGRtel9nZXRf
em9uZWRfZGV2aWNlKHN0cnVjdCBkbV90YXJnZXQgKnRpLCBjaGFyICpwYXRoKQo+PiArc3RhdGlj
IGludCBkbXpfZ2V0X3pvbmVkX2RldmljZShzdHJ1Y3QgZG1fdGFyZ2V0ICp0aSwgY2hhciAqcGF0
aCwKPj4gKwkJCQlzdHJ1Y3QgZG16X2RldiAqZGV2LCBpbnQgbnVtKQo+PiAgIHsKPj4gICAJc3Ry
dWN0IGRtel90YXJnZXQgKmRteiA9IHRpLT5wcml2YXRlOwo+PiAgIAlzdHJ1Y3QgcmVxdWVzdF9x
dWV1ZSAqcTsKPj4gLQlzdHJ1Y3QgZG16X2RldiAqZGV2Owo+PiAtCXNlY3Rvcl90IGFsaWduZWRf
Y2FwYWNpdHk7Cj4+ICAgCWludCByZXQ7Cj4+ICAgCj4+ICAgCS8qIEdldCB0aGUgdGFyZ2V0IGRl
dmljZSAqLwo+PiAtCXJldCA9IGRtX2dldF9kZXZpY2UodGksIHBhdGgsIGRtX3RhYmxlX2dldF9t
b2RlKHRpLT50YWJsZSksICZkbXotPmRkZXYpOwo+PiArCXJldCA9IGRtX2dldF9kZXZpY2UodGks
IHBhdGgsIGRtX3RhYmxlX2dldF9tb2RlKHRpLT50YWJsZSksCj4+ICsJCQkgICAgJmRtei0+ZGRl
dltudW1dKTsKPj4gICAJaWYgKHJldCkgewo+PiAgIAkJdGktPmVycm9yID0gIkdldCB0YXJnZXQg
ZGV2aWNlIGZhaWxlZCI7Cj4+IC0JCWRtei0+ZGRldiA9IE5VTEw7Cj4+ICsJCWRtei0+ZGRldltu
dW1dID0gTlVMTDsKPj4gICAJCXJldHVybiByZXQ7Cj4+ICAgCX0KPj4gICAKPj4gLQlkZXYgPSBr
emFsbG9jKHNpemVvZihzdHJ1Y3QgZG16X2RldiksIEdGUF9LRVJORUwpOwo+PiAtCWlmICghZGV2
KSB7Cj4+IC0JCXJldCA9IC1FTk9NRU07Cj4+IC0JCWdvdG8gZXJyOwo+PiAtCX0KPj4gLQo+PiAt
CWRldi0+YmRldiA9IGRtei0+ZGRldi0+YmRldjsKPj4gKwlkZXYtPmJkZXYgPSBkbXotPmRkZXZb
bnVtXS0+YmRldjsKPj4gICAJKHZvaWQpYmRldm5hbWUoZGV2LT5iZGV2LCBkZXYtPm5hbWUpOwo+
PiAgIAo+PiAtCWlmIChiZGV2X3pvbmVkX21vZGVsKGRldi0+YmRldikgPT0gQkxLX1pPTkVEX05P
TkUpIHsKPj4gLQkJdGktPmVycm9yID0gIk5vdCBhIHpvbmVkIGJsb2NrIGRldmljZSI7Cj4+IC0J
CXJldCA9IC1FSU5WQUw7Cj4+IC0JCWdvdG8gZXJyOwo+PiAtCX0KPj4gKwlpZiAoYmRldl96b25l
ZF9tb2RlbChkZXYtPmJkZXYpID09IEJMS19aT05FRF9OT05FKQo+PiArCQlkZXYtPmZsYWdzID0g
RE1aX0JERVZfUkVHVUxBUjsKPiAKPiBEbyB3ZSB3YW50IHRvIGRpc2FsbG93IHJlZ3VsYXIgYmxv
Y2sgZGV2IGZvciBudW0gPT0gMSAoc2Vjb25kIGRldmljZSkgPwo+IE9yIHdlIGFjdHVhbGx5IGRv
IG5vdCBjYXJlIGFib3V0IHRoZSBvcmRlciBpbiB3aGljaCBkZXZpY2VzIGFyZSBvYnRhaW5lZCBm
cm9tCj4gdGhlIGN0ciBhcmd1bWVudHMgPwo+IApGb3Igbm93LCB3ZSBkby4KSSdsbCBuZWVkIHRv
IGRvIGEgY29kZSBhdWRpdCB0byBlbnN1cmUgd2UgY2FuIGhhbmRsZSBhbiBhcmJpdHJhcnkgb3Jk
ZXIgCm9mIGRldmljZXMuCgpCdXQgcG9zc2libHkgd2l0aCBhIG5leHQgcGF0Y2hzZXQ7IHRvb2sg
bWUgbG9uZyBlbm91Z2ggdG8gZ2V0IHRoaXMgb25lIApmaWd1cmVkIG91dCA6LSgKCgpUaGFua3Mg
Zm9yIHlvdXIgcmV2aWV3IQoKQ2hlZXJzLAoKSGFubmVzCi0tIApEci4gSGFubmVzIFJlaW5lY2tl
ICAgICAgICAgICAgVGVhbWxlYWQgU3RvcmFnZSAmIE5ldHdvcmtpbmcKaGFyZUBzdXNlLmRlICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICs0OSA5MTEgNzQwNTMgNjg4ClNVU0UgU29mdHdh
cmUgU29sdXRpb25zIEdtYkgsIE1heGZlbGRzdHIuIDUsIDkwNDA5IE7DvHJuYmVyZwpIUkIgMzY4
MDkgKEFHIE7DvHJuYmVyZyksIEdlc2Now6RmdHNmw7xocmVyOiBGZWxpeCBJbWVuZMO2cmZmZXIK
CgotLQpkbS1kZXZlbCBtYWlsaW5nIGxpc3QKZG0tZGV2ZWxAcmVkaGF0LmNvbQpodHRwczovL3d3
dy5yZWRoYXQuY29tL21haWxtYW4vbGlzdGluZm8vZG0tZGV2ZWw=

