Return-Path: <dm-devel-bounces@redhat.com>
X-Original-To: lists+dm-devel@lfdr.de
Delivered-To: lists+dm-devel@lfdr.de
Received: from us-smtp-delivery-124.mimecast.com (us-smtp-delivery-124.mimecast.com [170.10.133.124])
	by mail.lfdr.de (Postfix) with ESMTPS id 37E1A60982C
	for <lists+dm-devel@lfdr.de>; Mon, 24 Oct 2022 04:23:04 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
	s=mimecast20190719; t=1666578183;
	h=from:from:sender:sender:reply-to:subject:subject:date:date:
	 message-id:message-id:to:to:cc:cc:mime-version:mime-version:
	 content-type:content-type:
	 content-transfer-encoding:content-transfer-encoding:
	 in-reply-to:in-reply-to:references:references:list-id:list-help:
	 list-unsubscribe:list-subscribe:list-post;
	bh=n34HhK7/9y3nJtu1wISRAENqJqxpu3Z1Gs8RKMtDFBo=;
	b=a1VznQ5Tf3ZgnCOQl9QT0lHHAbzCCW0Y/5LsKVR+g4PL7Ht5pLP/WlkZ6GGxYNsflnnYJA
	ESSm0caecIO6BgmnXYf3fobB/VDtgWWc3bY/W+DO+OeC3y7fdAwurQhmuZB3NoGrHfTeuU
	7srwCy1F46otNDUT12rtj0LnzTEk35s=
Received: from mimecast-mx02.redhat.com (mx3-rdu2.redhat.com
 [66.187.233.73]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 us-mta-126-1YHDrZGxN8mRXyLMcaFWww-1; Sun, 23 Oct 2022 22:22:59 -0400
X-MC-Unique: 1YHDrZGxN8mRXyLMcaFWww-1
Received: from smtp.corp.redhat.com (int-mx03.intmail.prod.int.rdu2.redhat.com [10.11.54.3])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mimecast-mx02.redhat.com (Postfix) with ESMTPS id 7221529A8AED;
	Mon, 24 Oct 2022 02:22:56 +0000 (UTC)
Received: from mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com [10.30.29.100])
	by smtp.corp.redhat.com (Postfix) with ESMTP id 92C711121331;
	Mon, 24 Oct 2022 02:22:50 +0000 (UTC)
Received: from mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (localhost [IPv6:::1])
	by mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (Postfix) with ESMTP id 4075319465A4;
	Mon, 24 Oct 2022 02:22:42 +0000 (UTC)
X-Original-To: dm-devel@listman.corp.redhat.com
Delivered-To: dm-devel@listman.corp.redhat.com
Received: from smtp.corp.redhat.com (int-mx01.intmail.prod.int.rdu2.redhat.com
 [10.11.54.1])
 by mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (Postfix) with
 ESMTP id C40741946587
 for <dm-devel@listman.corp.redhat.com>; Mon, 24 Oct 2022 02:22:40 +0000 (UTC)
Received: by smtp.corp.redhat.com (Postfix)
 id 7A51C40C2143; Mon, 24 Oct 2022 02:22:40 +0000 (UTC)
Delivered-To: dm-devel@redhat.com
Received: from mimecast-mx02.redhat.com
 (mimecast06.extmail.prod.ext.rdu2.redhat.com [10.11.55.22])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 7250140C2064
 for <dm-devel@redhat.com>; Mon, 24 Oct 2022 02:22:40 +0000 (UTC)
Received: from us-smtp-1.mimecast.com (us-smtp-1.mimecast.com [207.211.31.81])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mimecast-mx02.redhat.com (Postfix) with ESMTPS id 30E71185A794
 for <dm-devel@redhat.com>; Mon, 24 Oct 2022 02:22:34 +0000 (UTC)
Received: from szxga01-in.huawei.com (szxga01-in.huawei.com
 [45.249.212.187]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 us-mta-127-9asDMwZzNru0Kf6qSX_6Mg-1; Sun, 23 Oct 2022 22:22:31 -0400
X-MC-Unique: 9asDMwZzNru0Kf6qSX_6Mg-1
Received: from dggpemm500021.china.huawei.com (unknown [172.30.72.55])
 by szxga01-in.huawei.com (SkyGuard) with ESMTP id 4Mwdzr1xY4zpVrP;
 Mon, 24 Oct 2022 10:19:04 +0800 (CST)
Received: from dggpemm500014.china.huawei.com (7.185.36.153) by
 dggpemm500021.china.huawei.com (7.185.36.109) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2375.31; Mon, 24 Oct 2022 10:22:27 +0800
Received: from [10.174.177.211] (10.174.177.211) by
 dggpemm500014.china.huawei.com (7.185.36.153) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2375.31; Mon, 24 Oct 2022 10:22:27 +0800
Message-ID: <363ff8ee-21f1-92fb-27b9-6c8bfa937543@huawei.com>
Date: Mon, 24 Oct 2022 10:22:26 +0800
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:91.0) Gecko/20100101
 Thunderbird/91.0.3
From: Wu Guanghao <wuguanghao3@huawei.com>
To: Benjamin Marzinski <bmarzins@redhat.com>
References: <1660769316-5302-1-git-send-email-bmarzins@redhat.com>
 <44f7c759-943d-23c9-bcd0-b20b0457e329@huawei.com>
 <20220915181754.GA23693@octiron.msp.redhat.com>
 <2686cb11-3955-e3f0-5f42-647dc9cfed36@huawei.com>
 <1be59335-9ba8-607e-efc2-90feb66901fe@huawei.com>
In-Reply-To: <1be59335-9ba8-607e-efc2-90feb66901fe@huawei.com>
X-Originating-IP: [10.174.177.211]
X-ClientProxiedBy: dggems703-chm.china.huawei.com (10.3.19.180) To
 dggpemm500014.china.huawei.com (7.185.36.153)
X-CFilter-Loop: Reflected
X-Mimecast-Impersonation-Protect: Policy=CLT - Impersonation Protection
 Definition; Similar Internal Domain=false;
 Similar Monitored External Domain=false; Custom External Domain=false;
 Mimecast External Domain=false; Newly Observed Domain=false;
 Internal User Name=false; Custom Display Name List=false;
 Reply-to Address Mismatch=false; Targeted Threat Dictionary=false;
 Mimecast Threat Dictionary=false; Custom Threat Dictionary=false
X-Mimecast-Bulk-Signature: yes
X-Mimecast-Spam-Signature: bulk
X-Scanned-By: MIMEDefang 3.1 on 10.11.54.1
Subject: Re: [dm-devel] [PATCH V2 0/6] allowing path checking to be
 interrupted.
X-BeenThere: dm-devel@redhat.com
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: device-mapper development <dm-devel.redhat.com>
List-Unsubscribe: <https://listman.redhat.com/mailman/options/dm-devel>,
 <mailto:dm-devel-request@redhat.com?subject=unsubscribe>
List-Archive: <http://listman.redhat.com/archives/dm-devel/>
List-Post: <mailto:dm-devel@redhat.com>
List-Help: <mailto:dm-devel-request@redhat.com?subject=help>
List-Subscribe: <https://listman.redhat.com/mailman/listinfo/dm-devel>,
 <mailto:dm-devel-request@redhat.com?subject=subscribe>
Cc: linfeilong <linfeilong@huawei.com>, lixiaokeng <lixiaokeng@huawei.com>,
 device-mapper development <dm-devel@redhat.com>,
 Martin Wilck <Martin.Wilck@suse.com>
Errors-To: dm-devel-bounces@redhat.com
Sender: "dm-devel" <dm-devel-bounces@redhat.com>
X-Scanned-By: MIMEDefang 3.1 on 10.11.54.3
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

RnJpZW5kbHkgcGluZyAuLi4KSXMgdGhlIHNlcmllcyBvZiBwYXRjaGVzIGZvciB2ZWNzLT5sb2Nr
IHJlYWR5IHRvIGJlIG1lcmdlZCBpbnRvIG1haW5saW5lPwpUaGFua3MKCuWcqCAyMDIyLzEwLzE3
IDE5OjMxLCBXdSBHdWFuZ2hhbyDlhpnpgZM6Cj4gCj4gCj4g5ZyoIDIwMjIvOS8yMCAxNzoyMCwg
V3UgR3VhbmdoYW8g5YaZ6YGTOgo+Pgo+Pgo+PiDlnKggMjAyMi85LzE2IDI6MTcsIEJlbmphbWlu
IE1hcnppbnNraSDlhpnpgZM6Cj4+PiBPbiBUaHUsIFNlcCAxNSwgMjAyMiBhdCAwMjo1NjozNlBN
ICswODAwLCBXdSBHdWFuZ2hhbyB3cm90ZToKPj4+PiBTb3JyeSBmb3IgdGhlIGxhdGUgZmVlZGJh
Y2suCj4+Pj4KPj4+PiBUaGUgdmVyc2lvbiB3ZSBhcmUgY3VycmVudGx5IHRlc3RpbmcgaXMgMC44
LjQsIHNvIHdlIG9ubHkgbWVyZ2UgdGhlCj4+Pj4gZmlyc3QgMyBwYXRjaGVzIGluIHRoaXMgc2Vy
aWVzIG9mIHBhdGNoZXMuIFRoZW4gYWZ0ZXIgdGhlIGFjdHVhbCB0ZXN0LAo+Pj4+IGl0IHdhcyBm
b3VuZCB0aGF0IHRoZSBlZmZlY3QgaW1wcm92ZW1lbnQgaXMgbm90IHZlcnkgb2J2aW91cy4KPj4+
Pgo+Pj4+IFRlc3QgZW52aXJvbm1lbnQ6IDEwMDAgbXVsdGlwYXRoIGRldmljZXMsIDE2IHBhdGhz
IHBlciBkZXZpY2UKPj4+PiBUZXN0IGNvbW1hbmQ6ICBBZ2dyZWdhdGUgbXVsdGlwYXRoIGRldmlj
ZXMgdXNpbmcgbXVsdGlwYXRoZCBhZGQgcGF0aAo+Pj4+IFRpbWUgY29uc3VtaW5nIO+8iHRpbWUg
Zm9yIDE2IHBhdGhzIHRvIGFnZ3JlZ2F0ZSAxIG11bHRpcGF0aCBkZXZpY2UpOgo+Pj4+IDEuIE9y
aWdpbmFsOgo+Pj4+IAk8IDRzOiAgIDc2LjklOwo+Pj4+IAk0c34xMHM6IDE4LjQlOwo+Pj4+IAk+
MTBzOgkgNC43JTsKPj4+PiAyLiBBZnRlciB1c2luZyB0aGUgcGF0Y2hlczoKPj4+PiAJPCA0czoJ
NzkuMSU7Cj4+Pj4gCTRzfjEwczogMTguMiU7Cj4+Pj4gCT4xMHM6CSAyLjclOwo+Pj4+Cj4+Pj4g
PkZyb20gdGhlIHJlc3VsdHMsIHRoZSB0aW1lLWNvbnN1bWluZyBpbXByb3ZlbWVudCBvZiB0aGUg
cGF0Y2ggaXMgbm90IG9idmlvdXMsCj4+Pj4gc28gd2UgbWFkZSBhIGZldyBjaGFuZ2VzIHRvIHRo
ZSBwYXRjaCBhbmQgaXQgd29ya2VkIGFzIGV4cGVjdGVkLiBUaGUgbW9kaWZpY2F0aW9uCj4+Pj4g
b2YgdGhlIHBhdGNoIGlzIGFzIGZvbGxvd3M6Cj4+Pj4KPj4+PiBQYXRoc19jaGVja2VkIGlzIGNo
YW5nZWQgdG8gY29uZmlndXJhYmxlLCBjdXJyZW50IHNldHRpbmcgbiA9IDIuCj4+Pj4gUmVtb3Zl
ZCBqdWRnbWVudCBvbiBkaWZmX3RpbWUuCj4+Pj4gU2xlZXAgY2hhbmdlIGZyb20gMTB1cyB0byA1
bXMKPj4+Cj4+PiBJIHdvcnJ5IHRoYXQgdGhpcyBpcyBnaXZpbmcgdG9vIG11Y2ggZGVmZXJlbmNl
IHRvIHRoZSB1ZXZlbnRzLiBJZiB0aGVyZQo+Pj4gaXMgYSB1ZXZlbnQgc3Rvcm0sIGNoZWNraW5n
IHdpbGwgc3RvcCBmb3IgNW1zIGV2ZXJ5IDIgcGF0aHMgY2hlY2tlZC4gSSdtCj4+PiB3b3JyaWVk
IHRoYXQgdGhpcyB3aWxsIG1ha2UgaXQgdGFrZSBzaWduaWZpY2FudGx5IGxvbmdlciBmb3IgdGhl
IHRoZQo+Pj4gcGF0aCBjaGVja2VyIHRvIGNvbXBsZXRlIGEgY3ljbGUuICBNYWtpbmcgcGF0aHNf
Y2hlY2tlZCBjb25maWd1cmFibGUsIHNvCj4+PiB0aGF0IHRoaXMgZG9lc24ndCB0cmlnZ2VyIHRv
byBvZnRlbiBkb2VzIGhlbHAgdG8gYXZvaWQgdGhlIGlzc3VlIHRoYXQKPj4+IGNoZWNraW5nIHRo
ZSB0aW1lIGZyb20gY2hrX3N0YXJ0X3RpbWUgd2FzIGRlYWxpbmcgd2l0aCwgYW5kIG1ha2VzIHRo
ZQo+Pj4gbWVjaGFuaWNzIG9mIHRoaXMgc2ltcGxlci4gIEJ1dCA1bXMgc2VlbXMgbGlrZSBhIGxv
bmcgdGltZSB0byBoYXZlIHRvCj4+PiB3YWl0LCBqdXN0IHRvIG1ha2Ugc3VyZSB0aGF0IGFub3Ro
ZXIgcHJvY2VzcyBoYWQgdGhlIHRpbWUgdG8gZ3JhYiB0aGUKPj4+IHZlY3MgbG9jay4gIFBlcmhh
cHMgaXQgd291bGQgYmUgYmV0dGVyIHRvIHNsZWVwIGZvciBhIHNob3J0ZXIgbGVuZ3RoIG9mCj4+
PiB0aW1lLCBidXQgaW4gYSBsb29wLCB3aGVyZSB3ZSBjYW4gY2hlY2sgdG8gc2VlIGlmIHByb2dy
ZXNzIGhhcyBiZWVuCj4+PiBtYWRlLCBwZXJoYXBzIGJ5IGNoZWNraW5nIHNvbWUgY291bnRlciBv
ZiBldmVudHMgYW5kIHVzZXIgY29tbWFuZHMKPj4+IHNlcnZpY2VkLiBUaGlzIHdheSwgd2UgYXJl
bid0IHNsZWVwaW5nIHRvbyBsb25nIGZvciBubyBnb29kIHJlYXNvbi4KPj4+IEkgYWdyZWUgd2l0
aCB0aGlzLCB3ZSBhcmUgYWxzbyBnb2luZyB0byBhZGp1c3QgdGhlIHNsZWVwIHRpbWUsIGFuZCB0
aGVuCj4+IGNvbnRpbnVlIHRoZSB0ZXN0Lgo+IAo+IFdlIGhhdmUgdGVzdGVkIHRoZSBkZWxheSB0
aW1lcyBvZiAxMHVzLCAxMDB1cyBhbmQgMW1zLCBidXQgdGhlIHJlc3VsdHMKPiB3ZXJlbid0IHZl
cnkgZ29vZC4gTW9yZSB0aGFuIDMwJSBvZiB0aGUgbHVucyBhZ2dyZWdhdGlvbiB0aW1lIGlzIGdy
ZWF0ZXIKPiB0aGFuIDRzLiBXaGV0aGVyIHRoZSBkZWxheSB0aW1lIGNhbiBhbHNvIGJlIHVzZWQg
YXMgYSBjb25maWd1cmFibGUgaXRlbQo+IGFuZCBjb25maWd1cmVkIGFjY29yZGluZyB0byB0aGUg
c2l0dWF0aW9uLgo+IAo+IFRoZSBmb2xsb3dpbmcgaXMgdGhlIHBhdGNoIGNvbnRlbnQgYWZ0ZXIg
d2UgaGF2ZSBtb2RpZmllZCBjaGVja2VyX2xvb3AoKS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiB3dWd1
YW5naGFvIDx3dWd1YW5naGFvM0BodWF3ZWkuY29tPgo+IC0tLQo+ICBsaWJtdWx0aXBhdGgvY29u
ZmlnLmMgICB8ICAzICsrCj4gIGxpYm11bHRpcGF0aC9jb25maWcuaCAgIHwgIDMgKysKPiAgbGli
bXVsdGlwYXRoL2RlZmF1bHRzLmggfCAgMyArKwo+ICBsaWJtdWx0aXBhdGgvZGljdC5jICAgICB8
IDU4ICsrKysrKysrKysrKysrKysrKysrKysrKysrKwo+ICBsaWJtdWx0aXBhdGgvc3RydWN0cy5o
ICB8ICAxICsKPiAgbXVsdGlwYXRoZC9tYWluLmMgICAgICAgfCA4NyArKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKystLS0tLS0tLQo+ICA2IGZpbGVzIGNoYW5nZWQsIDEzOCBpbnNlcnRp
b25zKCspLCAxNyBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvbGlibXVsdGlwYXRoL2Nv
bmZpZy5jIGIvbGlibXVsdGlwYXRoL2NvbmZpZy5jCj4gaW5kZXggN2QwZDcxMS4uNzY1ODYyNiAx
MDA2NDQKPiAtLS0gYS9saWJtdWx0aXBhdGgvY29uZmlnLmMKPiArKysgYi9saWJtdWx0aXBhdGgv
Y29uZmlnLmMKPiBAQCAtNzUyLDYgKzc1Miw5IEBAIGxvYWRfY29uZmlnIChjaGFyICogZmlsZSkK
PiAgCWNvbmYtPnJlbW92ZV9yZXRyaWVzID0gMDsKPiAgCWNvbmYtPmdob3N0X2RlbGF5ID0gREVG
QVVMVF9HSE9TVF9ERUxBWTsKPiAgCWNvbmYtPmFsbF90Z19wdCA9IERFRkFVTFRfQUxMX1RHX1BU
Owo+ICsJY29uZi0+Y2hlY2tfZGVsYXlfdGltZSA9IERFRkFVTFRfQ0hFQ0tfREVMQVlfVElNRTsK
PiArCWNvbmYtPmNoZWNrX3BhdGhfbnVtX3Blcl9zcGxpY2UgPSBERUZBVUxUX0NIRUNLX1BBVEhf
TlVNX1BFUl9TUExJQ0U7Cj4gKwo+ICAJLyoKPiAgCSAqIHByZWxvYWQgZGVmYXVsdCBod3RhYmxl
Cj4gIAkgKi8KPiBkaWZmIC0tZ2l0IGEvbGlibXVsdGlwYXRoL2NvbmZpZy5oIGIvbGlibXVsdGlw
YXRoL2NvbmZpZy5oCj4gaW5kZXggY2VlY2ZmMi4uYTI2ZGQ5OSAxMDA2NDQKPiAtLS0gYS9saWJt
dWx0aXBhdGgvY29uZmlnLmgKPiArKysgYi9saWJtdWx0aXBhdGgvY29uZmlnLmgKPiBAQCAtMjI5
LDYgKzIyOSw5IEBAIHN0cnVjdCBjb25maWcgewo+ICAJdmVjdG9yIGVsaXN0X3Byb3BlcnR5Owo+
ICAJdmVjdG9yIGVsaXN0X3Byb3RvY29sOwo+ICAJY2hhciAqZW5hYmxlX2ZvcmVpZ247Cj4gKwo+
ICsJaW50IGNoZWNrX2RlbGF5X3RpbWU7Cj4gKwlpbnQgY2hlY2tfcGF0aF9udW1fcGVyX3NwbGlj
ZTsKPiAgfTsKPiAKPiAgZXh0ZXJuIHN0cnVjdCB1ZGV2ICogdWRldjsKPiBkaWZmIC0tZ2l0IGEv
bGlibXVsdGlwYXRoL2RlZmF1bHRzLmggYi9saWJtdWx0aXBhdGgvZGVmYXVsdHMuaAo+IGluZGV4
IDUyZmUwNWIuLmIzZmIxYmMgMTAwNjQ0Cj4gLS0tIGEvbGlibXVsdGlwYXRoL2RlZmF1bHRzLmgK
PiArKysgYi9saWJtdWx0aXBhdGgvZGVmYXVsdHMuaAo+IEBAIC01MCw2ICs1MCw5IEBACj4gICNk
ZWZpbmUgREVGQVVMVF9GSU5EX01VTFRJUEFUSFNfVElNRU9VVCAtMTAKPiAgI2RlZmluZSBERUZB
VUxUX1VOS05PV05fRklORF9NVUxUSVBBVEhTX1RJTUVPVVQgMQo+ICAjZGVmaW5lIERFRkFVTFRf
QUxMX1RHX1BUIEFMTF9UR19QVF9PRkYKPiArI2RlZmluZSBERUZBVUxUX0NIRUNLX0RFTEFZX1RJ
TUUgMTAKPiArI2RlZmluZSBERUZBVUxUX0NIRUNLX1BBVEhfTlVNX1BFUl9TUExJQ0UgMQo+ICsK
PiAgLyogRW5hYmxlIGFsbCBmb3JlaWduIGxpYnJhcmllcyBieSBkZWZhdWx0ICovCj4gICNkZWZp
bmUgREVGQVVMVF9FTkFCTEVfRk9SRUlHTiAiIgo+IAo+IGRpZmYgLS1naXQgYS9saWJtdWx0aXBh
dGgvZGljdC5jIGIvbGlibXVsdGlwYXRoL2RpY3QuYwo+IGluZGV4IDJjOGVhMTAuLjIyNjJjYWEg
MTAwNjQ0Cj4gLS0tIGEvbGlibXVsdGlwYXRoL2RpY3QuYwo+ICsrKyBiL2xpYm11bHRpcGF0aC9k
aWN0LmMKPiBAQCAtMTQwNyw2ICsxNDA3LDQ2IEBAIGRlZl91eHNvY2tfdGltZW91dF9oYW5kbGVy
KHN0cnVjdCBjb25maWcgKmNvbmYsIHZlY3RvciBzdHJ2ZWMpCj4gIAlmcmVlKGJ1ZmYpOwo+ICAJ
cmV0dXJuIDA7Cj4gIH0KPiArc3RhdGljIGludAo+ICtkZWZfY2hlY2tfZGVsYXlfdGltZV9oYW5k
bGVyKHN0cnVjdCBjb25maWcgKmNvbmYsIHZlY3RvciBzdHJ2ZWMpCj4gK3sKPiArCWludCBsb2Nh
bF9jaGVja19kZWxheV90aW1lOwo+ICsJY2hhciAqYnVmZjsKPiArCj4gKwlidWZmID0gc2V0X3Zh
bHVlKHN0cnZlYyk7Cj4gKwlpZiAoIWJ1ZmYpCj4gKwkJcmV0dXJuIDE7Cj4gKwo+ICsJaWYgKHNz
Y2FuZihidWZmLCAiJXUiLCAmbG9jYWxfY2hlY2tfZGVsYXlfdGltZSkgPT0gMSAmJgo+ICsJICAg
IGxvY2FsX2NoZWNrX2RlbGF5X3RpbWUgPiBERUZBVUxUX0NIRUNLX0RFTEFZX1RJTUUpCj4gKwkJ
Y29uZi0+Y2hlY2tfZGVsYXlfdGltZSA9IGxvY2FsX2NoZWNrX2RlbGF5X3RpbWU7Cj4gKwllbHNl
Cj4gKwkJY29uZi0+Y2hlY2tfZGVsYXlfdGltZSA9IERFRkFVTFRfQ0hFQ0tfREVMQVlfVElNRTsK
PiArCj4gKwlmcmVlKGJ1ZmYpOwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQK
PiArZGVmX2NoZWNrX3BhdGhfbnVtX3Blcl9zcGxpY2VfaGFuZGxlcihzdHJ1Y3QgY29uZmlnICpj
b25mLCB2ZWN0b3Igc3RydmVjKQo+ICt7Cj4gKwlpbnQgbG9jYWxfY2hlY2tfcGF0aF9udW1fcGVy
X3NwbGljZTsKPiArCWNoYXIgKmJ1ZmY7Cj4gKwo+ICsJYnVmZiA9IHNldF92YWx1ZShzdHJ2ZWMp
Owo+ICsJaWYgKCFidWZmKQo+ICsJCXJldHVybiAxOwo+ICsKPiArCWlmIChzc2NhbmYoYnVmZiwg
IiV1IiwgJmxvY2FsX2NoZWNrX3BhdGhfbnVtX3Blcl9zcGxpY2UpID09IDEgJiYKPiArCSAgICBs
b2NhbF9jaGVja19wYXRoX251bV9wZXJfc3BsaWNlID4gREVGQVVMVF9DSEVDS19QQVRIX05VTV9Q
RVJfU1BMSUNFKQo+ICsJCWNvbmYtPmNoZWNrX3BhdGhfbnVtX3Blcl9zcGxpY2UgPSBsb2NhbF9j
aGVja19wYXRoX251bV9wZXJfc3BsaWNlOwo+ICsJZWxzZQo+ICsJCWNvbmYtPmNoZWNrX3BhdGhf
bnVtX3Blcl9zcGxpY2UgPSBERUZBVUxUX0NIRUNLX1BBVEhfTlVNX1BFUl9TUExJQ0U7Cj4gKwo+
ICsJZnJlZShidWZmKTsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+IAo+ICBzdGF0aWMgaW50Cj4g
IGh3X3ZwZF92ZW5kb3JfaGFuZGxlcihzdHJ1Y3QgY29uZmlnICpjb25mLCB2ZWN0b3Igc3RydmVj
KQo+IEBAIC0xNTQ2LDYgKzE1ODYsMjEgQEAgc25wcmludF9kZWZfdXhzb2NrX3RpbWVvdXQoc3Ry
dWN0IGNvbmZpZyAqY29uZiwgY2hhciAqIGJ1ZmYsIGludCBsZW4sCj4gIAlyZXR1cm4gc25wcmlu
dGYoYnVmZiwgbGVuLCAiJXUiLCBjb25mLT51eHNvY2tfdGltZW91dCk7Cj4gIH0KPiAKPiArc3Rh
dGljIGludAo+ICtzbnByaW50X2RlZl9jaGVja19kZWxheV90aW1lKHN0cnVjdCBjb25maWcgKmNv
bmYsIGNoYXIgKiBidWZmLCBpbnQgbGVuLAo+ICsJCQkgICBjb25zdCB2b2lkICpkYXRhKQo+ICt7
Cj4gKwlyZXR1cm4gc25wcmludGYoYnVmZiwgbGVuLCAiJXUiLCBjb25mLT5jaGVja19kZWxheV90
aW1lKTsKPiArfQo+ICsKPiArc3RhdGljIGludAo+ICtzbnByaW50X2RlZl9jaGVja19wYXRoX251
bV9wZXJfc3BsaWNlKHN0cnVjdCBjb25maWcgKmNvbmYsIGNoYXIgKiBidWZmLCBpbnQgbGVuLAo+
ICsJCQkgICBjb25zdCB2b2lkICpkYXRhKQo+ICt7Cj4gKwlyZXR1cm4gc25wcmludGYoYnVmZiwg
bGVuLCAiJXUiLCBjb25mLT5jaGVja19wYXRoX251bV9wZXJfc3BsaWNlKTsKPiArfQo+ICsKPiAr
Cj4gIHN0YXRpYyBpbnQKPiAgc25wcmludF9ibGVfc2ltcGxlIChzdHJ1Y3QgY29uZmlnICpjb25m
LCBjaGFyICogYnVmZiwgaW50IGxlbiwKPiAgCQkgICAgY29uc3Qgdm9pZCAqIGRhdGEpCj4gQEAg
LTE4MDQsNiArMTg1OSw5IEBAIGluaXRfa2V5d29yZHModmVjdG9yIGtleXdvcmRzKQo+ICAJaW5z
dGFsbF9rZXl3b3JkKCJlbmFibGVfZm9yZWlnbiIsICZkZWZfZW5hYmxlX2ZvcmVpZ25faGFuZGxl
ciwKPiAgCQkJJnNucHJpbnRfZGVmX2VuYWJsZV9mb3JlaWduKTsKPiAgCWluc3RhbGxfa2V5d29y
ZCgibWFyZ2luYWxfcGF0aGdyb3VwcyIsICZkZWZfbWFyZ2luYWxfcGF0aGdyb3Vwc19oYW5kbGVy
LCAmc25wcmludF9kZWZfbWFyZ2luYWxfcGF0aGdyb3Vwcyk7Cj4gKwlpbnN0YWxsX2tleXdvcmQo
ImNoZWNrX2RlbGF5X3RpbWUiLCAmZGVmX2NoZWNrX2RlbGF5X3RpbWVfaGFuZGxlciwgJnNucHJp
bnRfZGVmX2NoZWNrX2RlbGF5X3RpbWUpOwo+ICsJaW5zdGFsbF9rZXl3b3JkKCJjaGVja19wYXRo
X251bV9wZXJfc3BsaWNlIiwgJmRlZl9jaGVja19wYXRoX251bV9wZXJfc3BsaWNlX2hhbmRsZXIs
ICZzbnByaW50X2RlZl9jaGVja19wYXRoX251bV9wZXJfc3BsaWNlKTsKPiArCj4gIAlfX2RlcHJl
Y2F0ZWQgaW5zdGFsbF9rZXl3b3JkKCJkZWZhdWx0X3NlbGVjdG9yIiwgJmRlZl9zZWxlY3Rvcl9o
YW5kbGVyLCBOVUxMKTsKPiAgCV9fZGVwcmVjYXRlZCBpbnN0YWxsX2tleXdvcmQoImRlZmF1bHRf
cGF0aF9ncm91cGluZ19wb2xpY3kiLCAmZGVmX3BncG9saWN5X2hhbmRsZXIsIE5VTEwpOwo+ICAJ
X19kZXByZWNhdGVkIGluc3RhbGxfa2V5d29yZCgiZGVmYXVsdF91aWRfYXR0cmlidXRlIiwgJmRl
Zl91aWRfYXR0cmlidXRlX2hhbmRsZXIsIE5VTEwpOwo+IGRpZmYgLS1naXQgYS9saWJtdWx0aXBh
dGgvc3RydWN0cy5oIGIvbGlibXVsdGlwYXRoL3N0cnVjdHMuaAo+IGluZGV4IDExZTUxNmEuLjM5
MWRlOTYgMTAwNjQ0Cj4gLS0tIGEvbGlibXVsdGlwYXRoL3N0cnVjdHMuaAo+ICsrKyBiL2xpYm11
bHRpcGF0aC9zdHJ1Y3RzLmgKPiBAQCAtMjg4LDYgKzI4OCw3IEBAIHN0cnVjdCBwYXRoIHsKPiAg
CWludCBmaW5kX211bHRpcGF0aHNfdGltZW91dDsKPiAgCWludCBtYXJnaW5hbDsKPiAgCWludCB2
cGRfdmVuZG9yX2lkOwo+ICsJYm9vbCBpc19jaGVja2VkOwo+ICAJLyogY29uZmlnbGV0IHBvaW50
ZXJzICovCj4gIAl2ZWN0b3IgaHdlOwo+ICAJc3RydWN0IGdlbl9wYXRoIGdlbmVyaWNfcGF0aDsK
PiBkaWZmIC0tZ2l0IGEvbXVsdGlwYXRoZC9tYWluLmMgYi9tdWx0aXBhdGhkL21haW4uYwo+IGlu
ZGV4IDUwMzVkNWIuLjg2NWI3YjUgMTAwNjQ0Cj4gLS0tIGEvbXVsdGlwYXRoZC9tYWluLmMKPiAr
KysgYi9tdWx0aXBhdGhkL21haW4uYwo+IEBAIC0yMzg4LDYgKzIzODgsMTEgQEAgY2hlY2tfcGF0
aCAoc3RydWN0IHZlY3RvcnMgKiB2ZWNzLCBzdHJ1Y3QgcGF0aCAqIHBwLCB1bnNpZ25lZCBpbnQg
dGlja3MpCj4gIAl9Cj4gIAlyZXR1cm4gMTsKPiAgfQo+ICtlbnVtIGNoZWNrZXJfc3RhdGUgewo+
ICsJQ0hFQ0tFUl9TVEFSVElORywKPiArCUNIRUNLRVJfUlVOTklORywKPiArCUNIRUNLRVJfRklO
SVNIRUQsCj4gK307Cj4gCj4gIHN0YXRpYyB2b2lkICoKPiAgY2hlY2tlcmxvb3AgKHZvaWQgKmFw
KQo+IEBAIC0yMzk1LDExICsyNDAwLDExIEBAIGNoZWNrZXJsb29wICh2b2lkICphcCkKPiAgCXN0
cnVjdCB2ZWN0b3JzICp2ZWNzOwo+ICAJc3RydWN0IHBhdGggKnBwOwo+ICAJaW50IGNvdW50ID0g
MDsKPiAtCXVuc2lnbmVkIGludCBpOwo+ICAJc3RydWN0IHRpbWVzcGVjIGxhc3RfdGltZTsKPiAg
CXN0cnVjdCBjb25maWcgKmNvbmY7Cj4gIAlpbnQgZm9yZWlnbl90aWNrID0gMDsKPiAgCWJvb2wg
dXNlX3dhdGNoZG9nOwo+ICsJaW50IGNoZWNrX2RlbGF5X3RpbWUsIGNoZWNrX3BhdGhfbnVtX3Bl
cl9zcGxpY2U7Cj4gCj4gIAlwdGhyZWFkX2NsZWFudXBfcHVzaChyY3VfdW5yZWdpc3RlciwgTlVM
TCk7Cj4gIAlyY3VfcmVnaXN0ZXJfdGhyZWFkKCk7Cj4gQEAgLTI0MTQsMTIgKzI0MTksMTUgQEAg
Y2hlY2tlcmxvb3AgKHZvaWQgKmFwKQo+ICAJLyogdXNlX3dhdGNoZG9nIGlzIHNldCBmcm9tIHBy
b2Nlc3MgZW52aXJvbm1lbnQgYW5kIG5ldmVyIGNoYW5nZXMgKi8KPiAgCWNvbmYgPSBnZXRfbXVs
dGlwYXRoX2NvbmZpZygpOwo+ICAJdXNlX3dhdGNoZG9nID0gY29uZi0+dXNlX3dhdGNoZG9nOwo+
ICsJY2hlY2tfZGVsYXlfdGltZSA9IGNvbmYtPmNoZWNrX2RlbGF5X3RpbWU7Cj4gKwljaGVja19w
YXRoX251bV9wZXJfc3BsaWNlID0gY29uZi0+Y2hlY2tfcGF0aF9udW1fcGVyX3NwbGljZTsKPiAg
CXB1dF9tdWx0aXBhdGhfY29uZmlnKGNvbmYpOwo+IAo+ICAJd2hpbGUgKDEpIHsKPiAgCQlzdHJ1
Y3QgdGltZXNwZWMgZGlmZl90aW1lLCBzdGFydF90aW1lLCBlbmRfdGltZTsKPiAtCQlpbnQgbnVt
X3BhdGhzID0gMCwgc3RyaWN0X3RpbWluZywgcmMgPSAwOwo+ICsJCWludCBudW1fcGF0aHMgPSAw
LCBzdHJpY3RfdGltaW5nLCByYyA9IDAsIGkgPSAwOwo+ICAJCXVuc2lnbmVkIGludCB0aWNrcyA9
IDA7Cj4gKwkJZW51bSBjaGVja2VyX3N0YXRlIGNoZWNrZXJfc3RhdGUgPSBDSEVDS0VSX1NUQVJU
SU5HOwo+IAo+ICAJCWdldF9tb25vdG9uaWNfdGltZSgmc3RhcnRfdGltZSk7Cj4gIAkJaWYgKHN0
YXJ0X3RpbWUudHZfc2VjICYmIGxhc3RfdGltZS50dl9zZWMpIHsKPiBAQCAtMjQ0MywyMSArMjQ1
MSw2NiBAQCBjaGVja2VybG9vcCAodm9pZCAqYXApCj4gIAkJfSBlbHNlIGlmIChyYyA9PSBFSU5W
QUwpCj4gIAkJCS8qIGRhZW1vbiBzaHV0ZG93biAqLwo+ICAJCQlicmVhazsKPiAtCj4gLQkJcHRo
cmVhZF9jbGVhbnVwX3B1c2goY2xlYW51cF9sb2NrLCAmdmVjcy0+bG9jayk7Cj4gLQkJbG9jaygm
dmVjcy0+bG9jayk7Cj4gLQkJcHRocmVhZF90ZXN0Y2FuY2VsKCk7Cj4gLQkJdmVjdG9yX2ZvcmVh
Y2hfc2xvdCAodmVjcy0+cGF0aHZlYywgcHAsIGkpIHsKPiAtCQkJcmMgPSBjaGVja19wYXRoKHZl
Y3MsIHBwLCB0aWNrcyk7Cj4gLQkJCWlmIChyYyA8IDApIHsKPiAtCQkJCXZlY3Rvcl9kZWxfc2xv
dCh2ZWNzLT5wYXRodmVjLCBpKTsKPiAtCQkJCWZyZWVfcGF0aChwcCk7Cj4gLQkJCQlpLS07Cj4g
LQkJCX0gZWxzZQo+IC0JCQkJbnVtX3BhdGhzICs9IHJjOwo+IC0JCX0KPiAtCQlsb2NrX2NsZWFu
dXBfcG9wKHZlY3MtPmxvY2spOwo+IC0KPiArCQljb25kbG9nKDQsICJjaGVja19kZWxheV90aW1l
IGlzICV1LCBjaGVja19wYXRoX251bV9wZXJfc3BsaWNlIGlzICV1IiwgY2hlY2tfZGVsYXlfdGlt
ZSwgY2hlY2tfcGF0aF9udW1fcGVyX3NwbGljZSk7Cj4gKwo+ICsJCXdoaWxlIChjaGVja2VyX3N0
YXRlICE9IENIRUNLRVJfRklOSVNIRUQpIHsKPiArCQkJdW5zaWduZWQgaW50IHBhdGhzX2NoZWNr
ZWQgPSAwOwo+ICsJCQlzdHJ1Y3QgdGltZXNwZWMgY2hrX3N0YXJ0X3RpbWU7Cj4gKwkJCXB0aHJl
YWRfY2xlYW51cF9wdXNoKGNsZWFudXBfbG9jaywgJnZlY3MtPmxvY2spOwo+ICsJCQlsb2NrKCZ2
ZWNzLT5sb2NrKTsKPiArCQkJcHRocmVhZF90ZXN0Y2FuY2VsKCk7Cj4gKwkJCWdldF9tb25vdG9u
aWNfdGltZSgmY2hrX3N0YXJ0X3RpbWUpOwo+ICsJCQlpZiAoY2hlY2tlcl9zdGF0ZSA9PSBDSEVD
S0VSX1NUQVJUSU5HKSB7Cj4gKwkJCQl2ZWN0b3JfZm9yZWFjaF9zbG90KHZlY3MtPnBhdGh2ZWMs
IHBwLCBpKQo+ICsJCQkJCXBwLT5pc19jaGVja2VkID0gZmFsc2U7Cj4gKwkJCQlpID0gMDsKPiAr
CQkJCWNoZWNrZXJfc3RhdGUgPSBDSEVDS0VSX1JVTk5JTkc7Cj4gKwkJCX0gZWxzZSB7Cj4gKwkJ
CQkvKgo+ICsJCQkJICogUGF0aHMgY291bGQgaGF2ZSBiZWVuIHJlbW92ZWQgc2luY2Ugd2UKPiAr
CQkJCSAqIGRyb3BwZWQgdGhlIGxvY2suIEZpbmQgdGhlIHBhdGggdG8gY29udGludWUKPiArCQkJ
CSAqIGNoZWNraW5nIGF0LiBTaW5jZSBwYXRocyBjYW4gYmUgcmVtb3ZlZCBmcm9tCj4gKwkJCQkg
KiBhbnl3aGVyZSBpbiB0aGUgdmVjdG9yLCBidXQgY2FuIG9ubHkgYmUgYWRkZWQKPiArCQkJCSAq
IGF0IHRoZSBlbmQsIHRoZSBsYXN0IGNoZWNrZWQgcGF0aCBtdXN0IGJlCj4gKwkJCQkgKiBiZXR3
ZWVuIGl0cyBvbGQgbG9jYXRpb24sIGFuZCB0aGUgc3RhcnQgb3IKPiArCQkJCSAqIHRoZSB2ZWN0
b3IuCj4gKwkJCQkgKi8KPiArCQkJCWlmIChpID49IFZFQ1RPUl9TSVpFKHZlY3MtPnBhdGh2ZWMp
KQo+ICsJCQkJCWkgPSBWRUNUT1JfU0laRSh2ZWNzLT5wYXRodmVjKSAtIDE7Cj4gKwkJCQl3aGls
ZSAoKHBwID0gVkVDVE9SX1NMT1QodmVjcy0+cGF0aHZlYywgaSkpKSB7Cj4gKwkJCQkJaWYgKHBw
LT5pc19jaGVja2VkID09IHRydWUpCj4gKwkJCQkJCWJyZWFrOwo+ICsJCQkJCWktLTsKPiArCQkJ
CX0KPiArCQkJCWkrKzsKPiArCQkJfQo+ICsJCQl2ZWN0b3JfZm9yZWFjaF9zbG90X2FmdGVyICh2
ZWNzLT5wYXRodmVjLCBwcCwgaSkgewo+ICsJCQkJcHAtPmlzX2NoZWNrZWQgPSB0cnVlOwo+ICsJ
CQkJcmMgPSBjaGVja19wYXRoKHZlY3MsIHBwLCB0aWNrcyk7Cj4gKwkJCQlpZiAocmMgPCAwKSB7
Cj4gKwkJCQkJY29uZGxvZygxLCAiJXM6IGNoZWNrX3BhdGgoKSBmYWlsZWQsIHJlbW92aW5nIiwK
PiArCQkJCQkJcHAtPmRldik7Cj4gKwkJCQkJdmVjdG9yX2RlbF9zbG90KHZlY3MtPnBhdGh2ZWMs
IGkpOwo+ICsJCQkJCWZyZWVfcGF0aChwcCk7Cj4gKwkJCQkJaS0tOwo+ICsJCQkJfSBlbHNlCj4g
KwkJCQkJbnVtX3BhdGhzICs9IHJjOwo+ICsJCQkJaWYgKCsrcGF0aHNfY2hlY2tlZCAlIGNoZWNr
X3BhdGhfbnVtX3Blcl9zcGxpY2UgPT0gMCAmJgo+ICsJCQkJICAgIGxvY2tfaGFzX3dhaXRlcnMo
JnZlY3MtPmxvY2spKSB7Cj4gKwkJCQkJZ2V0X21vbm90b25pY190aW1lKCZlbmRfdGltZSk7Cj4g
KwkJCQkJdGltZXNwZWNzdWIoJmVuZF90aW1lLCAmY2hrX3N0YXJ0X3RpbWUsCj4gKwkJCQkJCSAg
ICAmZGlmZl90aW1lKTsKPiArCQkJCQlnb3RvIHVubG9jazsKPiArCQkJCX0KPiArCQkJfQo+ICsJ
CQljaGVja2VyX3N0YXRlID0gQ0hFQ0tFUl9GSU5JU0hFRDsKPiArdW5sb2NrOgo+ICsJCQlsb2Nr
X2NsZWFudXBfcG9wKHZlY3MtPmxvY2spOwo+ICsJCQlpZiAoY2hlY2tlcl9zdGF0ZSAhPSBDSEVD
S0VSX0ZJTklTSEVEKSB7Cj4gKwkJCQkvKiBZaWVsZCB0byB3YWl0ZXJzICovCj4gKwkJCQl1c2xl
ZXAoY2hlY2tfZGVsYXlfdGltZSk7Cj4gKwkJCX0KPiArCQl9Cj4gIAkJcHRocmVhZF9jbGVhbnVw
X3B1c2goY2xlYW51cF9sb2NrLCAmdmVjcy0+bG9jayk7Cj4gIAkJbG9jaygmdmVjcy0+bG9jayk7
Cj4gIAkJcHRocmVhZF90ZXN0Y2FuY2VsKCk7Cj4gCgotLQpkbS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZG0tZGV2ZWxAcmVkaGF0LmNvbQpodHRwczovL2xpc3RtYW4ucmVkaGF0LmNvbS9tYWlsbWFuL2xp
c3RpbmZvL2RtLWRldmVsCg==

