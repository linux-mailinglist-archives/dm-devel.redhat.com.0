Return-Path: <dm-devel-bounces@redhat.com>
X-Original-To: lists+dm-devel@lfdr.de
Delivered-To: lists+dm-devel@lfdr.de
Received: from us-smtp-delivery-124.mimecast.com (us-smtp-delivery-124.mimecast.com [170.10.129.124])
	by mail.lfdr.de (Postfix) with ESMTPS id AD55170401A
	for <lists+dm-devel@lfdr.de>; Mon, 15 May 2023 23:55:31 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
	s=mimecast20190719; t=1684187730;
	h=from:from:sender:sender:reply-to:subject:subject:date:date:
	 message-id:message-id:to:to:cc:cc:mime-version:mime-version:
	 content-type:content-type:
	 content-transfer-encoding:content-transfer-encoding:
	 in-reply-to:in-reply-to:references:references:list-id:list-help:
	 list-unsubscribe:list-subscribe:list-post;
	bh=1St688bNTDiu+97bhveb7V6zHd8j5akO2AQjLPGsRuQ=;
	b=jIDMZbX/Y8NJI4dsBpTV1bgii+BHcajycZzvj5vf6HDtJ6C2K7TQHHELaIdnDMyZ/AET6G
	ixy2wfdXy82WKFzfIbyKM3O13YX7MydoaKP4+DmA5rxsa1uYAid+rMtTYsKRvMK/YSk1Jn
	CjVEUHBmN/a6X8eOhjT+otoaOFhStxk=
Received: from mimecast-mx02.redhat.com (mx3-rdu2.redhat.com
 [66.187.233.73]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 us-mta-627-UQ2tVAwqNwKQ0yE5SAuNwQ-1; Mon, 15 May 2023 17:55:26 -0400
X-MC-Unique: UQ2tVAwqNwKQ0yE5SAuNwQ-1
Received: from smtp.corp.redhat.com (int-mx02.intmail.prod.int.rdu2.redhat.com [10.11.54.2])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mimecast-mx02.redhat.com (Postfix) with ESMTPS id BCC703C14852;
	Mon, 15 May 2023 21:55:24 +0000 (UTC)
Received: from mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (unknown [10.30.29.100])
	by smtp.corp.redhat.com (Postfix) with ESMTP id 0BAF340C6EC4;
	Mon, 15 May 2023 21:55:22 +0000 (UTC)
Received: from mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (localhost [IPv6:::1])
	by mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (Postfix) with ESMTP id 5297319465B3;
	Mon, 15 May 2023 21:55:21 +0000 (UTC)
X-Original-To: dm-devel@listman.corp.redhat.com
Delivered-To: dm-devel@listman.corp.redhat.com
Received: from smtp.corp.redhat.com (int-mx07.intmail.prod.int.rdu2.redhat.com
 [10.11.54.7])
 by mm-prod-listman-01.mail-001.prod.us-east-1.aws.redhat.com (Postfix) with
 ESMTP id 5A591194658C
 for <dm-devel@listman.corp.redhat.com>; Mon, 15 May 2023 21:55:20 +0000 (UTC)
Received: by smtp.corp.redhat.com (Postfix)
 id 48C29141511D; Mon, 15 May 2023 21:55:20 +0000 (UTC)
Delivered-To: dm-devel@redhat.com
Received: from mimecast-mx02.redhat.com
 (mimecast07.extmail.prod.ext.rdu2.redhat.com [10.11.55.23])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 407B01410F23
 for <dm-devel@redhat.com>; Mon, 15 May 2023 21:55:20 +0000 (UTC)
Received: from us-smtp-inbound-1.mimecast.com (unknown [170.10.128.81])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mimecast-mx02.redhat.com (Postfix) with ESMTPS id 1D6FC3C1484E
 for <dm-devel@redhat.com>; Mon, 15 May 2023 21:55:20 +0000 (UTC)
Received: from mail-ed1-f46.google.com (mail-ed1-f46.google.com
 [209.85.208.46]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-321-55ZuR6vnOyiz_VQaCeawKg-1; Mon, 15 May 2023 17:55:17 -0400
X-MC-Unique: 55ZuR6vnOyiz_VQaCeawKg-1
Received: by mail-ed1-f46.google.com with SMTP id
 4fb4d7f45d1cf-50bc075d6b2so24357421a12.0
 for <dm-devel@redhat.com>; Mon, 15 May 2023 14:55:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20221208; t=1684187716; x=1686779716;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=MBufFDPCgb8FzjQLH8nY1KMCUfOc5xDHFgBLnp3EL70=;
 b=XH3+A0YyWQjnY9og2669yxaWLo626FfuePnW7aj4ZOivEomi77tvF03a5i3QeYfDAQ
 JcSFqiVTD0vVvsRfrJjCUUddjx3Op9ILrO6mKKvZPPvmHNzhKOoUYN0Z6GZprLS87lAP
 5aRPHKeuxFPX4j5Y+n7YJgFaGamfbEMvCMhO1tipXVaB3BGBXVPSolF3Xk2OQ70yItVN
 OTdi0Kqv8T7pgscx8kqJLglrdzijDZYcdlzN35/aTCh+jz/cvUDGyjVqESSkYgT3J0ow
 bfNTr1fjOwcFoxSEEVWP8I75T8ZV5Rb6rj3TQ8CCBuqFBfSmzMx7WsVQExHLhemU6iUu
 R+Yw==
X-Gm-Message-State: AC+VfDzB49GrWxAnXc3DfChz5lbhbiqBb3wzAg6+z6JwD0rh+lt3QoZS
 fRzzI24di25GwpJbMDmGEBDIphrFjKnM8tREKJHNoA==
X-Google-Smtp-Source: ACHHUZ463PeFDmXcfMVew3EXs0kR201Z/7XoYxMODWyV+My+VRnmSJ8zQgzHBJ/GhsgwhmuCIrNB6QdfsiuJTHf3bk0=
X-Received: by 2002:a17:907:9482:b0:968:4d51:800b with SMTP id
 dm2-20020a170907948200b009684d51800bmr25417043ejc.1.1684187716125; Mon, 15
 May 2023 14:55:16 -0700 (PDT)
MIME-Version: 1.0
References: <20230420004850.297045-1-sarthakkukreti@chromium.org>
 <20230506062909.74601-1-sarthakkukreti@chromium.org>
 <20230506062909.74601-3-sarthakkukreti@chromium.org>
 <20230512183729.GE858791@frogsfrogsfrogs>
In-Reply-To: <20230512183729.GE858791@frogsfrogsfrogs>
From: Sarthak Kukreti <sarthakkukreti@chromium.org>
Date: Mon, 15 May 2023 14:55:05 -0700
Message-ID: <CAG9=OMPpNOrkwN07bdPS61Rg+osu72Ge_RLZJoPLRsAEAqNhFA@mail.gmail.com>
To: "Darrick J. Wong" <djwong@kernel.org>
X-Mimecast-Impersonation-Protect: Policy=CLT - Impersonation Protection
 Definition; Similar Internal Domain=false;
 Similar Monitored External Domain=false; Custom External Domain=false;
 Mimecast External Domain=false; Newly Observed Domain=false;
 Internal User Name=false; Custom Display Name List=false;
 Reply-to Address Mismatch=false; Targeted Threat Dictionary=false;
 Mimecast Threat Dictionary=false; Custom Threat Dictionary=false
X-Scanned-By: MIMEDefang 3.1 on 10.11.54.7
Subject: Re: [dm-devel] [PATCH v6 2/5] block: Introduce provisioning
 primitives
X-BeenThere: dm-devel@redhat.com
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: device-mapper development <dm-devel.redhat.com>
List-Unsubscribe: <https://listman.redhat.com/mailman/options/dm-devel>,
 <mailto:dm-devel-request@redhat.com?subject=unsubscribe>
List-Archive: <http://listman.redhat.com/archives/dm-devel/>
List-Post: <mailto:dm-devel@redhat.com>
List-Help: <mailto:dm-devel-request@redhat.com?subject=help>
List-Subscribe: <https://listman.redhat.com/mailman/listinfo/dm-devel>,
 <mailto:dm-devel-request@redhat.com?subject=subscribe>
Cc: Jens Axboe <axboe@kernel.dk>, Christoph Hellwig <hch@infradead.org>,
 Theodore Ts'o <tytso@mit.edu>, "Michael S. Tsirkin" <mst@redhat.com>,
 Jason Wang <jasowang@redhat.com>, Bart Van Assche <bvanassche@google.com>,
 Mike Snitzer <snitzer@kernel.org>, linux-kernel@vger.kernel.org,
 linux-block@vger.kernel.org, dm-devel@redhat.com,
 Andreas Dilger <adilger.kernel@dilger.ca>,
 Stefan Hajnoczi <stefanha@redhat.com>, linux-fsdevel@vger.kernel.org,
 linux-ext4@vger.kernel.org, Brian Foster <bfoster@redhat.com>,
 Alasdair Kergon <agk@redhat.com>
Errors-To: dm-devel-bounces@redhat.com
Sender: "dm-devel" <dm-devel-bounces@redhat.com>
X-Scanned-By: MIMEDefang 3.1 on 10.11.54.2
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: chromium.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

T24gRnJpLCBNYXkgMTIsIDIwMjMgYXQgMTE6MzfigK9BTSBEYXJyaWNrIEouIFdvbmcgPGRqd29u
Z0BrZXJuZWwub3JnPiB3cm90ZToKPgo+IE9uIEZyaSwgTWF5IDA1LCAyMDIzIGF0IDExOjI5OjA2
UE0gLTA3MDAsIFNhcnRoYWsgS3VrcmV0aSB3cm90ZToKPiA+IEludHJvZHVjZSBibG9jayByZXF1
ZXN0IFJFUV9PUF9QUk9WSVNJT04uIFRoZSBpbnRlbnQgb2YgdGhpcyByZXF1ZXN0Cj4gPiBpcyB0
byByZXF1ZXN0IHVuZGVybHlpbmcgc3RvcmFnZSB0byBwcmVhbGxvY2F0ZSBkaXNrIHNwYWNlIGZv
ciB0aGUgZ2l2ZW4KPiA+IGJsb2NrIHJhbmdlLiBCbG9jayBkZXZpY2VzIHRoYXQgc3VwcG9ydCB0
aGlzIGNhcGFiaWxpdHkgd2lsbCBleHBvcnQKPiA+IGEgcHJvdmlzaW9uIGxpbWl0IHdpdGhpbiB0
aGVpciByZXF1ZXN0IHF1ZXVlcy4KPiA+Cj4gPiBUaGlzIHBhdGNoIGFsc28gYWRkcyB0aGUgY2Fw
YWJpbGl0eSB0byBjYWxsIGZhbGxvY2F0ZSgpIGluIG1vZGUgMAo+ID4gb24gYmxvY2sgZGV2aWNl
cywgd2hpY2ggd2lsbCBzZW5kIFJFUV9PUF9QUk9WSVNJT04gdG8gdGhlIGJsb2NrCj4gPiBkZXZp
Y2UgZm9yIHRoZSBzcGVjaWZpZWQgcmFuZ2UsCj4gPgo+ID4gU2lnbmVkLW9mZi1ieTogU2FydGhh
ayBLdWtyZXRpIDxzYXJ0aGFra3VrcmV0aUBjaHJvbWl1bS5vcmc+Cj4gPiAtLS0KPiA+ICBibG9j
ay9ibGstY29yZS5jICAgICAgICAgIHwgIDUgKysrKwo+ID4gIGJsb2NrL2Jsay1saWIuYyAgICAg
ICAgICAgfCA1MyArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKPiA+ICBi
bG9jay9ibGstbWVyZ2UuYyAgICAgICAgIHwgMTggKysrKysrKysrKysrKwo+ID4gIGJsb2NrL2Js
ay1zZXR0aW5ncy5jICAgICAgfCAxOSArKysrKysrKysrKysrKwo+ID4gIGJsb2NrL2Jsay1zeXNm
cy5jICAgICAgICAgfCAgOSArKysrKysrCj4gPiAgYmxvY2svYm91bmNlLmMgICAgICAgICAgICB8
ICAxICsKPiA+ICBibG9jay9mb3BzLmMgICAgICAgICAgICAgIHwgMTAgKysrKysrKy0KPiA+ICBp
bmNsdWRlL2xpbnV4L2Jpby5oICAgICAgIHwgIDYgKysrLS0KPiA+ICBpbmNsdWRlL2xpbnV4L2Js
a190eXBlcy5oIHwgIDUgKysrLQo+ID4gIGluY2x1ZGUvbGludXgvYmxrZGV2LmggICAgfCAxNiAr
KysrKysrKysrKysKPiA+ICAxMCBmaWxlcyBjaGFuZ2VkLCAxMzggaW5zZXJ0aW9ucygrKSwgNCBk
ZWxldGlvbnMoLSkKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEvYmxvY2svYmxrLWNvcmUuYyBiL2Jsb2Nr
L2Jsay1jb3JlLmMKPiA+IGluZGV4IDQyOTI2ZTZjYjgzYy4uNGEyMzQyYmEzYThiIDEwMDY0NAo+
ID4gLS0tIGEvYmxvY2svYmxrLWNvcmUuYwo+ID4gKysrIGIvYmxvY2svYmxrLWNvcmUuYwo+ID4g
QEAgLTEyMyw2ICsxMjMsNyBAQCBzdGF0aWMgY29uc3QgY2hhciAqY29uc3QgYmxrX29wX25hbWVb
XSA9IHsKPiA+ICAgICAgIFJFUV9PUF9OQU1FKFdSSVRFX1pFUk9FUyksCj4gPiAgICAgICBSRVFf
T1BfTkFNRShEUlZfSU4pLAo+ID4gICAgICAgUkVRX09QX05BTUUoRFJWX09VVCksCj4gPiArICAg
ICBSRVFfT1BfTkFNRShQUk9WSVNJT04pCj4gPiAgfTsKPiA+ICAjdW5kZWYgUkVRX09QX05BTUUK
PiA+Cj4gPiBAQCAtNzk4LDYgKzc5OSwxMCBAQCB2b2lkIHN1Ym1pdF9iaW9fbm9hY2N0KHN0cnVj
dCBiaW8gKmJpbykKPiA+ICAgICAgICAgICAgICAgaWYgKCFxLT5saW1pdHMubWF4X3dyaXRlX3pl
cm9lc19zZWN0b3JzKQo+ID4gICAgICAgICAgICAgICAgICAgICAgIGdvdG8gbm90X3N1cHBvcnRl
ZDsKPiA+ICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiArICAgICBjYXNlIFJFUV9PUF9QUk9WSVNJ
T046Cj4gPiArICAgICAgICAgICAgIGlmICghcS0+bGltaXRzLm1heF9wcm92aXNpb25fc2VjdG9y
cykKPiA+ICsgICAgICAgICAgICAgICAgICAgICBnb3RvIG5vdF9zdXBwb3J0ZWQ7Cj4gPiArICAg
ICAgICAgICAgIGJyZWFrOwo+ID4gICAgICAgZGVmYXVsdDoKPiA+ICAgICAgICAgICAgICAgYnJl
YWs7Cj4gPiAgICAgICB9Cj4gPiBkaWZmIC0tZ2l0IGEvYmxvY2svYmxrLWxpYi5jIGIvYmxvY2sv
YmxrLWxpYi5jCj4gPiBpbmRleCBlNTljMzA2OWU4MzUuLjY0N2I2NDUxNjYwYiAxMDA2NDQKPiA+
IC0tLSBhL2Jsb2NrL2Jsay1saWIuYwo+ID4gKysrIGIvYmxvY2svYmxrLWxpYi5jCj4gPiBAQCAt
MzQzLDMgKzM0Myw1NiBAQCBpbnQgYmxrZGV2X2lzc3VlX3NlY3VyZV9lcmFzZShzdHJ1Y3QgYmxv
Y2tfZGV2aWNlICpiZGV2LCBzZWN0b3JfdCBzZWN0b3IsCj4gPiAgICAgICByZXR1cm4gcmV0Owo+
ID4gIH0KPiA+ICBFWFBPUlRfU1lNQk9MKGJsa2Rldl9pc3N1ZV9zZWN1cmVfZXJhc2UpOwo+ID4g
Kwo+ID4gKy8qKgo+ID4gKyAqIGJsa2Rldl9pc3N1ZV9wcm92aXNpb24gLSBwcm92aXNpb24gYSBi
bG9jayByYW5nZQo+ID4gKyAqIEBiZGV2OiAgICBibG9ja2RldiB0byB3cml0ZQo+ID4gKyAqIEBz
ZWN0b3I6ICBzdGFydCBzZWN0b3IKPiA+ICsgKiBAbnJfc2VjdHM6ICAgICAgICBudW1iZXIgb2Yg
c2VjdG9ycyB0byBwcm92aXNpb24KPiA+ICsgKiBAZ2ZwX21hc2s6ICAgICAgICBtZW1vcnkgYWxs
b2NhdGlvbiBmbGFncyAoZm9yIGJpb19hbGxvYykKPiA+ICsgKgo+ID4gKyAqIERlc2NyaXB0aW9u
Ogo+ID4gKyAqICBJc3N1ZXMgYSBwcm92aXNpb24gcmVxdWVzdCB0byB0aGUgYmxvY2sgZGV2aWNl
IGZvciB0aGUgcmFuZ2Ugb2Ygc2VjdG9ycy4KPiA+ICsgKiAgRm9yIHRoaW5seSBwcm92aXNpb25l
ZCBibG9jayBkZXZpY2VzLCB0aGlzIGFjdHMgYXMgYSBzaWduYWwgZm9yIHRoZQo+ID4gKyAqICB1
bmRlcmx5aW5nIHN0b3JhZ2UgcG9vbCB0byBhbGxvY2F0ZSBzcGFjZSBmb3IgdGhpcyBibG9jayBy
YW5nZS4KPiA+ICsgKi8KPiA+ICtpbnQgYmxrZGV2X2lzc3VlX3Byb3Zpc2lvbihzdHJ1Y3QgYmxv
Y2tfZGV2aWNlICpiZGV2LCBzZWN0b3JfdCBzZWN0b3IsCj4gPiArICAgICAgICAgICAgIHNlY3Rv
cl90IG5yX3NlY3RzLCBnZnBfdCBnZnApCj4gPiArewo+ID4gKyAgICAgc2VjdG9yX3QgYnNfbWFz
ayA9IChiZGV2X2xvZ2ljYWxfYmxvY2tfc2l6ZShiZGV2KSA+PiA5KSAtIDE7Cj4gPiArICAgICB1
bnNpZ25lZCBpbnQgbWF4X3NlY3RvcnMgPSBiZGV2X21heF9wcm92aXNpb25fc2VjdG9ycyhiZGV2
KTsKPiA+ICsgICAgIHN0cnVjdCBiaW8gKmJpbyA9IE5VTEw7Cj4gPiArICAgICBzdHJ1Y3QgYmxr
X3BsdWcgcGx1ZzsKPiA+ICsgICAgIGludCByZXQgPSAwOwo+ID4gKwo+ID4gKyAgICAgaWYgKG1h
eF9zZWN0b3JzID09IDApCj4gPiArICAgICAgICAgICAgIHJldHVybiAtRU9QTk9UU1VQUDsKPiA+
ICsgICAgIGlmICgoc2VjdG9yIHwgbnJfc2VjdHMpICYgYnNfbWFzaykKPiA+ICsgICAgICAgICAg
ICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiArICAgICBpZiAoYmRldl9yZWFkX29ubHkoYmRldikpCj4g
PiArICAgICAgICAgICAgIHJldHVybiAtRVBFUk07Cj4gPiArCj4gPiArICAgICBibGtfc3RhcnRf
cGx1ZygmcGx1Zyk7Cj4gPiArICAgICBmb3IgKDs7KSB7Cj4gPiArICAgICAgICAgICAgIHVuc2ln
bmVkIGludCByZXFfc2VjdHMgPSBtaW5fdChzZWN0b3JfdCwgbnJfc2VjdHMsIG1heF9zZWN0b3Jz
KTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgYmlvID0gYmxrX25leHRfYmlvKGJpbywgYmRldiwg
MCwgUkVRX09QX1BST1ZJU0lPTiwgZ2ZwKTsKPiA+ICsgICAgICAgICAgICAgYmlvLT5iaV9pdGVy
LmJpX3NlY3RvciA9IHNlY3RvcjsKPiA+ICsgICAgICAgICAgICAgYmlvLT5iaV9pdGVyLmJpX3Np
emUgPSByZXFfc2VjdHMgPDwgU0VDVE9SX1NISUZUOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBz
ZWN0b3IgKz0gcmVxX3NlY3RzOwo+ID4gKyAgICAgICAgICAgICBucl9zZWN0cyAtPSByZXFfc2Vj
dHM7Cj4gPiArICAgICAgICAgICAgIGlmICghbnJfc2VjdHMpIHsKPiA+ICsgICAgICAgICAgICAg
ICAgICAgICByZXQgPSBzdWJtaXRfYmlvX3dhaXQoYmlvKTsKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICBpZiAocmV0ID09IC1FT1BOT1RTVVBQKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcmV0ID0gMDsKPgo+IFdoeSBkbyB3ZSBjb252ZXJ0IEVPUE5PVFNVUFAgdG8gc3VjY2Vz
cyBoZXJlPyAgSWYgdGhlIGRldmljZSBzdWRkZW5seQo+IGZvcmdldHMgaG93IHRvIHByb3Zpc2lv
biBzcGFjZSwgd291bGRuJ3Qgd2Ugd2FudCB0byBwYXNzIHRoYXQgdXAgdG8gdGhlCj4gY2FsbGVy
Pwo+Cj4gKEknbSBub3Qgc3VyZSB3aGVuIHRoaXMgd291bGQgaGFwcGVuIC0tIHBlcmhhcHMgdGhl
IGJkZXYgaGFzIHRoZSBnZW5lcmFsCj4gcHJvdmlzaW9uaW5nIGNhcGFiaWxpdHkgYnV0IG5vdCBm
b3IgdGhlIHNwZWNpZmljIHJhbmdlIHJlcXVlc3RlZD8pCj4KQWggZ29vZCBjYXRjaCwgSSBpbml0
aWFsbHkgd2lyZWQgaXQgdXAgdG8gYmUgbGVzcyBub2lzeSBpbiB0aGUga2VybmVsCmxvZ3MgYnV0
IGxlZnQgaXQgYmVoaW5kIGFjY2lkZW50YWxseS4gVGhlIGVycm9yIHNob3VsZCBkZWZpbml0ZWx5
IGJlCnBhc3NlZCB0aHJvdWdoOiBvbmUgY2FzZSB3aGVyZSB0aGlzIGNhbiBoYXBwZW4gaXMgaWYg
dGhlIGRldmljZS1tYXBwZXIKdGFibGUgY29tcHJpc2VzIHNldmVyYWwgdW5kZXJseWluZyB0YXJn
ZXRzIGJ1dCBvbmx5IGEgZmV3IG9mIHRoZW0Kc3VwcG9ydCBwcm92aXNpb24uIEknbGwgZml4IHRo
aXMgaW4gdjcuCgpCZXN0ClNhcnRoYWsKCj4gVGhlIHJlc3Qgb2YgdGhlIHBhdGNoIGxvb2tzIG9r
IHRvIG1lLgo+Cj4gLS1ECj4KPiA+ICsgICAgICAgICAgICAgICAgICAgICBiaW9fcHV0KGJpbyk7
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiArICAgICAgICAgICAgIH0KPiA+
ICsgICAgICAgICAgICAgY29uZF9yZXNjaGVkKCk7Cj4gPiArICAgICB9Cj4gPiArICAgICBibGtf
ZmluaXNoX3BsdWcoJnBsdWcpOwo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIHJldDsKPiA+ICt9Cj4g
PiArRVhQT1JUX1NZTUJPTChibGtkZXZfaXNzdWVfcHJvdmlzaW9uKTsKPiA+IGRpZmYgLS1naXQg
YS9ibG9jay9ibGstbWVyZ2UuYyBiL2Jsb2NrL2Jsay1tZXJnZS5jCj4gPiBpbmRleCA2NDYwYWJk
YjI0MjYuLmEzZmZlYmI5N2ExZCAxMDA2NDQKPiA+IC0tLSBhL2Jsb2NrL2Jsay1tZXJnZS5jCj4g
PiArKysgYi9ibG9jay9ibGstbWVyZ2UuYwo+ID4gQEAgLTE1OCw2ICsxNTgsMjEgQEAgc3RhdGlj
IHN0cnVjdCBiaW8gKmJpb19zcGxpdF93cml0ZV96ZXJvZXMoc3RydWN0IGJpbyAqYmlvLAo+ID4g
ICAgICAgcmV0dXJuIGJpb19zcGxpdChiaW8sIGxpbS0+bWF4X3dyaXRlX3plcm9lc19zZWN0b3Jz
LCBHRlBfTk9JTywgYnMpOwo+ID4gIH0KPiA+Cj4gPiArc3RhdGljIHN0cnVjdCBiaW8gKmJpb19z
cGxpdF9wcm92aXNpb24oc3RydWN0IGJpbyAqYmlvLAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgcXVldWVfbGltaXRzICpsaW0sCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCAqbnNlZ3MsIHN0
cnVjdCBiaW9fc2V0ICpicykKPiA+ICt7Cj4gPiArICAgICAqbnNlZ3MgPSAwOwo+ID4gKwo+ID4g
KyAgICAgaWYgKCFsaW0tPm1heF9wcm92aXNpb25fc2VjdG9ycykKPiA+ICsgICAgICAgICAgICAg
cmV0dXJuIE5VTEw7Cj4gPiArCj4gPiArICAgICBpZiAoYmlvX3NlY3RvcnMoYmlvKSA8PSBsaW0t
Pm1heF9wcm92aXNpb25fc2VjdG9ycykKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIE5VTEw7Cj4g
PiArCj4gPiArICAgICByZXR1cm4gYmlvX3NwbGl0KGJpbywgbGltLT5tYXhfcHJvdmlzaW9uX3Nl
Y3RvcnMsIEdGUF9OT0lPLCBicyk7Cj4gPiArfQo+ID4gKwo+ID4gIC8qCj4gPiAgICogUmV0dXJu
IHRoZSBtYXhpbXVtIG51bWJlciBvZiBzZWN0b3JzIGZyb20gdGhlIHN0YXJ0IG9mIGEgYmlvIHRo
YXQgbWF5IGJlCj4gPiAgICogc3VibWl0dGVkIGFzIGEgc2luZ2xlIHJlcXVlc3QgdG8gYSBibG9j
ayBkZXZpY2UuIElmIGVub3VnaCBzZWN0b3JzIHJlbWFpbiwKPiA+IEBAIC0zNjYsNiArMzgxLDkg
QEAgc3RydWN0IGJpbyAqX19iaW9fc3BsaXRfdG9fbGltaXRzKHN0cnVjdCBiaW8gKmJpbywKPiA+
ICAgICAgIGNhc2UgUkVRX09QX1dSSVRFX1pFUk9FUzoKPiA+ICAgICAgICAgICAgICAgc3BsaXQg
PSBiaW9fc3BsaXRfd3JpdGVfemVyb2VzKGJpbywgbGltLCBucl9zZWdzLCBicyk7Cj4gPiAgICAg
ICAgICAgICAgIGJyZWFrOwo+ID4gKyAgICAgY2FzZSBSRVFfT1BfUFJPVklTSU9OOgo+ID4gKyAg
ICAgICAgICAgICBzcGxpdCA9IGJpb19zcGxpdF9wcm92aXNpb24oYmlvLCBsaW0sIG5yX3NlZ3Ms
IGJzKTsKPiA+ICsgICAgICAgICAgICAgYnJlYWs7Cj4gPiAgICAgICBkZWZhdWx0Ogo+ID4gICAg
ICAgICAgICAgICBzcGxpdCA9IGJpb19zcGxpdF9ydyhiaW8sIGxpbSwgbnJfc2VncywgYnMsCj4g
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRfbWF4X2lvX3NpemUoYmlvLCBsaW0p
IDw8IFNFQ1RPUl9TSElGVCk7Cj4gPiBkaWZmIC0tZ2l0IGEvYmxvY2svYmxrLXNldHRpbmdzLmMg
Yi9ibG9jay9ibGstc2V0dGluZ3MuYwo+ID4gaW5kZXggODk2YjQ2NTRhYjAwLi5kMzAzZTY2MTRj
MzYgMTAwNjQ0Cj4gPiAtLS0gYS9ibG9jay9ibGstc2V0dGluZ3MuYwo+ID4gKysrIGIvYmxvY2sv
YmxrLXNldHRpbmdzLmMKPiA+IEBAIC01OSw2ICs1OSw3IEBAIHZvaWQgYmxrX3NldF9kZWZhdWx0
X2xpbWl0cyhzdHJ1Y3QgcXVldWVfbGltaXRzICpsaW0pCj4gPiAgICAgICBsaW0tPnpvbmVkID0g
QkxLX1pPTkVEX05PTkU7Cj4gPiAgICAgICBsaW0tPnpvbmVfd3JpdGVfZ3JhbnVsYXJpdHkgPSAw
Owo+ID4gICAgICAgbGltLT5kbWFfYWxpZ25tZW50ID0gNTExOwo+ID4gKyAgICAgbGltLT5tYXhf
cHJvdmlzaW9uX3NlY3RvcnMgPSAwOwo+ID4gIH0KPiA+Cj4gPiAgLyoqCj4gPiBAQCAtODIsNiAr
ODMsNyBAQCB2b2lkIGJsa19zZXRfc3RhY2tpbmdfbGltaXRzKHN0cnVjdCBxdWV1ZV9saW1pdHMg
KmxpbSkKPiA+ICAgICAgIGxpbS0+bWF4X2Rldl9zZWN0b3JzID0gVUlOVF9NQVg7Cj4gPiAgICAg
ICBsaW0tPm1heF93cml0ZV96ZXJvZXNfc2VjdG9ycyA9IFVJTlRfTUFYOwo+ID4gICAgICAgbGlt
LT5tYXhfem9uZV9hcHBlbmRfc2VjdG9ycyA9IFVJTlRfTUFYOwo+ID4gKyAgICAgbGltLT5tYXhf
cHJvdmlzaW9uX3NlY3RvcnMgPSBVSU5UX01BWDsKPiA+ICB9Cj4gPiAgRVhQT1JUX1NZTUJPTChi
bGtfc2V0X3N0YWNraW5nX2xpbWl0cyk7Cj4gPgo+ID4gQEAgLTIwOCw2ICsyMTAsMjAgQEAgdm9p
ZCBibGtfcXVldWVfbWF4X3dyaXRlX3plcm9lc19zZWN0b3JzKHN0cnVjdCByZXF1ZXN0X3F1ZXVl
ICpxLAo+ID4gIH0KPiA+ICBFWFBPUlRfU1lNQk9MKGJsa19xdWV1ZV9tYXhfd3JpdGVfemVyb2Vz
X3NlY3RvcnMpOwo+ID4KPiA+ICsvKioKPiA+ICsgKiBibGtfcXVldWVfbWF4X3Byb3Zpc2lvbl9z
ZWN0b3JzIC0gc2V0IG1heCBzZWN0b3JzIGZvciBhIHNpbmdsZSBwcm92aXNpb24KPiA+ICsgKgo+
ID4gKyAqIEBxOiAgdGhlIHJlcXVlc3QgcXVldWUgZm9yIHRoZSBkZXZpY2UKPiA+ICsgKiBAbWF4
X3Byb3Zpc2lvbl9zZWN0b3JzOiBtYXhpbXVtIG51bWJlciBvZiBzZWN0b3JzIHRvIHByb3Zpc2lv
biBwZXIgY29tbWFuZAo+ID4gKyAqKi8KPiA+ICsKPiA+ICt2b2lkIGJsa19xdWV1ZV9tYXhfcHJv
dmlzaW9uX3NlY3RvcnMoc3RydWN0IHJlcXVlc3RfcXVldWUgKnEsCj4gPiArICAgICAgICAgICAg
IHVuc2lnbmVkIGludCBtYXhfcHJvdmlzaW9uX3NlY3RvcnMpCj4gPiArewo+ID4gKyAgICAgcS0+
bGltaXRzLm1heF9wcm92aXNpb25fc2VjdG9ycyA9IG1heF9wcm92aXNpb25fc2VjdG9yczsKPiA+
ICt9Cj4gPiArRVhQT1JUX1NZTUJPTChibGtfcXVldWVfbWF4X3Byb3Zpc2lvbl9zZWN0b3JzKTsK
PiA+ICsKPiA+ICAvKioKPiA+ICAgKiBibGtfcXVldWVfbWF4X3pvbmVfYXBwZW5kX3NlY3RvcnMg
LSBzZXQgbWF4IHNlY3RvcnMgZm9yIGEgc2luZ2xlIHpvbmUgYXBwZW5kCj4gPiAgICogQHE6ICB0
aGUgcmVxdWVzdCBxdWV1ZSBmb3IgdGhlIGRldmljZQo+ID4gQEAgLTU3OCw2ICs1OTQsOSBAQCBp
bnQgYmxrX3N0YWNrX2xpbWl0cyhzdHJ1Y3QgcXVldWVfbGltaXRzICp0LCBzdHJ1Y3QgcXVldWVf
bGltaXRzICpiLAo+ID4gICAgICAgdC0+bWF4X3NlZ21lbnRfc2l6ZSA9IG1pbl9ub3RfemVybyh0
LT5tYXhfc2VnbWVudF9zaXplLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBiLT5tYXhfc2VnbWVudF9zaXplKTsKPiA+Cj4gPiArICAgICB0LT5tYXhfcHJvdmlz
aW9uX3NlY3RvcnMgPSBtaW5fbm90X3plcm8odC0+bWF4X3Byb3Zpc2lvbl9zZWN0b3JzLAo+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGItPm1heF9wcm92
aXNpb25fc2VjdG9ycyk7Cj4gPiArCj4gPiAgICAgICB0LT5taXNhbGlnbmVkIHw9IGItPm1pc2Fs
aWduZWQ7Cj4gPgo+ID4gICAgICAgYWxpZ25tZW50ID0gcXVldWVfbGltaXRfYWxpZ25tZW50X29m
ZnNldChiLCBzdGFydCk7Cj4gPiBkaWZmIC0tZ2l0IGEvYmxvY2svYmxrLXN5c2ZzLmMgYi9ibG9j
ay9ibGstc3lzZnMuYwo+ID4gaW5kZXggZjFmY2UxYzdmYTQ0Li4wYTMxNjUyMTFjNjYgMTAwNjQ0
Cj4gPiAtLS0gYS9ibG9jay9ibGstc3lzZnMuYwo+ID4gKysrIGIvYmxvY2svYmxrLXN5c2ZzLmMK
PiA+IEBAIC0yMTMsNiArMjEzLDEzIEBAIHN0YXRpYyBzc2l6ZV90IHF1ZXVlX2Rpc2NhcmRfemVy
b2VzX2RhdGFfc2hvdyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwgY2hhciAqcGFnCj4gPiAgICAg
ICByZXR1cm4gcXVldWVfdmFyX3Nob3coMCwgcGFnZSk7Cj4gPiAgfQo+ID4KPiA+ICtzdGF0aWMg
c3NpemVfdCBxdWV1ZV9wcm92aXNpb25fbWF4X3Nob3coc3RydWN0IHJlcXVlc3RfcXVldWUgKnEs
Cj4gPiArICAgICAgICAgICAgIGNoYXIgKnBhZ2UpCj4gPiArewo+ID4gKyAgICAgcmV0dXJuIHNw
cmludGYocGFnZSwgIiVsbHVcbiIsCj4gPiArICAgICAgICAgICAgICh1bnNpZ25lZCBsb25nIGxv
bmcpcS0+bGltaXRzLm1heF9wcm92aXNpb25fc2VjdG9ycyA8PCA5KTsKPiA+ICt9Cj4gPiArCj4g
PiAgc3RhdGljIHNzaXplX3QgcXVldWVfd3JpdGVfc2FtZV9tYXhfc2hvdyhzdHJ1Y3QgcmVxdWVz
dF9xdWV1ZSAqcSwgY2hhciAqcGFnZSkKPiA+ICB7Cj4gPiAgICAgICByZXR1cm4gcXVldWVfdmFy
X3Nob3coMCwgcGFnZSk7Cj4gPiBAQCAtNjA0LDYgKzYxMSw3IEBAIFFVRVVFX1JPX0VOVFJZKHF1
ZXVlX2Rpc2NhcmRfbWF4X2h3LCAiZGlzY2FyZF9tYXhfaHdfYnl0ZXMiKTsKPiA+ICBRVUVVRV9S
V19FTlRSWShxdWV1ZV9kaXNjYXJkX21heCwgImRpc2NhcmRfbWF4X2J5dGVzIik7Cj4gPiAgUVVF
VUVfUk9fRU5UUlkocXVldWVfZGlzY2FyZF96ZXJvZXNfZGF0YSwgImRpc2NhcmRfemVyb2VzX2Rh
dGEiKTsKPiA+Cj4gPiArUVVFVUVfUk9fRU5UUlkocXVldWVfcHJvdmlzaW9uX21heCwgInByb3Zp
c2lvbl9tYXhfYnl0ZXMiKTsKPiA+ICBRVUVVRV9ST19FTlRSWShxdWV1ZV93cml0ZV9zYW1lX21h
eCwgIndyaXRlX3NhbWVfbWF4X2J5dGVzIik7Cj4gPiAgUVVFVUVfUk9fRU5UUlkocXVldWVfd3Jp
dGVfemVyb2VzX21heCwgIndyaXRlX3plcm9lc19tYXhfYnl0ZXMiKTsKPiA+ICBRVUVVRV9ST19F
TlRSWShxdWV1ZV96b25lX2FwcGVuZF9tYXgsICJ6b25lX2FwcGVuZF9tYXhfYnl0ZXMiKTsKPiA+
IEBAIC02NjEsNiArNjY5LDcgQEAgc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGUgKnF1ZXVlX2F0dHJz
W10gPSB7Cj4gPiAgICAgICAmcXVldWVfZGlzY2FyZF9tYXhfZW50cnkuYXR0ciwKPiA+ICAgICAg
ICZxdWV1ZV9kaXNjYXJkX21heF9od19lbnRyeS5hdHRyLAo+ID4gICAgICAgJnF1ZXVlX2Rpc2Nh
cmRfemVyb2VzX2RhdGFfZW50cnkuYXR0ciwKPiA+ICsgICAgICZxdWV1ZV9wcm92aXNpb25fbWF4
X2VudHJ5LmF0dHIsCj4gPiAgICAgICAmcXVldWVfd3JpdGVfc2FtZV9tYXhfZW50cnkuYXR0ciwK
PiA+ICAgICAgICZxdWV1ZV93cml0ZV96ZXJvZXNfbWF4X2VudHJ5LmF0dHIsCj4gPiAgICAgICAm
cXVldWVfem9uZV9hcHBlbmRfbWF4X2VudHJ5LmF0dHIsCj4gPiBkaWZmIC0tZ2l0IGEvYmxvY2sv
Ym91bmNlLmMgYi9ibG9jay9ib3VuY2UuYwo+ID4gaW5kZXggN2NmY2IyNDJmOWExLi5hYjlkODcy
M2FlNjQgMTAwNjQ0Cj4gPiAtLS0gYS9ibG9jay9ib3VuY2UuYwo+ID4gKysrIGIvYmxvY2svYm91
bmNlLmMKPiA+IEBAIC0xNzYsNiArMTc2LDcgQEAgc3RhdGljIHN0cnVjdCBiaW8gKmJvdW5jZV9j
bG9uZV9iaW8oc3RydWN0IGJpbyAqYmlvX3NyYykKPiA+ICAgICAgIGNhc2UgUkVRX09QX0RJU0NB
UkQ6Cj4gPiAgICAgICBjYXNlIFJFUV9PUF9TRUNVUkVfRVJBU0U6Cj4gPiAgICAgICBjYXNlIFJF
UV9PUF9XUklURV9aRVJPRVM6Cj4gPiArICAgICBjYXNlIFJFUV9PUF9QUk9WSVNJT046Cj4gPiAg
ICAgICAgICAgICAgIGJyZWFrOwo+ID4gICAgICAgZGVmYXVsdDoKPiA+ICAgICAgICAgICAgICAg
YmlvX2Zvcl9lYWNoX3NlZ21lbnQoYnYsIGJpb19zcmMsIGl0ZXIpCj4gPiBkaWZmIC0tZ2l0IGEv
YmxvY2svZm9wcy5jIGIvYmxvY2svZm9wcy5jCj4gPiBpbmRleCA0YzcwZmRjNTQ2ZTcuLmJlMmU0
MWYxNjBiZiAxMDA2NDQKPiA+IC0tLSBhL2Jsb2NrL2ZvcHMuYwo+ID4gKysrIGIvYmxvY2svZm9w
cy5jCj4gPiBAQCAtNjEzLDcgKzYxMyw4IEBAIHN0YXRpYyBzc2l6ZV90IGJsa2Rldl9yZWFkX2l0
ZXIoc3RydWN0IGtpb2NiICppb2NiLCBzdHJ1Y3QgaW92X2l0ZXIgKnRvKQo+ID4KPiA+ICAjZGVm
aW5lICAgICAgQkxLREVWX0ZBTExPQ19GTF9TVVBQT1JURUQgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFwKPiA+ICAgICAgICAgICAgICAgKEZBTExPQ19GTF9LRUVQX1NJWkUg
fCBGQUxMT0NfRkxfUFVOQ0hfSE9MRSB8ICAgICAgICAgICBcCj4gPiAtICAgICAgICAgICAgICBG
QUxMT0NfRkxfWkVST19SQU5HRSB8IEZBTExPQ19GTF9OT19ISURFX1NUQUxFKQo+ID4gKyAgICAg
ICAgICAgICAgRkFMTE9DX0ZMX1pFUk9fUkFOR0UgfCBGQUxMT0NfRkxfTk9fSElERV9TVEFMRSB8
ICAgICAgIFwKPiA+ICsgICAgICAgICAgICAgIEZBTExPQ19GTF9VTlNIQVJFX1JBTkdFKQo+ID4K
PiA+ICBzdGF0aWMgbG9uZyBibGtkZXZfZmFsbG9jYXRlKHN0cnVjdCBmaWxlICpmaWxlLCBpbnQg
bW9kZSwgbG9mZl90IHN0YXJ0LAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9mZl90
IGxlbikKPiA+IEBAIC02NTMsNiArNjU0LDEzIEBAIHN0YXRpYyBsb25nIGJsa2Rldl9mYWxsb2Nh
dGUoc3RydWN0IGZpbGUgKmZpbGUsIGludCBtb2RlLCBsb2ZmX3Qgc3RhcnQsCj4gPiAgICAgICAg
KiBkZS1hbGxvY2F0ZSBtb2RlIGNhbGxzIHRvIGZhbGxvY2F0ZSgpLgo+ID4gICAgICAgICovCj4g
PiAgICAgICBzd2l0Y2ggKG1vZGUpIHsKPiA+ICsgICAgIGNhc2UgMDoKPiA+ICsgICAgIGNhc2Ug
RkFMTE9DX0ZMX1VOU0hBUkVfUkFOR0U6Cj4gPiArICAgICBjYXNlIEZBTExPQ19GTF9LRUVQX1NJ
WkU6Cj4gPiArICAgICBjYXNlIEZBTExPQ19GTF9VTlNIQVJFX1JBTkdFIHwgRkFMTE9DX0ZMX0tF
RVBfU0laRToKPiA+ICsgICAgICAgICAgICAgZXJyb3IgPSBibGtkZXZfaXNzdWVfcHJvdmlzaW9u
KGJkZXYsIHN0YXJ0ID4+IFNFQ1RPUl9TSElGVCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGxlbiA+PiBTRUNUT1JfU0hJRlQsIEdGUF9LRVJORUwpOwo+
ID4gKyAgICAgICAgICAgICBicmVhazsKPiA+ICAgICAgIGNhc2UgRkFMTE9DX0ZMX1pFUk9fUkFO
R0U6Cj4gPiAgICAgICBjYXNlIEZBTExPQ19GTF9aRVJPX1JBTkdFIHwgRkFMTE9DX0ZMX0tFRVBf
U0laRToKPiA+ICAgICAgICAgICAgICAgZXJyb3IgPSB0cnVuY2F0ZV9iZGV2X3JhbmdlKGJkZXYs
IGZpbGUtPmZfbW9kZSwgc3RhcnQsIGVuZCk7Cj4gPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51
eC9iaW8uaCBiL2luY2x1ZGUvbGludXgvYmlvLmgKPiA+IGluZGV4IGQ3NjZiZTcxNTJlMS4uOTgy
MGIzYjAzOWYyIDEwMDY0NAo+ID4gLS0tIGEvaW5jbHVkZS9saW51eC9iaW8uaAo+ID4gKysrIGIv
aW5jbHVkZS9saW51eC9iaW8uaAo+ID4gQEAgLTU3LDcgKzU3LDggQEAgc3RhdGljIGlubGluZSBi
b29sIGJpb19oYXNfZGF0YShzdHJ1Y3QgYmlvICpiaW8pCj4gPiAgICAgICAgICAgYmlvLT5iaV9p
dGVyLmJpX3NpemUgJiYKPiA+ICAgICAgICAgICBiaW9fb3AoYmlvKSAhPSBSRVFfT1BfRElTQ0FS
RCAmJgo+ID4gICAgICAgICAgIGJpb19vcChiaW8pICE9IFJFUV9PUF9TRUNVUkVfRVJBU0UgJiYK
PiA+IC0gICAgICAgICBiaW9fb3AoYmlvKSAhPSBSRVFfT1BfV1JJVEVfWkVST0VTKQo+ID4gKyAg
ICAgICAgIGJpb19vcChiaW8pICE9IFJFUV9PUF9XUklURV9aRVJPRVMgJiYKPiA+ICsgICAgICAg
ICBiaW9fb3AoYmlvKSAhPSBSRVFfT1BfUFJPVklTSU9OKQo+ID4gICAgICAgICAgICAgICByZXR1
cm4gdHJ1ZTsKPiA+Cj4gPiAgICAgICByZXR1cm4gZmFsc2U7Cj4gPiBAQCAtNjcsNyArNjgsOCBA
QCBzdGF0aWMgaW5saW5lIGJvb2wgYmlvX25vX2FkdmFuY2VfaXRlcihjb25zdCBzdHJ1Y3QgYmlv
ICpiaW8pCj4gPiAgewo+ID4gICAgICAgcmV0dXJuIGJpb19vcChiaW8pID09IFJFUV9PUF9ESVND
QVJEIHx8Cj4gPiAgICAgICAgICAgICAgYmlvX29wKGJpbykgPT0gUkVRX09QX1NFQ1VSRV9FUkFT
RSB8fAo+ID4gLSAgICAgICAgICAgIGJpb19vcChiaW8pID09IFJFUV9PUF9XUklURV9aRVJPRVM7
Cj4gPiArICAgICAgICAgICAgYmlvX29wKGJpbykgPT0gUkVRX09QX1dSSVRFX1pFUk9FUyB8fAo+
ID4gKyAgICAgICAgICAgIGJpb19vcChiaW8pID09IFJFUV9PUF9QUk9WSVNJT047Cj4gPiAgfQo+
ID4KPiA+ICBzdGF0aWMgaW5saW5lIHZvaWQgKmJpb19kYXRhKHN0cnVjdCBiaW8gKmJpbykKPiA+
IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2Jsa190eXBlcy5oIGIvaW5jbHVkZS9saW51eC9i
bGtfdHlwZXMuaAo+ID4gaW5kZXggOTliZTU5MGY5NTJmLi4yN2JkZjg4ZjU0MWMgMTAwNjQ0Cj4g
PiAtLS0gYS9pbmNsdWRlL2xpbnV4L2Jsa190eXBlcy5oCj4gPiArKysgYi9pbmNsdWRlL2xpbnV4
L2Jsa190eXBlcy5oCj4gPiBAQCAtMzg1LDcgKzM4NSwxMCBAQCBlbnVtIHJlcV9vcCB7Cj4gPiAg
ICAgICBSRVFfT1BfRFJWX0lOICAgICAgICAgICA9IChfX2ZvcmNlIGJsa19vcGZfdCkzNCwKPiA+
ICAgICAgIFJFUV9PUF9EUlZfT1VUICAgICAgICAgID0gKF9fZm9yY2UgYmxrX29wZl90KTM1LAo+
ID4KPiA+IC0gICAgIFJFUV9PUF9MQVNUICAgICAgICAgICAgID0gKF9fZm9yY2UgYmxrX29wZl90
KTM2LAo+ID4gKyAgICAgLyogcmVxdWVzdCBkZXZpY2UgdG8gcHJvdmlzaW9uIGJsb2NrICovCj4g
PiArICAgICBSRVFfT1BfUFJPVklTSU9OICAgICAgICA9IChfX2ZvcmNlIGJsa19vcGZfdCkzNywK
PiA+ICsKPiA+ICsgICAgIFJFUV9PUF9MQVNUICAgICAgICAgICAgID0gKF9fZm9yY2UgYmxrX29w
Zl90KTM4LAo+ID4gIH07Cj4gPgo+ID4gIGVudW0gcmVxX2ZsYWdfYml0cyB7Cj4gPiBkaWZmIC0t
Z2l0IGEvaW5jbHVkZS9saW51eC9ibGtkZXYuaCBiL2luY2x1ZGUvbGludXgvYmxrZGV2LmgKPiA+
IGluZGV4IDk0MTMwNGYxNzQ5Mi4uMjM5ZTJmNDE4YjZlIDEwMDY0NAo+ID4gLS0tIGEvaW5jbHVk
ZS9saW51eC9ibGtkZXYuaAo+ID4gKysrIGIvaW5jbHVkZS9saW51eC9ibGtkZXYuaAo+ID4gQEAg
LTMwMyw2ICszMDMsNyBAQCBzdHJ1Y3QgcXVldWVfbGltaXRzIHsKPiA+ICAgICAgIHVuc2lnbmVk
IGludCAgICAgICAgICAgIGRpc2NhcmRfZ3JhbnVsYXJpdHk7Cj4gPiAgICAgICB1bnNpZ25lZCBp
bnQgICAgICAgICAgICBkaXNjYXJkX2FsaWdubWVudDsKPiA+ICAgICAgIHVuc2lnbmVkIGludCAg
ICAgICAgICAgIHpvbmVfd3JpdGVfZ3JhbnVsYXJpdHk7Cj4gPiArICAgICB1bnNpZ25lZCBpbnQg
ICAgICAgICAgICBtYXhfcHJvdmlzaW9uX3NlY3RvcnM7Cj4gPgo+ID4gICAgICAgdW5zaWduZWQg
c2hvcnQgICAgICAgICAgbWF4X3NlZ21lbnRzOwo+ID4gICAgICAgdW5zaWduZWQgc2hvcnQgICAg
ICAgICAgbWF4X2ludGVncml0eV9zZWdtZW50czsKPiA+IEBAIC05MjEsNiArOTIyLDggQEAgZXh0
ZXJuIHZvaWQgYmxrX3F1ZXVlX21heF9kaXNjYXJkX3NlY3RvcnMoc3RydWN0IHJlcXVlc3RfcXVl
dWUgKnEsCj4gPiAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBtYXhfZGlzY2FyZF9zZWN0b3Jz
KTsKPiA+ICBleHRlcm4gdm9pZCBibGtfcXVldWVfbWF4X3dyaXRlX3plcm9lc19zZWN0b3JzKHN0
cnVjdCByZXF1ZXN0X3F1ZXVlICpxLAo+ID4gICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgbWF4
X3dyaXRlX3NhbWVfc2VjdG9ycyk7Cj4gPiArZXh0ZXJuIHZvaWQgYmxrX3F1ZXVlX21heF9wcm92
aXNpb25fc2VjdG9ycyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwKPiA+ICsgICAgICAgICAgICAg
dW5zaWduZWQgaW50IG1heF9wcm92aXNpb25fc2VjdG9ycyk7Cj4gPiAgZXh0ZXJuIHZvaWQgYmxr
X3F1ZXVlX2xvZ2ljYWxfYmxvY2tfc2l6ZShzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqLCB1bnNpZ25l
ZCBpbnQpOwo+ID4gIGV4dGVybiB2b2lkIGJsa19xdWV1ZV9tYXhfem9uZV9hcHBlbmRfc2VjdG9y
cyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwKPiA+ICAgICAgICAgICAgICAgdW5zaWduZWQgaW50
IG1heF96b25lX2FwcGVuZF9zZWN0b3JzKTsKPiA+IEBAIC0xMDYwLDYgKzEwNjMsOSBAQCBpbnQg
X19ibGtkZXZfaXNzdWVfZGlzY2FyZChzdHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2LCBzZWN0b3Jf
dCBzZWN0b3IsCj4gPiAgaW50IGJsa2Rldl9pc3N1ZV9zZWN1cmVfZXJhc2Uoc3RydWN0IGJsb2Nr
X2RldmljZSAqYmRldiwgc2VjdG9yX3Qgc2VjdG9yLAo+ID4gICAgICAgICAgICAgICBzZWN0b3Jf
dCBucl9zZWN0cywgZ2ZwX3QgZ2ZwKTsKPiA+Cj4gPiArZXh0ZXJuIGludCBibGtkZXZfaXNzdWVf
cHJvdmlzaW9uKHN0cnVjdCBibG9ja19kZXZpY2UgKmJkZXYsIHNlY3Rvcl90IHNlY3RvciwKPiA+
ICsgICAgICAgICAgICAgc2VjdG9yX3QgbnJfc2VjdHMsIGdmcF90IGdmcF9tYXNrKTsKPiA+ICsK
PiA+ICAjZGVmaW5lIEJMS0RFVl9aRVJPX05PVU5NQVAgICgxIDw8IDApICAvKiBkbyBub3QgZnJl
ZSBibG9ja3MgKi8KPiA+ICAjZGVmaW5lIEJMS0RFVl9aRVJPX05PRkFMTEJBQ0sgICAgICAgKDEg
PDwgMSkgIC8qIGRvbid0IHdyaXRlIGV4cGxpY2l0IHplcm9lcyAqLwo+ID4KPiA+IEBAIC0xMTM5
LDYgKzExNDUsMTEgQEAgc3RhdGljIGlubGluZSB1bnNpZ25lZCBzaG9ydCBxdWV1ZV9tYXhfZGlz
Y2FyZF9zZWdtZW50cyhjb25zdCBzdHJ1Y3QgcmVxdWVzdF9xdWUKPiA+ICAgICAgIHJldHVybiBx
LT5saW1pdHMubWF4X2Rpc2NhcmRfc2VnbWVudHM7Cj4gPiAgfQo+ID4KPiA+ICtzdGF0aWMgaW5s
aW5lIHVuc2lnbmVkIHNob3J0IHF1ZXVlX21heF9wcm92aXNpb25fc2VjdG9ycyhjb25zdCBzdHJ1
Y3QgcmVxdWVzdF9xdWV1ZSAqcSkKPiA+ICt7Cj4gPiArICAgICByZXR1cm4gcS0+bGltaXRzLm1h
eF9wcm92aXNpb25fc2VjdG9yczsKPiA+ICt9Cj4gPiArCj4gPiAgc3RhdGljIGlubGluZSB1bnNp
Z25lZCBpbnQgcXVldWVfbWF4X3NlZ21lbnRfc2l6ZShjb25zdCBzdHJ1Y3QgcmVxdWVzdF9xdWV1
ZSAqcSkKPiA+ICB7Cj4gPiAgICAgICByZXR1cm4gcS0+bGltaXRzLm1heF9zZWdtZW50X3NpemU7
Cj4gPiBAQCAtMTI4MSw2ICsxMjkyLDExIEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBiZGV2X25vd2Fp
dChzdHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2KQo+ID4gICAgICAgcmV0dXJuIHRlc3RfYml0KFFV
RVVFX0ZMQUdfTk9XQUlULCAmYmRldl9nZXRfcXVldWUoYmRldiktPnF1ZXVlX2ZsYWdzKTsKPiA+
ICB9Cj4gPgo+ID4gK3N0YXRpYyBpbmxpbmUgdW5zaWduZWQgaW50IGJkZXZfbWF4X3Byb3Zpc2lv
bl9zZWN0b3JzKHN0cnVjdCBibG9ja19kZXZpY2UgKmJkZXYpCj4gPiArewo+ID4gKyAgICAgcmV0
dXJuIGJkZXZfZ2V0X3F1ZXVlKGJkZXYpLT5saW1pdHMubWF4X3Byb3Zpc2lvbl9zZWN0b3JzOwo+
ID4gK30KPiA+ICsKPiA+ICBzdGF0aWMgaW5saW5lIGVudW0gYmxrX3pvbmVkX21vZGVsIGJkZXZf
em9uZWRfbW9kZWwoc3RydWN0IGJsb2NrX2RldmljZSAqYmRldikKPiA+ICB7Cj4gPiAgICAgICBy
ZXR1cm4gYmxrX3F1ZXVlX3pvbmVkX21vZGVsKGJkZXZfZ2V0X3F1ZXVlKGJkZXYpKTsKPiA+IC0t
Cj4gPiAyLjQwLjEuNTIxLmdmMWUyMThmY2Q4LWdvb2cKPiA+CgotLQpkbS1kZXZlbCBtYWlsaW5n
IGxpc3QKZG0tZGV2ZWxAcmVkaGF0LmNvbQpodHRwczovL2xpc3RtYW4ucmVkaGF0LmNvbS9tYWls
bWFuL2xpc3RpbmZvL2RtLWRldmVsCg==

